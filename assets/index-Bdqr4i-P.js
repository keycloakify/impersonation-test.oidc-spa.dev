(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function a(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=a(c);fetch(c.href,d)}})();function Rf(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var fl={exports:{}},Zs={},pl={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function Sh(){if(Fd)return ht;Fd=1;var u=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),Z=Symbol.iterator;function Q(x){return x===null||typeof x!="object"?null:(x=Z&&x[Z]||x["@@iterator"],typeof x=="function"?x:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,O={};function R(x,$,De){this.props=x,this.context=$,this.refs=O,this.updater=De||P}R.prototype.isReactComponent={},R.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},R.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function H(){}H.prototype=R.prototype;function z(x,$,De){this.props=x,this.context=$,this.refs=O,this.updater=De||P}var te=z.prototype=new H;te.constructor=z,U(te,R.prototype),te.isPureReactComponent=!0;var X=Array.isArray,oe=Object.prototype.hasOwnProperty,se={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function me(x,$,De){var le,Be={},$e=null,ot=null;if($!=null)for(le in $.ref!==void 0&&(ot=$.ref),$.key!==void 0&&($e=""+$.key),$)oe.call($,le)&&!Y.hasOwnProperty(le)&&(Be[le]=$[le]);var it=arguments.length-2;if(it===1)Be.children=De;else if(1<it){for(var nt=Array(it),Nt=0;Nt<it;Nt++)nt[Nt]=arguments[Nt+2];Be.children=nt}if(x&&x.defaultProps)for(le in it=x.defaultProps,it)Be[le]===void 0&&(Be[le]=it[le]);return{$$typeof:u,type:x,key:$e,ref:ot,props:Be,_owner:se.current}}function Fe(x,$){return{$$typeof:u,type:x.type,key:$,ref:x.ref,props:x.props,_owner:x._owner}}function ft(x){return typeof x=="object"&&x!==null&&x.$$typeof===u}function qe(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(De){return $[De]})}var rt=/\/+/g;function at(x,$){return typeof x=="object"&&x!==null&&x.key!=null?qe(""+x.key):$.toString(36)}function pt(x,$,De,le,Be){var $e=typeof x;($e==="undefined"||$e==="boolean")&&(x=null);var ot=!1;if(x===null)ot=!0;else switch($e){case"string":case"number":ot=!0;break;case"object":switch(x.$$typeof){case u:case i:ot=!0}}if(ot)return ot=x,Be=Be(ot),x=le===""?"."+at(ot,0):le,X(Be)?(De="",x!=null&&(De=x.replace(rt,"$&/")+"/"),pt(Be,$,De,"",function(Nt){return Nt})):Be!=null&&(ft(Be)&&(Be=Fe(Be,De+(!Be.key||ot&&ot.key===Be.key?"":(""+Be.key).replace(rt,"$&/")+"/")+x)),$.push(Be)),1;if(ot=0,le=le===""?".":le+":",X(x))for(var it=0;it<x.length;it++){$e=x[it];var nt=le+at($e,it);ot+=pt($e,$,De,nt,Be)}else if(nt=Q(x),typeof nt=="function")for(x=nt.call(x),it=0;!($e=x.next()).done;)$e=$e.value,nt=le+at($e,it++),ot+=pt($e,$,De,nt,Be);else if($e==="object")throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ot}function xe(x,$,De){if(x==null)return x;var le=[],Be=0;return pt(x,le,"","",function($e){return $.call(De,$e,Be++)}),le}function Ue(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(De){(x._status===0||x._status===-1)&&(x._status=1,x._result=De)},function(De){(x._status===0||x._status===-1)&&(x._status=2,x._result=De)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var ye={current:null},K={transition:null},b={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:K,ReactCurrentOwner:se};function ue(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:xe,forEach:function(x,$,De){xe(x,function(){$.apply(this,arguments)},De)},count:function(x){var $=0;return xe(x,function(){$++}),$},toArray:function(x){return xe(x,function($){return $})||[]},only:function(x){if(!ft(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ht.Component=R,ht.Fragment=a,ht.Profiler=c,ht.PureComponent=z,ht.StrictMode=l,ht.Suspense=T,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b,ht.act=ue,ht.cloneElement=function(x,$,De){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var le=U({},x.props),Be=x.key,$e=x.ref,ot=x._owner;if($!=null){if($.ref!==void 0&&($e=$.ref,ot=se.current),$.key!==void 0&&(Be=""+$.key),x.type&&x.type.defaultProps)var it=x.type.defaultProps;for(nt in $)oe.call($,nt)&&!Y.hasOwnProperty(nt)&&(le[nt]=$[nt]===void 0&&it!==void 0?it[nt]:$[nt])}var nt=arguments.length-2;if(nt===1)le.children=De;else if(1<nt){it=Array(nt);for(var Nt=0;Nt<nt;Nt++)it[Nt]=arguments[Nt+2];le.children=it}return{$$typeof:u,type:x.type,key:Be,ref:$e,props:le,_owner:ot}},ht.createContext=function(x){return x={$$typeof:m,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:d,_context:x},x.Consumer=x},ht.createElement=me,ht.createFactory=function(x){var $=me.bind(null,x);return $.type=x,$},ht.createRef=function(){return{current:null}},ht.forwardRef=function(x){return{$$typeof:v,render:x}},ht.isValidElement=ft,ht.lazy=function(x){return{$$typeof:N,_payload:{_status:-1,_result:x},_init:Ue}},ht.memo=function(x,$){return{$$typeof:C,type:x,compare:$===void 0?null:$}},ht.startTransition=function(x){var $=K.transition;K.transition={};try{x()}finally{K.transition=$}},ht.unstable_act=ue,ht.useCallback=function(x,$){return ye.current.useCallback(x,$)},ht.useContext=function(x){return ye.current.useContext(x)},ht.useDebugValue=function(){},ht.useDeferredValue=function(x){return ye.current.useDeferredValue(x)},ht.useEffect=function(x,$){return ye.current.useEffect(x,$)},ht.useId=function(){return ye.current.useId()},ht.useImperativeHandle=function(x,$,De){return ye.current.useImperativeHandle(x,$,De)},ht.useInsertionEffect=function(x,$){return ye.current.useInsertionEffect(x,$)},ht.useLayoutEffect=function(x,$){return ye.current.useLayoutEffect(x,$)},ht.useMemo=function(x,$){return ye.current.useMemo(x,$)},ht.useReducer=function(x,$,De){return ye.current.useReducer(x,$,De)},ht.useRef=function(x){return ye.current.useRef(x)},ht.useState=function(x){return ye.current.useState(x)},ht.useSyncExternalStore=function(x,$,De){return ye.current.useSyncExternalStore(x,$,De)},ht.useTransition=function(){return ye.current.useTransition()},ht.version="18.3.1",ht}var Hd;function ha(){return Hd||(Hd=1,pl.exports=Sh()),pl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function bh(){if(qd)return Zs;qd=1;var u=ha(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(v,T,C){var N,Z={},Q=null,P=null;C!==void 0&&(Q=""+C),T.key!==void 0&&(Q=""+T.key),T.ref!==void 0&&(P=T.ref);for(N in T)l.call(T,N)&&!d.hasOwnProperty(N)&&(Z[N]=T[N]);if(v&&v.defaultProps)for(N in T=v.defaultProps,T)Z[N]===void 0&&(Z[N]=T[N]);return{$$typeof:i,type:v,key:Q,ref:P,props:Z,_owner:c.current}}return Zs.Fragment=a,Zs.jsx=m,Zs.jsxs=m,Zs}var Wd;function Uf(){return Wd||(Wd=1,fl.exports=bh()),fl.exports}var _n=Uf(),Th=ha();const Eh=Rf(Th);var go={},hl={exports:{}},Dn={},gl={exports:{}},ml={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function Oh(){return Vd||(Vd=1,function(u){function i(K,b){var ue=K.length;K.push(b);e:for(;0<ue;){var x=ue-1>>>1,$=K[x];if(0<c($,b))K[x]=b,K[ue]=$,ue=x;else break e}}function a(K){return K.length===0?null:K[0]}function l(K){if(K.length===0)return null;var b=K[0],ue=K.pop();if(ue!==b){K[0]=ue;e:for(var x=0,$=K.length,De=$>>>1;x<De;){var le=2*(x+1)-1,Be=K[le],$e=le+1,ot=K[$e];if(0>c(Be,ue))$e<$&&0>c(ot,Be)?(K[x]=ot,K[$e]=ue,x=$e):(K[x]=Be,K[le]=ue,x=le);else if($e<$&&0>c(ot,ue))K[x]=ot,K[$e]=ue,x=$e;else break e}}return b}function c(K,b){var ue=K.sortIndex-b.sortIndex;return ue!==0?ue:K.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var m=Date,v=m.now();u.unstable_now=function(){return m.now()-v}}var T=[],C=[],N=1,Z=null,Q=3,P=!1,U=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(K){for(var b=a(C);b!==null;){if(b.callback===null)l(C);else if(b.startTime<=K)l(C),b.sortIndex=b.expirationTime,i(T,b);else break;b=a(C)}}function X(K){if(O=!1,te(K),!U)if(a(T)!==null)U=!0,Ue(oe);else{var b=a(C);b!==null&&ye(X,b.startTime-K)}}function oe(K,b){U=!1,O&&(O=!1,H(me),me=-1),P=!0;var ue=Q;try{for(te(b),Z=a(T);Z!==null&&(!(Z.expirationTime>b)||K&&!qe());){var x=Z.callback;if(typeof x=="function"){Z.callback=null,Q=Z.priorityLevel;var $=x(Z.expirationTime<=b);b=u.unstable_now(),typeof $=="function"?Z.callback=$:Z===a(T)&&l(T),te(b)}else l(T);Z=a(T)}if(Z!==null)var De=!0;else{var le=a(C);le!==null&&ye(X,le.startTime-b),De=!1}return De}finally{Z=null,Q=ue,P=!1}}var se=!1,Y=null,me=-1,Fe=5,ft=-1;function qe(){return!(u.unstable_now()-ft<Fe)}function rt(){if(Y!==null){var K=u.unstable_now();ft=K;var b=!0;try{b=Y(!0,K)}finally{b?at():(se=!1,Y=null)}}else se=!1}var at;if(typeof z=="function")at=function(){z(rt)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,xe=pt.port2;pt.port1.onmessage=rt,at=function(){xe.postMessage(null)}}else at=function(){R(rt,0)};function Ue(K){Y=K,se||(se=!0,at())}function ye(K,b){me=R(function(){K(u.unstable_now())},b)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(K){K.callback=null},u.unstable_continueExecution=function(){U||P||(U=!0,Ue(oe))},u.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<K?Math.floor(1e3/K):5},u.unstable_getCurrentPriorityLevel=function(){return Q},u.unstable_getFirstCallbackNode=function(){return a(T)},u.unstable_next=function(K){switch(Q){case 1:case 2:case 3:var b=3;break;default:b=Q}var ue=Q;Q=b;try{return K()}finally{Q=ue}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(K,b){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ue=Q;Q=K;try{return b()}finally{Q=ue}},u.unstable_scheduleCallback=function(K,b,ue){var x=u.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?x+ue:x):ue=x,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ue+$,K={id:N++,callback:b,priorityLevel:K,startTime:ue,expirationTime:$,sortIndex:-1},ue>x?(K.sortIndex=ue,i(C,K),a(T)===null&&K===a(C)&&(O?(H(me),me=-1):O=!0,ye(X,ue-x))):(K.sortIndex=$,i(T,K),U||P||(U=!0,Ue(oe))),K},u.unstable_shouldYield=qe,u.unstable_wrapCallback=function(K){var b=Q;return function(){var ue=Q;Q=b;try{return K.apply(this,arguments)}finally{Q=ue}}}}(ml)),ml}var $d;function Ch(){return $d||($d=1,gl.exports=Oh()),gl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function Ph(){if(Bd)return Dn;Bd=1;var u=ha(),i=Ch();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function d(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T=Object.prototype.hasOwnProperty,C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},Z={};function Q(e){return T.call(Z,e)?!0:T.call(N,e)?!1:C.test(e)?Z[e]=!0:(N[e]=!0,!1)}function P(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U(e,t,n,r){if(t===null||typeof t>"u"||P(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,n,r,s,o,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=g}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H,z);R[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H,z);R[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H,z);R[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function te(e,t,n,r){var s=R.hasOwnProperty(t)?R[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U(t,n,s,r)&&(n=null),r||s===null?Q(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var X=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),se=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),Fe=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),qe=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),K=Symbol.iterator;function b(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,x;function $(e){if(x===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return`
`+x+e}var De=!1;function le(e,t){if(!e||De)return"";De=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ie){var r=ie}Reflect.construct(e,[],t)}else{try{t.call()}catch(ie){r=ie}e.call(t.prototype)}else{try{throw Error()}catch(ie){r=ie}e()}}catch(ie){if(ie&&r&&typeof ie.stack=="string"){for(var s=ie.stack.split(`
`),o=r.stack.split(`
`),g=s.length-1,j=o.length-1;1<=g&&0<=j&&s[g]!==o[j];)j--;for(;1<=g&&0<=j;g--,j--)if(s[g]!==o[j]){if(g!==1||j!==1)do if(g--,j--,0>j||s[g]!==o[j]){var D=`
`+s[g].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=g&&0<=j);break}}}finally{De=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function Be(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function $e(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case se:return"Portal";case Fe:return"Profiler";case me:return"StrictMode";case at:return"Suspense";case pt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qe:return(e.displayName||"Context")+".Consumer";case ft:return(e._context.displayName||"Context")+".Provider";case rt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return t=e.displayName||null,t!==null?t:$e(e.type)||"Memo";case Ue:t=e._payload,e=e._init;try{return $e(e(t))}catch{}}return null}function ot(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(t);case 8:return t===me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function it(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nt(e){var t=nt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(g){r=""+g,o.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ot(e){e._valueTracker||(e._valueTracker=Nt(e))}function Gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nt(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $t(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pe(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=it(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ht(e,t){t=t.checked,t!=null&&te(e,"checked",t,!1)}function qt(e,t){Ht(e,t);var n=it(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tn(e,t.type,n):t.hasOwnProperty("defaultValue")&&tn(e,t.type,it(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tn(e,t,n){(t!=="number"||Fn(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var un=Array.isArray;function Ye(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+it(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Cr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hn(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(un(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:it(n)}}function qn(e,t){var n=it(t.value),r=it(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Fr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cn,fn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cn=Cn||document.createElement("div"),Cn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pr=["Webkit","ms","Moz","O"];Object.keys(Qt).forEach(function(e){pr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]})});function pn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function hr(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pn(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hr=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xn(e,t){if(t){if(Hr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Wn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vn=null;function er(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $n=null,Pn=null,tr=null;function Si(e){if(e=Us(e)){if(typeof $n!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Pa(t),$n(e.stateNode,e.type,t))}}function gr(e){Pn?tr?tr.push(e):tr=[e]:Pn=e}function xn(){if(Pn){var e=Pn,t=tr;if(tr=Pn=null,Si(e),t)for(e=0;e<t.length;e++)Si(t[e])}}function Pr(e,t){return e(t)}function qr(){}var nr=!1;function Ir(e,t,n){if(nr)return e(t,n);nr=!0;try{return Pr(e,t,n)}finally{nr=!1,(Pn!==null||tr!==null)&&(qr(),xn())}}function mr(e,t){var n=e.stateNode;if(n===null)return null;var r=Pa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var ni=!1;if(v)try{var In={};Object.defineProperty(In,"passive",{get:function(){ni=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{ni=!1}function bi(e,t,n,r,s,o,g,j,D){var ie=Array.prototype.slice.call(arguments,3);try{t.apply(n,ie)}catch(ve){this.onError(ve)}}var rr=!1,vr=null,Rr=!1,Rn=null,ln={onError:function(e){rr=!0,vr=e}};function Pe(e,t,n,r,s,o,g,j,D){rr=!1,vr=null,bi.apply(ln,arguments)}function st(e,t,n,r,s,o,g,j,D){if(Pe.apply(this,arguments),rr){if(rr){var ie=vr;rr=!1,vr=null}else throw Error(a(198));Rr||(Rr=!0,Rn=ie)}}function gt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yt(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kt(e){if(gt(e)!==e)throw Error(a(188))}function rn(e){var t=e.alternate;if(!t){if(t=gt(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return kt(s),e;if(o===r)return kt(s),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=o;else{for(var g=!1,j=s.child;j;){if(j===n){g=!0,n=s,r=o;break}if(j===r){g=!0,r=s,n=o;break}j=j.sibling}if(!g){for(j=o.child;j;){if(j===n){g=!0,n=o,r=s;break}if(j===r){g=!0,r=o,n=s;break}j=j.sibling}if(!g)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function Kt(e){return e=rn(e),e!==null?ir(e):null}function ir(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ir(e);if(t!==null)return t;e=e.sibling}return null}var Bn=i.unstable_scheduleCallback,yr=i.unstable_cancelCallback,Un=i.unstable_shouldYield,Ut=i.unstable_requestPaint,mt=i.unstable_now,Ct=i.unstable_getCurrentPriorityLevel,hn=i.unstable_ImmediatePriority,_=i.unstable_UserBlockingPriority,f=i.unstable_NormalPriority,h=i.unstable_LowPriority,p=i.unstable_IdlePriority,k=null,y=null;function w(e){if(y&&typeof y.onCommitFiberRoot=="function")try{y.onCommitFiberRoot(k,e,void 0,(e.current.flags&128)===128)}catch{}}var S=Math.clz32?Math.clz32:A,E=Math.log,I=Math.LN2;function A(e){return e>>>=0,e===0?32:31-(E(e)/I|0)|0}var M=64,B=4194304;function ae(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ce(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,g=n&268435455;if(g!==0){var j=g&~s;j!==0?r=ae(j):(o&=g,o!==0&&(r=ae(o)))}else g=n&~s,g!==0?r=ae(g):o!==0&&(r=ae(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-S(t),s=1<<n,r|=e[n],t&=~s;return r}function ne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function he(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var g=31-S(o),j=1<<g,D=s[g];D===-1?(!(j&n)||j&r)&&(s[g]=ne(j,t)):D<=t&&(e.expiredLanes|=j),o&=~j}}function Ce(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fe(){var e=M;return M<<=1,!(M&4194240)&&(M=64),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ze(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-S(t),e[t]=n}function vt(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-S(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-S(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ee=0;function ut(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qe,Ie,St,Pt,At,Wt=!1,Lt=[],de=null,F=null,L=null,G=new Map,W=new Map,q=[],re="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Te(e,t){switch(e){case"focusin":case"focusout":de=null;break;case"dragenter":case"dragleave":F=null;break;case"mouseover":case"mouseout":L=null;break;case"pointerover":case"pointerout":G.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":W.delete(t.pointerId)}}function Se(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Us(t),t!==null&&Ie(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Oe(e,t,n,r,s){switch(t){case"focusin":return de=Se(de,e,t,n,r,s),!0;case"dragenter":return F=Se(F,e,t,n,r,s),!0;case"mouseover":return L=Se(L,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return G.set(o,Se(G.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,W.set(o,Se(W.get(o)||null,e,t,n,r,s)),!0}return!1}function ze(e){var t=Ei(e.target);if(t!==null){var n=gt(t);if(n!==null){if(t=n.tag,t===13){if(t=yt(n),t!==null){e.blockedOn=t,At(e.priority,function(){St(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Le(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vn=r,n.target.dispatchEvent(r),Vn=null}else return t=Us(n),t!==null&&Ie(t),e.blockedOn=n,!1;t.shift()}return!0}function Mt(e,t,n){Le(e)&&n.delete(t)}function et(){Wt=!1,de!==null&&Le(de)&&(de=null),F!==null&&Le(F)&&(F=null),L!==null&&Le(L)&&(L=null),G.forEach(Mt),W.forEach(Mt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Wt||(Wt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,et)))}function Tt(e){function t(s){return bt(s,e)}if(0<Lt.length){bt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(de!==null&&bt(de,e),F!==null&&bt(F,e),L!==null&&bt(L,e),G.forEach(t),W.forEach(t),n=0;n<q.length;n++)r=q[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<q.length&&(n=q[0],n.blockedOn===null);)ze(n),n.blockedOn===null&&q.shift()}var Sn=X.ReactCurrentBatchConfig,sr=!0;function Ti(e,t,n,r){var s=Ee,o=Sn.transition;Sn.transition=null;try{Ee=1,bn(e,t,n,r)}finally{Ee=s,Sn.transition=o}}function ws(e,t,n,r){var s=Ee,o=Sn.transition;Sn.transition=null;try{Ee=4,bn(e,t,n,r)}finally{Ee=s,Sn.transition=o}}function bn(e,t,n,r){if(sr){var s=zo(e,t,n,r);if(s===null)nu(e,t,r,va,n),Te(e,r);else if(Oe(s,e,t,n,r))r.stopPropagation();else if(Te(e,r),t&4&&-1<re.indexOf(e)){for(;s!==null;){var o=Us(s);if(o!==null&&Qe(o),o=zo(e,t,n,r),o===null&&nu(e,t,r,va,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else nu(e,t,r,null,n)}}var va=null;function zo(e,t,n,r){if(va=null,e=er(r),e=Ei(e),e!==null)if(t=gt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yt(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return va=e,null}function El(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ct()){case hn:return 1;case _:return 4;case f:case h:return 16;case p:return 536870912;default:return 16}default:return 16}}var ri=null,Fo=null,ya=null;function Ol(){if(ya)return ya;var e,t=Fo,n=t.length,r,s="value"in ri?ri.value:ri.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var g=n-e;for(r=1;r<=g&&t[n-r]===s[o-r];r++);return ya=s.slice(e,1<r?1-r:void 0)}function _a(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wa(){return!0}function Cl(){return!1}function Zn(e){function t(n,r,s,o,g){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=g,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(n=e[j],this[j]=n?n(o):o[j]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wa:Cl,this.isPropagationStopped=Cl,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),t}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=Zn(qi),ks=ue({},qi,{view:0,detail:0}),Gf=Zn(ks),qo,Wo,xs,ka=ue({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$o,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(qo=e.screenX-xs.screenX,Wo=e.screenY-xs.screenY):Wo=qo=0,xs=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),Pl=Zn(ka),Yf=ue({},ka,{dataTransfer:0}),Xf=Zn(Yf),ep=ue({},ks,{relatedTarget:0}),Vo=Zn(ep),tp=ue({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),np=Zn(tp),rp=ue({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ip=Zn(rp),sp=ue({},qi,{data:0}),Il=Zn(sp),ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=up[e])?!!t[e]:!1}function $o(){return lp}var cp=ue({},ks,{key:function(e){if(e.key){var t=ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_a(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$o,charCode:function(e){return e.type==="keypress"?_a(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_a(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dp=Zn(cp),fp=ue({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Zn(fp),pp=ue({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$o}),hp=Zn(pp),gp=ue({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),mp=Zn(gp),vp=ue({},ka,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yp=Zn(vp),_p=[9,13,27,32],Bo=v&&"CompositionEvent"in window,Ss=null;v&&"documentMode"in document&&(Ss=document.documentMode);var wp=v&&"TextEvent"in window&&!Ss,Ul=v&&(!Bo||Ss&&8<Ss&&11>=Ss),jl=" ",Nl=!1;function Al(e,t){switch(e){case"keyup":return _p.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ll(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function kp(e,t){switch(e){case"compositionend":return Ll(t);case"keypress":return t.which!==32?null:(Nl=!0,jl);case"textInput":return e=t.data,e===jl&&Nl?null:e;default:return null}}function xp(e,t){if(Wi)return e==="compositionend"||!Bo&&Al(e,t)?(e=Ol(),ya=Fo=ri=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ul&&t.locale!=="ko"?null:t.data;default:return null}}var Sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ml(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sp[e.type]:t==="textarea"}function Dl(e,t,n,r){gr(r),t=Ea(t,"onChange"),0<t.length&&(n=new Ho("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bs=null,Ts=null;function bp(e){nc(e,0)}function xa(e){var t=Qi(e);if(Gt(t))return e}function Tp(e,t){if(e==="change")return t}var zl=!1;if(v){var Zo;if(v){var Qo="oninput"in document;if(!Qo){var Fl=document.createElement("div");Fl.setAttribute("oninput","return;"),Qo=typeof Fl.oninput=="function"}Zo=Qo}else Zo=!1;zl=Zo&&(!document.documentMode||9<document.documentMode)}function Hl(){bs&&(bs.detachEvent("onpropertychange",ql),Ts=bs=null)}function ql(e){if(e.propertyName==="value"&&xa(Ts)){var t=[];Dl(t,Ts,e,er(e)),Ir(bp,t)}}function Ep(e,t,n){e==="focusin"?(Hl(),bs=t,Ts=n,bs.attachEvent("onpropertychange",ql)):e==="focusout"&&Hl()}function Op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xa(Ts)}function Cp(e,t){if(e==="click")return xa(t)}function Pp(e,t){if(e==="input"||e==="change")return xa(t)}function Ip(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _r=typeof Object.is=="function"?Object.is:Ip;function Es(e,t){if(_r(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!T.call(t,s)||!_r(e[s],t[s]))return!1}return!0}function Wl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vl(e,t){var n=Wl(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wl(n)}}function $l(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$l(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bl(){for(var e=window,t=Fn();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fn(e.document)}return t}function Ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rp(e){var t=Bl(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$l(n.ownerDocument.documentElement,n)){if(r!==null&&Ko(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Vl(n,o);var g=Vl(n,r);s&&g&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Up=v&&"documentMode"in document&&11>=document.documentMode,Vi=null,Jo=null,Os=null,Go=!1;function Zl(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Go||Vi==null||Vi!==Fn(r)||(r=Vi,"selectionStart"in r&&Ko(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Os&&Es(Os,r)||(Os=r,r=Ea(Jo,"onSelect"),0<r.length&&(t=new Ho("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vi)))}function Sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $i={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},Yo={},Ql={};v&&(Ql=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function ba(e){if(Yo[e])return Yo[e];if(!$i[e])return e;var t=$i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ql)return Yo[e]=t[n];return e}var Kl=ba("animationend"),Jl=ba("animationiteration"),Gl=ba("animationstart"),Yl=ba("transitionend"),Xl=new Map,ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(e,t){Xl.set(e,t),d(t,[e])}for(var Xo=0;Xo<ec.length;Xo++){var eu=ec[Xo],jp=eu.toLowerCase(),Np=eu[0].toUpperCase()+eu.slice(1);ii(jp,"on"+Np)}ii(Kl,"onAnimationEnd"),ii(Jl,"onAnimationIteration"),ii(Gl,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Yl,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function tc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,st(r,t,void 0,e),e.currentTarget=null}function nc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var g=r.length-1;0<=g;g--){var j=r[g],D=j.instance,ie=j.currentTarget;if(j=j.listener,D!==o&&s.isPropagationStopped())break e;tc(s,j,ie),o=D}else for(g=0;g<r.length;g++){if(j=r[g],D=j.instance,ie=j.currentTarget,j=j.listener,D!==o&&s.isPropagationStopped())break e;tc(s,j,ie),o=D}}}if(Rr)throw e=Rn,Rr=!1,Rn=null,e}function It(e,t){var n=t[uu];n===void 0&&(n=t[uu]=new Set);var r=e+"__bubble";n.has(r)||(rc(t,e,2,!1),n.add(r))}function tu(e,t,n){var r=0;t&&(r|=4),rc(n,e,r,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Ps(e){if(!e[Ta]){e[Ta]=!0,l.forEach(function(n){n!=="selectionchange"&&(Ap.has(n)||tu(n,!1,e),tu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,tu("selectionchange",!1,t))}}function rc(e,t,n,r){switch(El(t)){case 1:var s=Ti;break;case 4:s=ws;break;default:s=bn}n=s.bind(null,t,n,e),s=void 0,!ni||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function nu(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var j=r.stateNode.containerInfo;if(j===s||j.nodeType===8&&j.parentNode===s)break;if(g===4)for(g=r.return;g!==null;){var D=g.tag;if((D===3||D===4)&&(D=g.stateNode.containerInfo,D===s||D.nodeType===8&&D.parentNode===s))return;g=g.return}for(;j!==null;){if(g=Ei(j),g===null)return;if(D=g.tag,D===5||D===6){r=o=g;continue e}j=j.parentNode}}r=r.return}Ir(function(){var ie=o,ve=er(n),_e=[];e:{var ge=Xl.get(e);if(ge!==void 0){var je=Ho,Me=e;switch(e){case"keypress":if(_a(n)===0)break e;case"keydown":case"keyup":je=dp;break;case"focusin":Me="focus",je=Vo;break;case"focusout":Me="blur",je=Vo;break;case"beforeblur":case"afterblur":je=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=hp;break;case Kl:case Jl:case Gl:je=np;break;case Yl:je=mp;break;case"scroll":je=Gf;break;case"wheel":je=yp;break;case"copy":case"cut":case"paste":je=ip;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Rl}var He=(t&4)!==0,Bt=!He&&e==="scroll",J=He?ge!==null?ge+"Capture":null:ge;He=[];for(var V=ie,ee;V!==null;){ee=V;var be=ee.stateNode;if(ee.tag===5&&be!==null&&(ee=be,J!==null&&(be=mr(V,J),be!=null&&He.push(Is(V,be,ee)))),Bt)break;V=V.return}0<He.length&&(ge=new je(ge,Me,null,n,ve),_e.push({event:ge,listeners:He}))}}if(!(t&7)){e:{if(ge=e==="mouseover"||e==="pointerover",je=e==="mouseout"||e==="pointerout",ge&&n!==Vn&&(Me=n.relatedTarget||n.fromElement)&&(Ei(Me)||Me[Wr]))break e;if((je||ge)&&(ge=ve.window===ve?ve:(ge=ve.ownerDocument)?ge.defaultView||ge.parentWindow:window,je?(Me=n.relatedTarget||n.toElement,je=ie,Me=Me?Ei(Me):null,Me!==null&&(Bt=gt(Me),Me!==Bt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(je=null,Me=ie),je!==Me)){if(He=Pl,be="onMouseLeave",J="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(He=Rl,be="onPointerLeave",J="onPointerEnter",V="pointer"),Bt=je==null?ge:Qi(je),ee=Me==null?ge:Qi(Me),ge=new He(be,V+"leave",je,n,ve),ge.target=Bt,ge.relatedTarget=ee,be=null,Ei(ve)===ie&&(He=new He(J,V+"enter",Me,n,ve),He.target=ee,He.relatedTarget=Bt,be=He),Bt=be,je&&Me)t:{for(He=je,J=Me,V=0,ee=He;ee;ee=Bi(ee))V++;for(ee=0,be=J;be;be=Bi(be))ee++;for(;0<V-ee;)He=Bi(He),V--;for(;0<ee-V;)J=Bi(J),ee--;for(;V--;){if(He===J||J!==null&&He===J.alternate)break t;He=Bi(He),J=Bi(J)}He=null}else He=null;je!==null&&ic(_e,ge,je,He,!1),Me!==null&&Bt!==null&&ic(_e,Bt,Me,He,!0)}}e:{if(ge=ie?Qi(ie):window,je=ge.nodeName&&ge.nodeName.toLowerCase(),je==="select"||je==="input"&&ge.type==="file")var We=Tp;else if(Ml(ge))if(zl)We=Pp;else{We=Op;var Ke=Ep}else(je=ge.nodeName)&&je.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(We=Cp);if(We&&(We=We(e,ie))){Dl(_e,We,n,ve);break e}Ke&&Ke(e,ge,ie),e==="focusout"&&(Ke=ge._wrapperState)&&Ke.controlled&&ge.type==="number"&&tn(ge,"number",ge.value)}switch(Ke=ie?Qi(ie):window,e){case"focusin":(Ml(Ke)||Ke.contentEditable==="true")&&(Vi=Ke,Jo=ie,Os=null);break;case"focusout":Os=Jo=Vi=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,Zl(_e,n,ve);break;case"selectionchange":if(Up)break;case"keydown":case"keyup":Zl(_e,n,ve)}var Je;if(Bo)e:{switch(e){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Wi?Al(e,n)&&(tt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(tt="onCompositionStart");tt&&(Ul&&n.locale!=="ko"&&(Wi||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Wi&&(Je=Ol()):(ri=ve,Fo="value"in ri?ri.value:ri.textContent,Wi=!0)),Ke=Ea(ie,tt),0<Ke.length&&(tt=new Il(tt,e,null,n,ve),_e.push({event:tt,listeners:Ke}),Je?tt.data=Je:(Je=Ll(n),Je!==null&&(tt.data=Je)))),(Je=wp?kp(e,n):xp(e,n))&&(ie=Ea(ie,"onBeforeInput"),0<ie.length&&(ve=new Il("onBeforeInput","beforeinput",null,n,ve),_e.push({event:ve,listeners:ie}),ve.data=Je))}nc(_e,t)})}function Is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ea(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=mr(e,n),o!=null&&r.unshift(Is(e,o,s)),o=mr(e,t),o!=null&&r.push(Is(e,o,s))),e=e.return}return r}function Bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ic(e,t,n,r,s){for(var o=t._reactName,g=[];n!==null&&n!==r;){var j=n,D=j.alternate,ie=j.stateNode;if(D!==null&&D===r)break;j.tag===5&&ie!==null&&(j=ie,s?(D=mr(n,o),D!=null&&g.unshift(Is(n,D,j))):s||(D=mr(n,o),D!=null&&g.push(Is(n,D,j)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var Lp=/\r\n?/g,Mp=/\u0000|\uFFFD/g;function sc(e){return(typeof e=="string"?e:""+e).replace(Lp,`
`).replace(Mp,"")}function Oa(e,t,n){if(t=sc(t),sc(e)!==t&&n)throw Error(a(425))}function Ca(){}var ru=null,iu=null;function su(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,zp=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(e){return ac.resolve(null).then(e).catch(Fp)}:au;function Fp(e){setTimeout(function(){throw e})}function ou(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Tt(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Tt(t)}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Zi,Rs="__reactProps$"+Zi,Wr="__reactContainer$"+Zi,uu="__reactEvents$"+Zi,Hp="__reactListeners$"+Zi,qp="__reactHandles$"+Zi;function Ei(e){var t=e[Ur];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wr]||n[Ur]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oc(e);e!==null;){if(n=e[Ur])return n;e=oc(e)}return t}e=n,n=e.parentNode}return null}function Us(e){return e=e[Ur]||e[Wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Pa(e){return e[Rs]||null}var lu=[],Ki=-1;function ai(e){return{current:e}}function Rt(e){0>Ki||(e.current=lu[Ki],lu[Ki]=null,Ki--)}function Et(e,t){Ki++,lu[Ki]=e.current,e.current=t}var oi={},gn=ai(oi),jn=ai(!1),Oi=oi;function Ji(e,t){var n=e.type.contextTypes;if(!n)return oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nn(e){return e=e.childContextTypes,e!=null}function Ia(){Rt(jn),Rt(gn)}function uc(e,t,n){if(gn.current!==oi)throw Error(a(168));Et(gn,t),Et(jn,n)}function lc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(a(108,ot(e)||"Unknown",s));return ue({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,Oi=gn.current,Et(gn,e),Et(jn,jn.current),!0}function cc(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=lc(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Rt(jn),Rt(gn),Et(gn,e)):Rt(jn),Et(jn,n)}var Vr=null,Ua=!1,cu=!1;function dc(e){Vr===null?Vr=[e]:Vr.push(e)}function Wp(e){Ua=!0,dc(e)}function ui(){if(!cu&&Vr!==null){cu=!0;var e=0,t=Ee;try{var n=Vr;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vr=null,Ua=!1}catch(s){throw Vr!==null&&(Vr=Vr.slice(e+1)),Bn(hn,ui),s}finally{Ee=t,cu=!1}}return null}var Gi=[],Yi=0,ja=null,Na=0,ar=[],or=0,Ci=null,$r=1,Br="";function Pi(e,t){Gi[Yi++]=Na,Gi[Yi++]=ja,ja=e,Na=t}function fc(e,t,n){ar[or++]=$r,ar[or++]=Br,ar[or++]=Ci,Ci=e;var r=$r;e=Br;var s=32-S(r)-1;r&=~(1<<s),n+=1;var o=32-S(t)+s;if(30<o){var g=s-s%5;o=(r&(1<<g)-1).toString(32),r>>=g,s-=g,$r=1<<32-S(t)+s|n<<s|r,Br=o+e}else $r=1<<o|n<<s|r,Br=e}function du(e){e.return!==null&&(Pi(e,1),fc(e,1,0))}function fu(e){for(;e===ja;)ja=Gi[--Yi],Gi[Yi]=null,Na=Gi[--Yi],Gi[Yi]=null;for(;e===Ci;)Ci=ar[--or],ar[or]=null,Br=ar[--or],ar[or]=null,$r=ar[--or],ar[or]=null}var Qn=null,Kn=null,jt=!1,wr=null;function pc(e,t){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qn=e,Kn=si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qn=e,Kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ci!==null?{id:$r,overflow:Br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qn=e,Kn=null,!0):!1;default:return!1}}function pu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hu(e){if(jt){var t=Kn;if(t){var n=t;if(!hc(e,t)){if(pu(e))throw Error(a(418));t=si(n.nextSibling);var r=Qn;t&&hc(e,t)?pc(r,n):(e.flags=e.flags&-4097|2,jt=!1,Qn=e)}}else{if(pu(e))throw Error(a(418));e.flags=e.flags&-4097|2,jt=!1,Qn=e}}}function gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qn=e}function Aa(e){if(e!==Qn)return!1;if(!jt)return gc(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!su(e.type,e.memoizedProps)),t&&(t=Kn)){if(pu(e))throw mc(),Error(a(418));for(;t;)pc(e,t),t=si(t.nextSibling)}if(gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kn=si(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kn=null}}else Kn=Qn?si(e.stateNode.nextSibling):null;return!0}function mc(){for(var e=Kn;e;)e=si(e.nextSibling)}function Xi(){Kn=Qn=null,jt=!1}function gu(e){wr===null?wr=[e]:wr.push(e)}var Vp=X.ReactCurrentBatchConfig;function js(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(g){var j=s.refs;g===null?delete j[o]:j[o]=g},t._stringRef=o,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function La(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vc(e){var t=e._init;return t(e._payload)}function yc(e){function t(J,V){if(e){var ee=J.deletions;ee===null?(J.deletions=[V],J.flags|=16):ee.push(V)}}function n(J,V){if(!e)return null;for(;V!==null;)t(J,V),V=V.sibling;return null}function r(J,V){for(J=new Map;V!==null;)V.key!==null?J.set(V.key,V):J.set(V.index,V),V=V.sibling;return J}function s(J,V){return J=mi(J,V),J.index=0,J.sibling=null,J}function o(J,V,ee){return J.index=ee,e?(ee=J.alternate,ee!==null?(ee=ee.index,ee<V?(J.flags|=2,V):ee):(J.flags|=2,V)):(J.flags|=1048576,V)}function g(J){return e&&J.alternate===null&&(J.flags|=2),J}function j(J,V,ee,be){return V===null||V.tag!==6?(V=al(ee,J.mode,be),V.return=J,V):(V=s(V,ee),V.return=J,V)}function D(J,V,ee,be){var We=ee.type;return We===Y?ve(J,V,ee.props.children,be,ee.key):V!==null&&(V.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Ue&&vc(We)===V.type)?(be=s(V,ee.props),be.ref=js(J,V,ee),be.return=J,be):(be=ao(ee.type,ee.key,ee.props,null,J.mode,be),be.ref=js(J,V,ee),be.return=J,be)}function ie(J,V,ee,be){return V===null||V.tag!==4||V.stateNode.containerInfo!==ee.containerInfo||V.stateNode.implementation!==ee.implementation?(V=ol(ee,J.mode,be),V.return=J,V):(V=s(V,ee.children||[]),V.return=J,V)}function ve(J,V,ee,be,We){return V===null||V.tag!==7?(V=Mi(ee,J.mode,be,We),V.return=J,V):(V=s(V,ee),V.return=J,V)}function _e(J,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number")return V=al(""+V,J.mode,ee),V.return=J,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case oe:return ee=ao(V.type,V.key,V.props,null,J.mode,ee),ee.ref=js(J,null,V),ee.return=J,ee;case se:return V=ol(V,J.mode,ee),V.return=J,V;case Ue:var be=V._init;return _e(J,be(V._payload),ee)}if(un(V)||b(V))return V=Mi(V,J.mode,ee,null),V.return=J,V;La(J,V)}return null}function ge(J,V,ee,be){var We=V!==null?V.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return We!==null?null:j(J,V,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case oe:return ee.key===We?D(J,V,ee,be):null;case se:return ee.key===We?ie(J,V,ee,be):null;case Ue:return We=ee._init,ge(J,V,We(ee._payload),be)}if(un(ee)||b(ee))return We!==null?null:ve(J,V,ee,be,null);La(J,ee)}return null}function je(J,V,ee,be,We){if(typeof be=="string"&&be!==""||typeof be=="number")return J=J.get(ee)||null,j(V,J,""+be,We);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case oe:return J=J.get(be.key===null?ee:be.key)||null,D(V,J,be,We);case se:return J=J.get(be.key===null?ee:be.key)||null,ie(V,J,be,We);case Ue:var Ke=be._init;return je(J,V,ee,Ke(be._payload),We)}if(un(be)||b(be))return J=J.get(ee)||null,ve(V,J,be,We,null);La(V,be)}return null}function Me(J,V,ee,be){for(var We=null,Ke=null,Je=V,tt=V=0,on=null;Je!==null&&tt<ee.length;tt++){Je.index>tt?(on=Je,Je=null):on=Je.sibling;var xt=ge(J,Je,ee[tt],be);if(xt===null){Je===null&&(Je=on);break}e&&Je&&xt.alternate===null&&t(J,Je),V=o(xt,V,tt),Ke===null?We=xt:Ke.sibling=xt,Ke=xt,Je=on}if(tt===ee.length)return n(J,Je),jt&&Pi(J,tt),We;if(Je===null){for(;tt<ee.length;tt++)Je=_e(J,ee[tt],be),Je!==null&&(V=o(Je,V,tt),Ke===null?We=Je:Ke.sibling=Je,Ke=Je);return jt&&Pi(J,tt),We}for(Je=r(J,Je);tt<ee.length;tt++)on=je(Je,J,tt,ee[tt],be),on!==null&&(e&&on.alternate!==null&&Je.delete(on.key===null?tt:on.key),V=o(on,V,tt),Ke===null?We=on:Ke.sibling=on,Ke=on);return e&&Je.forEach(function(vi){return t(J,vi)}),jt&&Pi(J,tt),We}function He(J,V,ee,be){var We=b(ee);if(typeof We!="function")throw Error(a(150));if(ee=We.call(ee),ee==null)throw Error(a(151));for(var Ke=We=null,Je=V,tt=V=0,on=null,xt=ee.next();Je!==null&&!xt.done;tt++,xt=ee.next()){Je.index>tt?(on=Je,Je=null):on=Je.sibling;var vi=ge(J,Je,xt.value,be);if(vi===null){Je===null&&(Je=on);break}e&&Je&&vi.alternate===null&&t(J,Je),V=o(vi,V,tt),Ke===null?We=vi:Ke.sibling=vi,Ke=vi,Je=on}if(xt.done)return n(J,Je),jt&&Pi(J,tt),We;if(Je===null){for(;!xt.done;tt++,xt=ee.next())xt=_e(J,xt.value,be),xt!==null&&(V=o(xt,V,tt),Ke===null?We=xt:Ke.sibling=xt,Ke=xt);return jt&&Pi(J,tt),We}for(Je=r(J,Je);!xt.done;tt++,xt=ee.next())xt=je(Je,J,tt,xt.value,be),xt!==null&&(e&&xt.alternate!==null&&Je.delete(xt.key===null?tt:xt.key),V=o(xt,V,tt),Ke===null?We=xt:Ke.sibling=xt,Ke=xt);return e&&Je.forEach(function(xh){return t(J,xh)}),jt&&Pi(J,tt),We}function Bt(J,V,ee,be){if(typeof ee=="object"&&ee!==null&&ee.type===Y&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case oe:e:{for(var We=ee.key,Ke=V;Ke!==null;){if(Ke.key===We){if(We=ee.type,We===Y){if(Ke.tag===7){n(J,Ke.sibling),V=s(Ke,ee.props.children),V.return=J,J=V;break e}}else if(Ke.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Ue&&vc(We)===Ke.type){n(J,Ke.sibling),V=s(Ke,ee.props),V.ref=js(J,Ke,ee),V.return=J,J=V;break e}n(J,Ke);break}else t(J,Ke);Ke=Ke.sibling}ee.type===Y?(V=Mi(ee.props.children,J.mode,be,ee.key),V.return=J,J=V):(be=ao(ee.type,ee.key,ee.props,null,J.mode,be),be.ref=js(J,V,ee),be.return=J,J=be)}return g(J);case se:e:{for(Ke=ee.key;V!==null;){if(V.key===Ke)if(V.tag===4&&V.stateNode.containerInfo===ee.containerInfo&&V.stateNode.implementation===ee.implementation){n(J,V.sibling),V=s(V,ee.children||[]),V.return=J,J=V;break e}else{n(J,V);break}else t(J,V);V=V.sibling}V=ol(ee,J.mode,be),V.return=J,J=V}return g(J);case Ue:return Ke=ee._init,Bt(J,V,Ke(ee._payload),be)}if(un(ee))return Me(J,V,ee,be);if(b(ee))return He(J,V,ee,be);La(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,V!==null&&V.tag===6?(n(J,V.sibling),V=s(V,ee),V.return=J,J=V):(n(J,V),V=al(ee,J.mode,be),V.return=J,J=V),g(J)):n(J,V)}return Bt}var es=yc(!0),_c=yc(!1),Ma=ai(null),Da=null,ts=null,mu=null;function vu(){mu=ts=Da=null}function yu(e){var t=Ma.current;Rt(Ma),e._currentValue=t}function _u(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ns(e,t){Da=e,mu=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function ur(e){var t=e._currentValue;if(mu!==e)if(e={context:e,memoizedValue:t,next:null},ts===null){if(Da===null)throw Error(a(308));ts=e,Da.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return t}var Ii=null;function wu(e){Ii===null?Ii=[e]:Ii.push(e)}function wc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,wu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Zr(e,r)}function Zr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var li=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ci(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,wt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Zr(e,n)}return s=r.interleaved,s===null?(t.next=t,wu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Zr(e,n)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dt(e,n)}}function xc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=g:o=o.next=g,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var s=e.updateQueue;li=!1;var o=s.firstBaseUpdate,g=s.lastBaseUpdate,j=s.shared.pending;if(j!==null){s.shared.pending=null;var D=j,ie=D.next;D.next=null,g===null?o=ie:g.next=ie,g=D;var ve=e.alternate;ve!==null&&(ve=ve.updateQueue,j=ve.lastBaseUpdate,j!==g&&(j===null?ve.firstBaseUpdate=ie:j.next=ie,ve.lastBaseUpdate=D))}if(o!==null){var _e=s.baseState;g=0,ve=ie=D=null,j=o;do{var ge=j.lane,je=j.eventTime;if((r&ge)===ge){ve!==null&&(ve=ve.next={eventTime:je,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Me=e,He=j;switch(ge=t,je=n,He.tag){case 1:if(Me=He.payload,typeof Me=="function"){_e=Me.call(je,_e,ge);break e}_e=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=He.payload,ge=typeof Me=="function"?Me.call(je,_e,ge):Me,ge==null)break e;_e=ue({},_e,ge);break e;case 2:li=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,ge=s.effects,ge===null?s.effects=[j]:ge.push(j))}else je={eventTime:je,lane:ge,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ve===null?(ie=ve=je,D=_e):ve=ve.next=je,g|=ge;if(j=j.next,j===null){if(j=s.shared.pending,j===null)break;ge=j,j=ge.next,ge.next=null,s.lastBaseUpdate=ge,s.shared.pending=null}}while(!0);if(ve===null&&(D=_e),s.baseState=D,s.firstBaseUpdate=ie,s.lastBaseUpdate=ve,t=s.shared.interleaved,t!==null){s=t;do g|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ji|=g,e.lanes=g,e.memoizedState=_e}}function Sc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(a(191,s));s.call(r)}}}var Ns={},jr=ai(Ns),As=ai(Ns),Ls=ai(Ns);function Ri(e){if(e===Ns)throw Error(a(174));return e}function xu(e,t){switch(Et(Ls,t),Et(As,e),Et(jr,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nn(t,e)}Rt(jr),Et(jr,t)}function rs(){Rt(jr),Rt(As),Rt(Ls)}function bc(e){Ri(Ls.current);var t=Ri(jr.current),n=nn(t,e.type);t!==n&&(Et(As,e),Et(jr,n))}function Su(e){As.current===e&&(Rt(jr),Rt(As))}var Dt=ai(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bu=[];function Tu(){for(var e=0;e<bu.length;e++)bu[e]._workInProgressVersionPrimary=null;bu.length=0}var qa=X.ReactCurrentDispatcher,Eu=X.ReactCurrentBatchConfig,Ui=0,zt=null,Xt=null,sn=null,Wa=!1,Ms=!1,Ds=0,$p=0;function mn(){throw Error(a(321))}function Ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_r(e[n],t[n]))return!1;return!0}function Cu(e,t,n,r,s,o){if(Ui=o,zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=e===null||e.memoizedState===null?Kp:Jp,e=n(r,s),Ms){o=0;do{if(Ms=!1,Ds=0,25<=o)throw Error(a(301));o+=1,sn=Xt=null,t.updateQueue=null,qa.current=Gp,e=n(r,s)}while(Ms)}if(qa.current=Ba,t=Xt!==null&&Xt.next!==null,Ui=0,sn=Xt=zt=null,Wa=!1,t)throw Error(a(300));return e}function Pu(){var e=Ds!==0;return Ds=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?zt.memoizedState=sn=e:sn=sn.next=e,sn}function lr(){if(Xt===null){var e=zt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var t=sn===null?zt.memoizedState:sn.next;if(t!==null)sn=t,Xt=e;else{if(e===null)throw Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},sn===null?zt.memoizedState=sn=e:sn=sn.next=e}return sn}function zs(e,t){return typeof t=="function"?t(e):t}function Iu(e){var t=lr(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=Xt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var g=s.next;s.next=o.next,o.next=g}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var j=g=null,D=null,ie=o;do{var ve=ie.lane;if((Ui&ve)===ve)D!==null&&(D=D.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),r=ie.hasEagerState?ie.eagerState:e(r,ie.action);else{var _e={lane:ve,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};D===null?(j=D=_e,g=r):D=D.next=_e,zt.lanes|=ve,ji|=ve}ie=ie.next}while(ie!==null&&ie!==o);D===null?g=r:D.next=j,_r(r,t.memoizedState)||(An=!0),t.memoizedState=r,t.baseState=g,t.baseQueue=D,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,zt.lanes|=o,ji|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ru(e){var t=lr(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var g=s=s.next;do o=e(o,g.action),g=g.next;while(g!==s);_r(o,t.memoizedState)||(An=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Tc(){}function Ec(e,t){var n=zt,r=lr(),s=t(),o=!_r(r.memoizedState,s);if(o&&(r.memoizedState=s,An=!0),r=r.queue,Uu(Pc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||sn!==null&&sn.memoizedState.tag&1){if(n.flags|=2048,Fs(9,Cc.bind(null,n,r,s,t),void 0,null),an===null)throw Error(a(349));Ui&30||Oc(n,t,s)}return s}function Oc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=zt.updateQueue,t===null?(t={lastEffect:null,stores:null},zt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cc(e,t,n,r){t.value=n,t.getSnapshot=r,Ic(t)&&Rc(e)}function Pc(e,t,n){return n(function(){Ic(t)&&Rc(e)})}function Ic(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_r(e,n)}catch{return!0}}function Rc(e){var t=Zr(e,1);t!==null&&br(t,e,1,-1)}function Uc(e){var t=Nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qp.bind(null,zt,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=zt.updateQueue,t===null?(t={lastEffect:null,stores:null},zt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jc(){return lr().memoizedState}function Va(e,t,n,r){var s=Nr();zt.flags|=e,s.memoizedState=Fs(1|t,n,void 0,r===void 0?null:r)}function $a(e,t,n,r){var s=lr();r=r===void 0?null:r;var o=void 0;if(Xt!==null){var g=Xt.memoizedState;if(o=g.destroy,r!==null&&Ou(r,g.deps)){s.memoizedState=Fs(t,n,o,r);return}}zt.flags|=e,s.memoizedState=Fs(1|t,n,o,r)}function Nc(e,t){return Va(8390656,8,e,t)}function Uu(e,t){return $a(2048,8,e,t)}function Ac(e,t){return $a(4,2,e,t)}function Lc(e,t){return $a(4,4,e,t)}function Mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dc(e,t,n){return n=n!=null?n.concat([e]):null,$a(4,4,Mc.bind(null,t,e),n)}function ju(){}function zc(e,t){var n=lr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ou(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fc(e,t){var n=lr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ou(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hc(e,t,n){return Ui&21?(_r(n,t)||(n=fe(),zt.lanes|=n,ji|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=n)}function Bp(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=Eu.transition;Eu.transition={};try{e(!1),t()}finally{Ee=n,Eu.transition=r}}function qc(){return lr().memoizedState}function Zp(e,t,n){var r=hi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wc(e))Vc(t,n);else if(n=wc(e,t,n,r),n!==null){var s=En();br(n,e,r,s),$c(n,t,r)}}function Qp(e,t,n){var r=hi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wc(e))Vc(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var g=t.lastRenderedState,j=o(g,n);if(s.hasEagerState=!0,s.eagerState=j,_r(j,g)){var D=t.interleaved;D===null?(s.next=s,wu(t)):(s.next=D.next,D.next=s),t.interleaved=s;return}}catch{}finally{}n=wc(e,t,s,r),n!==null&&(s=En(),br(n,e,r,s),$c(n,t,r))}}function Wc(e){var t=e.alternate;return e===zt||t!==null&&t===zt}function Vc(e,t){Ms=Wa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $c(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dt(e,n)}}var Ba={readContext:ur,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},Kp={readContext:ur,useCallback:function(e,t){return Nr().memoizedState=[e,t===void 0?null:t],e},useContext:ur,useEffect:Nc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Va(4194308,4,Mc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Nr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zp.bind(null,zt,e),[r.memoizedState,e]},useRef:function(e){var t=Nr();return e={current:e},t.memoizedState=e},useState:Uc,useDebugValue:ju,useDeferredValue:function(e){return Nr().memoizedState=e},useTransition:function(){var e=Uc(!1),t=e[0];return e=Bp.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=zt,s=Nr();if(jt){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),an===null)throw Error(a(349));Ui&30||Oc(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Nc(Pc.bind(null,r,o,e),[e]),r.flags|=2048,Fs(9,Cc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Nr(),t=an.identifierPrefix;if(jt){var n=Br,r=$r;n=(r&~(1<<32-S(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ds++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$p++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jp={readContext:ur,useCallback:zc,useContext:ur,useEffect:Uu,useImperativeHandle:Dc,useInsertionEffect:Ac,useLayoutEffect:Lc,useMemo:Fc,useReducer:Iu,useRef:jc,useState:function(){return Iu(zs)},useDebugValue:ju,useDeferredValue:function(e){var t=lr();return Hc(t,Xt.memoizedState,e)},useTransition:function(){var e=Iu(zs)[0],t=lr().memoizedState;return[e,t]},useMutableSource:Tc,useSyncExternalStore:Ec,useId:qc,unstable_isNewReconciler:!1},Gp={readContext:ur,useCallback:zc,useContext:ur,useEffect:Uu,useImperativeHandle:Dc,useInsertionEffect:Ac,useLayoutEffect:Lc,useMemo:Fc,useReducer:Ru,useRef:jc,useState:function(){return Ru(zs)},useDebugValue:ju,useDeferredValue:function(e){var t=lr();return Xt===null?t.memoizedState=e:Hc(t,Xt.memoizedState,e)},useTransition:function(){var e=Ru(zs)[0],t=lr().memoizedState;return[e,t]},useMutableSource:Tc,useSyncExternalStore:Ec,useId:qc,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Za={isMounted:function(e){return(e=e._reactInternals)?gt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=En(),s=hi(e),o=Qr(r,s);o.payload=t,n!=null&&(o.callback=n),t=ci(e,o,s),t!==null&&(br(t,e,s,r),za(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=En(),s=hi(e),o=Qr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ci(e,o,s),t!==null&&(br(t,e,s,r),za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=En(),r=hi(e),s=Qr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ci(e,s,r),t!==null&&(br(t,e,r,n),za(t,e,r))}};function Bc(e,t,n,r,s,o,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,g):t.prototype&&t.prototype.isPureReactComponent?!Es(n,r)||!Es(s,o):!0}function Zc(e,t,n){var r=!1,s=oi,o=t.contextType;return typeof o=="object"&&o!==null?o=ur(o):(s=Nn(t)?Oi:gn.current,r=t.contextTypes,o=(r=r!=null)?Ji(e,s):oi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Za,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Qc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Za.enqueueReplaceState(t,t.state,null)}function Au(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ku(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=ur(o):(o=Nn(t)?Oi:gn.current,s.context=Ji(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Nu(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Za.enqueueReplaceState(s,s.state,null),Fa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function is(e,t){try{var n="",r=t;do n+=Be(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Lu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yp=typeof WeakMap=="function"?WeakMap:Map;function Kc(e,t,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){eo||(eo=!0,Yu=r),Mu(e,t)},n}function Jc(e,t,n){n=Qr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Mu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Mu(e,t),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),n}function Gc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=fh.bind(null,e,t,n),t.then(e,e))}function Yc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qr(-1,1),t.tag=2,ci(n,t,1))),n.lanes|=1),e)}var Xp=X.ReactCurrentOwner,An=!1;function Tn(e,t,n,r){t.child=e===null?_c(t,null,n,r):es(t,e.child,n,r)}function ed(e,t,n,r,s){n=n.render;var o=t.ref;return ns(t,s),r=Cu(e,t,n,r,o,s),n=Pu(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kr(e,t,s)):(jt&&n&&du(t),t.flags|=1,Tn(e,t,r,s),t.child)}function td(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!sl(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,nd(e,t,o,r,s)):(e=ao(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var g=o.memoizedProps;if(n=n.compare,n=n!==null?n:Es,n(g,r)&&e.ref===t.ref)return Kr(e,t,s)}return t.flags|=1,e=mi(o,r),e.ref=t.ref,e.return=t,t.child=e}function nd(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Es(o,r)&&e.ref===t.ref)if(An=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,Kr(e,t,s)}return Du(e,t,n,r,s)}function rd(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(as,Jn),Jn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Et(as,Jn),Jn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Et(as,Jn),Jn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Et(as,Jn),Jn|=r;return Tn(e,t,s,n),t.child}function id(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Du(e,t,n,r,s){var o=Nn(n)?Oi:gn.current;return o=Ji(t,o),ns(t,s),n=Cu(e,t,n,r,o,s),r=Pu(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kr(e,t,s)):(jt&&r&&du(t),t.flags|=1,Tn(e,t,n,s),t.child)}function sd(e,t,n,r,s){if(Nn(n)){var o=!0;Ra(t)}else o=!1;if(ns(t,s),t.stateNode===null)Ka(e,t),Zc(t,n,r),Au(t,n,r,s),r=!0;else if(e===null){var g=t.stateNode,j=t.memoizedProps;g.props=j;var D=g.context,ie=n.contextType;typeof ie=="object"&&ie!==null?ie=ur(ie):(ie=Nn(n)?Oi:gn.current,ie=Ji(t,ie));var ve=n.getDerivedStateFromProps,_e=typeof ve=="function"||typeof g.getSnapshotBeforeUpdate=="function";_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==r||D!==ie)&&Qc(t,g,r,ie),li=!1;var ge=t.memoizedState;g.state=ge,Fa(t,r,g,s),D=t.memoizedState,j!==r||ge!==D||jn.current||li?(typeof ve=="function"&&(Nu(t,n,ve,r),D=t.memoizedState),(j=li||Bc(t,n,j,r,ge,D,ie))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=D),g.props=r,g.state=D,g.context=ie,r=j):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{g=t.stateNode,kc(e,t),j=t.memoizedProps,ie=t.type===t.elementType?j:kr(t.type,j),g.props=ie,_e=t.pendingProps,ge=g.context,D=n.contextType,typeof D=="object"&&D!==null?D=ur(D):(D=Nn(n)?Oi:gn.current,D=Ji(t,D));var je=n.getDerivedStateFromProps;(ve=typeof je=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==_e||ge!==D)&&Qc(t,g,r,D),li=!1,ge=t.memoizedState,g.state=ge,Fa(t,r,g,s);var Me=t.memoizedState;j!==_e||ge!==Me||jn.current||li?(typeof je=="function"&&(Nu(t,n,je,r),Me=t.memoizedState),(ie=li||Bc(t,n,ie,r,ge,Me,D)||!1)?(ve||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,Me,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,Me,D)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||j===e.memoizedProps&&ge===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ge===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=Me),g.props=r,g.state=Me,g.context=D,r=ie):(typeof g.componentDidUpdate!="function"||j===e.memoizedProps&&ge===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ge===e.memoizedState||(t.flags|=1024),r=!1)}return zu(e,t,n,r,o,s)}function zu(e,t,n,r,s,o){id(e,t);var g=(t.flags&128)!==0;if(!r&&!g)return s&&cc(t,n,!1),Kr(e,t,o);r=t.stateNode,Xp.current=t;var j=g&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&g?(t.child=es(t,e.child,null,o),t.child=es(t,null,j,o)):Tn(e,t,j,o),t.memoizedState=r.state,s&&cc(t,n,!0),t.child}function ad(e){var t=e.stateNode;t.pendingContext?uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uc(e,t.context,!1),xu(e,t.containerInfo)}function od(e,t,n,r,s){return Xi(),gu(s),t.flags|=256,Tn(e,t,n,r),t.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function Hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ud(e,t,n){var r=t.pendingProps,s=Dt.current,o=!1,g=(t.flags&128)!==0,j;if((j=g)||(j=e!==null&&e.memoizedState===null?!1:(s&2)!==0),j?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Et(Dt,s&1),e===null)return hu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=r.children,e=r.fallback,o?(r=t.mode,o=t.child,g={mode:"hidden",children:g},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=g):o=oo(g,r,0,null),e=Mi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Hu(n),t.memoizedState=Fu,e):qu(t,g));if(s=e.memoizedState,s!==null&&(j=s.dehydrated,j!==null))return eh(e,t,g,r,j,s,n);if(o){o=r.fallback,g=t.mode,s=e.child,j=s.sibling;var D={mode:"hidden",children:r.children};return!(g&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=D,t.deletions=null):(r=mi(s,D),r.subtreeFlags=s.subtreeFlags&14680064),j!==null?o=mi(j,o):(o=Mi(o,g,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,g=e.child.memoizedState,g=g===null?Hu(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},o.memoizedState=g,o.childLanes=e.childLanes&~n,t.memoizedState=Fu,r}return o=e.child,e=o.sibling,r=mi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qu(e,t){return t=oo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qa(e,t,n,r){return r!==null&&gu(r),es(t,e.child,null,n),e=qu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eh(e,t,n,r,s,o,g){if(n)return t.flags&256?(t.flags&=-257,r=Lu(Error(a(422))),Qa(e,t,g,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=oo({mode:"visible",children:r.children},s,0,null),o=Mi(o,s,g,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&es(t,e.child,null,g),t.child.memoizedState=Hu(g),t.memoizedState=Fu,o);if(!(t.mode&1))return Qa(e,t,g,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var j=r.dgst;return r=j,o=Error(a(419)),r=Lu(o,r,void 0),Qa(e,t,g,r)}if(j=(g&e.childLanes)!==0,An||j){if(r=an,r!==null){switch(g&-g){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|g)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Zr(e,s),br(r,e,s,-1))}return il(),r=Lu(Error(a(421))),Qa(e,t,g,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ph.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Kn=si(s.nextSibling),Qn=t,jt=!0,wr=null,e!==null&&(ar[or++]=$r,ar[or++]=Br,ar[or++]=Ci,$r=e.id,Br=e.overflow,Ci=t),t=qu(t,r.children),t.flags|=4096,t)}function ld(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_u(e.return,t,n)}function Wu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function cd(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Tn(e,t,r.children,n),r=Dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ld(e,n,t);else if(e.tag===19)ld(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Et(Dt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ha(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Wu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ha(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Wu(t,!0,n,null,o);break;case"together":Wu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=mi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function th(e,t,n){switch(t.tag){case 3:ad(t),Xi();break;case 5:bc(t);break;case 1:Nn(t.type)&&Ra(t);break;case 4:xu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Et(Ma,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Et(Dt,Dt.current&1),t.flags|=128,null):n&t.child.childLanes?ud(e,t,n):(Et(Dt,Dt.current&1),e=Kr(e,t,n),e!==null?e.sibling:null);Et(Dt,Dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Et(Dt,Dt.current),r)break;return null;case 22:case 23:return t.lanes=0,rd(e,t,n)}return Kr(e,t,n)}var dd,Vu,fd,pd;dd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vu=function(){},fd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ri(jr.current);var o=null;switch(n){case"input":s=$t(e,s),r=$t(e,r),o=[];break;case"select":s=ue({},s,{value:void 0}),r=ue({},r,{value:void 0}),o=[];break;case"textarea":s=Cr(e,s),r=Cr(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ca)}Xn(n,r);var g;n=null;for(ie in s)if(!r.hasOwnProperty(ie)&&s.hasOwnProperty(ie)&&s[ie]!=null)if(ie==="style"){var j=s[ie];for(g in j)j.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(c.hasOwnProperty(ie)?o||(o=[]):(o=o||[]).push(ie,null));for(ie in r){var D=r[ie];if(j=s!=null?s[ie]:void 0,r.hasOwnProperty(ie)&&D!==j&&(D!=null||j!=null))if(ie==="style")if(j){for(g in j)!j.hasOwnProperty(g)||D&&D.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in D)D.hasOwnProperty(g)&&j[g]!==D[g]&&(n||(n={}),n[g]=D[g])}else n||(o||(o=[]),o.push(ie,n)),n=D;else ie==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,j=j?j.__html:void 0,D!=null&&j!==D&&(o=o||[]).push(ie,D)):ie==="children"?typeof D!="string"&&typeof D!="number"||(o=o||[]).push(ie,""+D):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(c.hasOwnProperty(ie)?(D!=null&&ie==="onScroll"&&It("scroll",e),o||j===D||(o=[])):(o=o||[]).push(ie,D))}n&&(o=o||[]).push("style",n);var ie=o;(t.updateQueue=ie)&&(t.flags|=4)}},pd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hs(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nh(e,t,n){var r=t.pendingProps;switch(fu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(t),null;case 1:return Nn(t.type)&&Ia(),vn(t),null;case 3:return r=t.stateNode,rs(),Rt(jn),Rt(gn),Tu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wr!==null&&(tl(wr),wr=null))),Vu(e,t),vn(t),null;case 5:Su(t);var s=Ri(Ls.current);if(n=t.type,e!==null&&t.stateNode!=null)fd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(a(166));return vn(t),null}if(e=Ri(jr.current),Aa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ur]=t,r[Rs]=o,e=(t.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(s=0;s<Cs.length;s++)It(Cs[s],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":pe(r,o),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},It("invalid",r);break;case"textarea":Hn(r,o),It("invalid",r)}Xn(n,o),s=null;for(var g in o)if(o.hasOwnProperty(g)){var j=o[g];g==="children"?typeof j=="string"?r.textContent!==j&&(o.suppressHydrationWarning!==!0&&Oa(r.textContent,j,e),s=["children",j]):typeof j=="number"&&r.textContent!==""+j&&(o.suppressHydrationWarning!==!0&&Oa(r.textContent,j,e),s=["children",""+j]):c.hasOwnProperty(g)&&j!=null&&g==="onScroll"&&It("scroll",r)}switch(n){case"input":Ot(r),Yt(r,o,!0);break;case"textarea":Ot(r),Fr(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ca)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{g=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=g.createElement(n,{is:r.is}):(e=g.createElement(n),n==="select"&&(g=e,r.multiple?g.multiple=!0:r.size&&(g.size=r.size))):e=g.createElementNS(e,n),e[Ur]=t,e[Rs]=r,dd(e,t,!1,!1),t.stateNode=e;e:{switch(g=Wn(n,r),n){case"dialog":It("cancel",e),It("close",e),s=r;break;case"iframe":case"object":case"embed":It("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cs.length;s++)It(Cs[s],e);s=r;break;case"source":It("error",e),s=r;break;case"img":case"image":case"link":It("error",e),It("load",e),s=r;break;case"details":It("toggle",e),s=r;break;case"input":pe(e,r),s=$t(e,r),It("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ue({},r,{value:void 0}),It("invalid",e);break;case"textarea":Hn(e,r),s=Cr(e,r),It("invalid",e);break;default:s=r}Xn(n,s),j=s;for(o in j)if(j.hasOwnProperty(o)){var D=j[o];o==="style"?hr(e,D):o==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&fn(e,D)):o==="children"?typeof D=="string"?(n!=="textarea"||D!=="")&&kn(e,D):typeof D=="number"&&kn(e,""+D):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(c.hasOwnProperty(o)?D!=null&&o==="onScroll"&&It("scroll",e):D!=null&&te(e,o,D,g))}switch(n){case"input":Ot(e),Yt(e,r,!1);break;case"textarea":Ot(e),Fr(e);break;case"option":r.value!=null&&e.setAttribute("value",""+it(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ye(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ye(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ca)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vn(t),null;case 6:if(e&&t.stateNode!=null)pd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(n=Ri(Ls.current),Ri(jr.current),Aa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ur]=t,(o=r.nodeValue!==n)&&(e=Qn,e!==null))switch(e.tag){case 3:Oa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=t,t.stateNode=r}return vn(t),null;case 13:if(Rt(Dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&Kn!==null&&t.mode&1&&!(t.flags&128))mc(),Xi(),t.flags|=98560,o=!1;else if(o=Aa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(a(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));o[Ur]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vn(t),o=!1}else wr!==null&&(tl(wr),wr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Dt.current&1?en===0&&(en=3):il())),t.updateQueue!==null&&(t.flags|=4),vn(t),null);case 4:return rs(),Vu(e,t),e===null&&Ps(t.stateNode.containerInfo),vn(t),null;case 10:return yu(t.type._context),vn(t),null;case 17:return Nn(t.type)&&Ia(),vn(t),null;case 19:if(Rt(Dt),o=t.memoizedState,o===null)return vn(t),null;if(r=(t.flags&128)!==0,g=o.rendering,g===null)if(r)Hs(o,!1);else{if(en!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Ha(e),g!==null){for(t.flags|=128,Hs(o,!1),r=g.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,g=o.alternate,g===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,e=g.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Et(Dt,Dt.current&1|2),t.child}e=e.sibling}o.tail!==null&&mt()>os&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ha(g),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!g.alternate&&!jt)return vn(t),null}else 2*mt()-o.renderingStartTime>os&&n!==1073741824&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(g.sibling=t.child,t.child=g):(n=o.last,n!==null?n.sibling=g:t.child=g,o.last=g)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=mt(),t.sibling=null,n=Dt.current,Et(Dt,r?n&1|2:n&1),t):(vn(t),null);case 22:case 23:return rl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jn&1073741824&&(vn(t),t.subtreeFlags&6&&(t.flags|=8192)):vn(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function rh(e,t){switch(fu(t),t.tag){case 1:return Nn(t.type)&&Ia(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rs(),Rt(jn),Rt(gn),Tu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Su(t),null;case 13:if(Rt(Dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rt(Dt),null;case 4:return rs(),null;case 10:return yu(t.type._context),null;case 22:case 23:return rl(),null;case 24:return null;default:return null}}var Ja=!1,yn=!1,ih=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vt(e,t,r)}else n.current=null}function $u(e,t,n){try{n()}catch(r){Vt(e,t,r)}}var hd=!1;function sh(e,t){if(ru=sr,e=Bl(),Ko(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var g=0,j=-1,D=-1,ie=0,ve=0,_e=e,ge=null;t:for(;;){for(var je;_e!==n||s!==0&&_e.nodeType!==3||(j=g+s),_e!==o||r!==0&&_e.nodeType!==3||(D=g+r),_e.nodeType===3&&(g+=_e.nodeValue.length),(je=_e.firstChild)!==null;)ge=_e,_e=je;for(;;){if(_e===e)break t;if(ge===n&&++ie===s&&(j=g),ge===o&&++ve===r&&(D=g),(je=_e.nextSibling)!==null)break;_e=ge,ge=_e.parentNode}_e=je}n=j===-1||D===-1?null:{start:j,end:D}}else n=null}n=n||{start:0,end:0}}else n=null;for(iu={focusedElem:e,selectionRange:n},sr=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var Me=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var He=Me.memoizedProps,Bt=Me.memoizedState,J=t.stateNode,V=J.getSnapshotBeforeUpdate(t.elementType===t.type?He:kr(t.type,He),Bt);J.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var ee=t.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(be){Vt(t,t.return,be)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return Me=hd,hd=!1,Me}function qs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&$u(t,n,o)}s=s.next}while(s!==r)}}function Ga(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gd(e){var t=e.alternate;t!==null&&(e.alternate=null,gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ur],delete t[Rs],delete t[uu],delete t[Hp],delete t[qp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function md(e){return e.tag===5||e.tag===3||e.tag===4}function vd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ca));else if(r!==4&&(e=e.child,e!==null))for(Zu(e,t,n),e=e.sibling;e!==null;)Zu(e,t,n),e=e.sibling}function Qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Qu(e,t,n),e=e.sibling;e!==null;)Qu(e,t,n),e=e.sibling}var cn=null,xr=!1;function di(e,t,n){for(n=n.child;n!==null;)yd(e,t,n),n=n.sibling}function yd(e,t,n){if(y&&typeof y.onCommitFiberUnmount=="function")try{y.onCommitFiberUnmount(k,n)}catch{}switch(n.tag){case 5:yn||ss(n,t);case 6:var r=cn,s=xr;cn=null,di(e,t,n),cn=r,xr=s,cn!==null&&(xr?(e=cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cn.removeChild(n.stateNode));break;case 18:cn!==null&&(xr?(e=cn,n=n.stateNode,e.nodeType===8?ou(e.parentNode,n):e.nodeType===1&&ou(e,n),Tt(e)):ou(cn,n.stateNode));break;case 4:r=cn,s=xr,cn=n.stateNode.containerInfo,xr=!0,di(e,t,n),cn=r,xr=s;break;case 0:case 11:case 14:case 15:if(!yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,g=o.destroy;o=o.tag,g!==void 0&&(o&2||o&4)&&$u(n,t,g),s=s.next}while(s!==r)}di(e,t,n);break;case 1:if(!yn&&(ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(j){Vt(n,t,j)}di(e,t,n);break;case 21:di(e,t,n);break;case 22:n.mode&1?(yn=(r=yn)||n.memoizedState!==null,di(e,t,n),yn=r):di(e,t,n);break;default:di(e,t,n)}}function _d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ih),t.forEach(function(r){var s=hh.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Sr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,g=t,j=g;e:for(;j!==null;){switch(j.tag){case 5:cn=j.stateNode,xr=!1;break e;case 3:cn=j.stateNode.containerInfo,xr=!0;break e;case 4:cn=j.stateNode.containerInfo,xr=!0;break e}j=j.return}if(cn===null)throw Error(a(160));yd(o,g,s),cn=null,xr=!1;var D=s.alternate;D!==null&&(D.return=null),s.return=null}catch(ie){Vt(s,t,ie)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wd(t,e),t=t.sibling}function wd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sr(t,e),Ar(e),r&4){try{qs(3,e,e.return),Ga(3,e)}catch(He){Vt(e,e.return,He)}try{qs(5,e,e.return)}catch(He){Vt(e,e.return,He)}}break;case 1:Sr(t,e),Ar(e),r&512&&n!==null&&ss(n,n.return);break;case 5:if(Sr(t,e),Ar(e),r&512&&n!==null&&ss(n,n.return),e.flags&32){var s=e.stateNode;try{kn(s,"")}catch(He){Vt(e,e.return,He)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,g=n!==null?n.memoizedProps:o,j=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{j==="input"&&o.type==="radio"&&o.name!=null&&Ht(s,o),Wn(j,g);var ie=Wn(j,o);for(g=0;g<D.length;g+=2){var ve=D[g],_e=D[g+1];ve==="style"?hr(s,_e):ve==="dangerouslySetInnerHTML"?fn(s,_e):ve==="children"?kn(s,_e):te(s,ve,_e,ie)}switch(j){case"input":qt(s,o);break;case"textarea":qn(s,o);break;case"select":var ge=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var je=o.value;je!=null?Ye(s,!!o.multiple,je,!1):ge!==!!o.multiple&&(o.defaultValue!=null?Ye(s,!!o.multiple,o.defaultValue,!0):Ye(s,!!o.multiple,o.multiple?[]:"",!1))}s[Rs]=o}catch(He){Vt(e,e.return,He)}}break;case 6:if(Sr(t,e),Ar(e),r&4){if(e.stateNode===null)throw Error(a(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(He){Vt(e,e.return,He)}}break;case 3:if(Sr(t,e),Ar(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tt(t.containerInfo)}catch(He){Vt(e,e.return,He)}break;case 4:Sr(t,e),Ar(e);break;case 13:Sr(t,e),Ar(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Gu=mt())),r&4&&_d(e);break;case 22:if(ve=n!==null&&n.memoizedState!==null,e.mode&1?(yn=(ie=yn)||ve,Sr(t,e),yn=ie):Sr(t,e),Ar(e),r&8192){if(ie=e.memoizedState!==null,(e.stateNode.isHidden=ie)&&!ve&&e.mode&1)for(Ae=e,ve=e.child;ve!==null;){for(_e=Ae=ve;Ae!==null;){switch(ge=Ae,je=ge.child,ge.tag){case 0:case 11:case 14:case 15:qs(4,ge,ge.return);break;case 1:ss(ge,ge.return);var Me=ge.stateNode;if(typeof Me.componentWillUnmount=="function"){r=ge,n=ge.return;try{t=r,Me.props=t.memoizedProps,Me.state=t.memoizedState,Me.componentWillUnmount()}catch(He){Vt(r,n,He)}}break;case 5:ss(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Sd(_e);continue}}je!==null?(je.return=ge,Ae=je):Sd(_e)}ve=ve.sibling}e:for(ve=null,_e=e;;){if(_e.tag===5){if(ve===null){ve=_e;try{s=_e.stateNode,ie?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(j=_e.stateNode,D=_e.memoizedProps.style,g=D!=null&&D.hasOwnProperty("display")?D.display:null,j.style.display=pn("display",g))}catch(He){Vt(e,e.return,He)}}}else if(_e.tag===6){if(ve===null)try{_e.stateNode.nodeValue=ie?"":_e.memoizedProps}catch(He){Vt(e,e.return,He)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===e)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===e)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===e)break e;ve===_e&&(ve=null),_e=_e.return}ve===_e&&(ve=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:Sr(t,e),Ar(e),r&4&&_d(e);break;case 21:break;default:Sr(t,e),Ar(e)}}function Ar(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(md(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kn(s,""),r.flags&=-33);var o=vd(e);Qu(e,o,s);break;case 3:case 4:var g=r.stateNode.containerInfo,j=vd(e);Zu(e,j,g);break;default:throw Error(a(161))}}catch(D){Vt(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ah(e,t,n){Ae=e,kd(e)}function kd(e,t,n){for(var r=(e.mode&1)!==0;Ae!==null;){var s=Ae,o=s.child;if(s.tag===22&&r){var g=s.memoizedState!==null||Ja;if(!g){var j=s.alternate,D=j!==null&&j.memoizedState!==null||yn;j=Ja;var ie=yn;if(Ja=g,(yn=D)&&!ie)for(Ae=s;Ae!==null;)g=Ae,D=g.child,g.tag===22&&g.memoizedState!==null?bd(s):D!==null?(D.return=g,Ae=D):bd(s);for(;o!==null;)Ae=o,kd(o),o=o.sibling;Ae=s,Ja=j,yn=ie}xd(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Ae=o):xd(e)}}function xd(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yn||Ga(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Sc(t,o,r);break;case 3:var g=t.updateQueue;if(g!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sc(t,g,n)}break;case 5:var j=t.stateNode;if(n===null&&t.flags&4){n=j;var D=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&n.focus();break;case"img":D.src&&(n.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ie=t.alternate;if(ie!==null){var ve=ie.memoizedState;if(ve!==null){var _e=ve.dehydrated;_e!==null&&Tt(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}yn||t.flags&512&&Bu(t)}catch(ge){Vt(t,t.return,ge)}}if(t===e){Ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function Sd(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function bd(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ga(4,t)}catch(D){Vt(t,n,D)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(D){Vt(t,s,D)}}var o=t.return;try{Bu(t)}catch(D){Vt(t,o,D)}break;case 5:var g=t.return;try{Bu(t)}catch(D){Vt(t,g,D)}}}catch(D){Vt(t,t.return,D)}if(t===e){Ae=null;break}var j=t.sibling;if(j!==null){j.return=t.return,Ae=j;break}Ae=t.return}}var oh=Math.ceil,Ya=X.ReactCurrentDispatcher,Ku=X.ReactCurrentOwner,cr=X.ReactCurrentBatchConfig,wt=0,an=null,Jt=null,dn=0,Jn=0,as=ai(0),en=0,Ws=null,ji=0,Xa=0,Ju=0,Vs=null,Ln=null,Gu=0,os=1/0,Jr=null,eo=!1,Yu=null,fi=null,to=!1,pi=null,no=0,$s=0,Xu=null,ro=-1,io=0;function En(){return wt&6?mt():ro!==-1?ro:ro=mt()}function hi(e){return e.mode&1?wt&2&&dn!==0?dn&-dn:Vp.transition!==null?(io===0&&(io=fe()),io):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:El(e.type)),e):1}function br(e,t,n,r){if(50<$s)throw $s=0,Xu=null,Error(a(185));Ze(e,n,r),(!(wt&2)||e!==an)&&(e===an&&(!(wt&2)&&(Xa|=n),en===4&&gi(e,dn)),Mn(e,r),n===1&&wt===0&&!(t.mode&1)&&(os=mt()+500,Ua&&ui()))}function Mn(e,t){var n=e.callbackNode;he(e,t);var r=ce(e,e===an?dn:0);if(r===0)n!==null&&yr(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yr(n),t===1)e.tag===0?Wp(Ed.bind(null,e)):dc(Ed.bind(null,e)),zp(function(){!(wt&6)&&ui()}),n=null;else{switch(ut(r)){case 1:n=hn;break;case 4:n=_;break;case 16:n=f;break;case 536870912:n=p;break;default:n=f}n=Nd(n,Td.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Td(e,t){if(ro=-1,io=0,wt&6)throw Error(a(327));var n=e.callbackNode;if(us()&&e.callbackNode!==n)return null;var r=ce(e,e===an?dn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=so(e,r);else{t=r;var s=wt;wt|=2;var o=Cd();(an!==e||dn!==t)&&(Jr=null,os=mt()+500,Ai(e,t));do try{ch();break}catch(j){Od(e,j)}while(!0);vu(),Ya.current=o,wt=s,Jt!==null?t=0:(an=null,dn=0,t=en)}if(t!==0){if(t===2&&(s=Ce(e),s!==0&&(r=s,t=el(e,s))),t===1)throw n=Ws,Ai(e,0),gi(e,r),Mn(e,mt()),n;if(t===6)gi(e,r);else{if(s=e.current.alternate,!(r&30)&&!uh(s)&&(t=so(e,r),t===2&&(o=Ce(e),o!==0&&(r=o,t=el(e,o))),t===1))throw n=Ws,Ai(e,0),gi(e,r),Mn(e,mt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:Li(e,Ln,Jr);break;case 3:if(gi(e,r),(r&130023424)===r&&(t=Gu+500-mt(),10<t)){if(ce(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){En(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=au(Li.bind(null,e,Ln,Jr),t);break}Li(e,Ln,Jr);break;case 4:if(gi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var g=31-S(r);o=1<<g,g=t[g],g>s&&(s=g),r&=~o}if(r=s,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oh(r/1960))-r,10<r){e.timeoutHandle=au(Li.bind(null,e,Ln,Jr),r);break}Li(e,Ln,Jr);break;case 5:Li(e,Ln,Jr);break;default:throw Error(a(329))}}}return Mn(e,mt()),e.callbackNode===n?Td.bind(null,e):null}function el(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(Ai(e,t).flags|=256),e=so(e,t),e!==2&&(t=Ln,Ln=n,t!==null&&tl(t)),e}function tl(e){Ln===null?Ln=e:Ln.push.apply(Ln,e)}function uh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!_r(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gi(e,t){for(t&=~Ju,t&=~Xa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-S(t),r=1<<n;e[n]=-1,t&=~r}}function Ed(e){if(wt&6)throw Error(a(327));us();var t=ce(e,0);if(!(t&1))return Mn(e,mt()),null;var n=so(e,t);if(e.tag!==0&&n===2){var r=Ce(e);r!==0&&(t=r,n=el(e,r))}if(n===1)throw n=Ws,Ai(e,0),gi(e,t),Mn(e,mt()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Li(e,Ln,Jr),Mn(e,mt()),null}function nl(e,t){var n=wt;wt|=1;try{return e(t)}finally{wt=n,wt===0&&(os=mt()+500,Ua&&ui())}}function Ni(e){pi!==null&&pi.tag===0&&!(wt&6)&&us();var t=wt;wt|=1;var n=cr.transition,r=Ee;try{if(cr.transition=null,Ee=1,e)return e()}finally{Ee=r,cr.transition=n,wt=t,!(wt&6)&&ui()}}function rl(){Jn=as.current,Rt(as)}function Ai(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dp(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ia();break;case 3:rs(),Rt(jn),Rt(gn),Tu();break;case 5:Su(r);break;case 4:rs();break;case 13:Rt(Dt);break;case 19:Rt(Dt);break;case 10:yu(r.type._context);break;case 22:case 23:rl()}n=n.return}if(an=e,Jt=e=mi(e.current,null),dn=Jn=t,en=0,Ws=null,Ju=Xa=ji=0,Ln=Vs=null,Ii!==null){for(t=0;t<Ii.length;t++)if(n=Ii[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var g=o.next;o.next=s,r.next=g}n.pending=r}Ii=null}return e}function Od(e,t){do{var n=Jt;try{if(vu(),qa.current=Ba,Wa){for(var r=zt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wa=!1}if(Ui=0,sn=Xt=zt=null,Ms=!1,Ds=0,Ku.current=null,n===null||n.return===null){en=1,Ws=t,Jt=null;break}e:{var o=e,g=n.return,j=n,D=t;if(t=dn,j.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var ie=D,ve=j,_e=ve.tag;if(!(ve.mode&1)&&(_e===0||_e===11||_e===15)){var ge=ve.alternate;ge?(ve.updateQueue=ge.updateQueue,ve.memoizedState=ge.memoizedState,ve.lanes=ge.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var je=Yc(g);if(je!==null){je.flags&=-257,Xc(je,g,j,o,t),je.mode&1&&Gc(o,ie,t),t=je,D=ie;var Me=t.updateQueue;if(Me===null){var He=new Set;He.add(D),t.updateQueue=He}else Me.add(D);break e}else{if(!(t&1)){Gc(o,ie,t),il();break e}D=Error(a(426))}}else if(jt&&j.mode&1){var Bt=Yc(g);if(Bt!==null){!(Bt.flags&65536)&&(Bt.flags|=256),Xc(Bt,g,j,o,t),gu(is(D,j));break e}}o=D=is(D,j),en!==4&&(en=2),Vs===null?Vs=[o]:Vs.push(o),o=g;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var J=Kc(o,D,t);xc(o,J);break e;case 1:j=D;var V=o.type,ee=o.stateNode;if(!(o.flags&128)&&(typeof V.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(fi===null||!fi.has(ee)))){o.flags|=65536,t&=-t,o.lanes|=t;var be=Jc(o,j,t);xc(o,be);break e}}o=o.return}while(o!==null)}Id(n)}catch(We){t=We,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(!0)}function Cd(){var e=Ya.current;return Ya.current=Ba,e===null?Ba:e}function il(){(en===0||en===3||en===2)&&(en=4),an===null||!(ji&268435455)&&!(Xa&268435455)||gi(an,dn)}function so(e,t){var n=wt;wt|=2;var r=Cd();(an!==e||dn!==t)&&(Jr=null,Ai(e,t));do try{lh();break}catch(s){Od(e,s)}while(!0);if(vu(),wt=n,Ya.current=r,Jt!==null)throw Error(a(261));return an=null,dn=0,en}function lh(){for(;Jt!==null;)Pd(Jt)}function ch(){for(;Jt!==null&&!Un();)Pd(Jt)}function Pd(e){var t=jd(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?Id(e):Jt=t,Ku.current=null}function Id(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rh(n,t),n!==null){n.flags&=32767,Jt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{en=6,Jt=null;return}}else if(n=nh(n,t,Jn),n!==null){Jt=n;return}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=e}while(t!==null);en===0&&(en=5)}function Li(e,t,n){var r=Ee,s=cr.transition;try{cr.transition=null,Ee=1,dh(e,t,n,r)}finally{cr.transition=s,Ee=r}return null}function dh(e,t,n,r){do us();while(pi!==null);if(wt&6)throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(vt(e,o),e===an&&(Jt=an=null,dn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||to||(to=!0,Nd(f,function(){return us(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cr.transition,cr.transition=null;var g=Ee;Ee=1;var j=wt;wt|=4,Ku.current=null,sh(e,n),wd(n,e),Rp(iu),sr=!!ru,iu=ru=null,e.current=n,ah(n),Ut(),wt=j,Ee=g,cr.transition=o}else e.current=n;if(to&&(to=!1,pi=e,no=s),o=e.pendingLanes,o===0&&(fi=null),w(n.stateNode),Mn(e,mt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(eo)throw eo=!1,e=Yu,Yu=null,e;return no&1&&e.tag!==0&&us(),o=e.pendingLanes,o&1?e===Xu?$s++:($s=0,Xu=e):$s=0,ui(),null}function us(){if(pi!==null){var e=ut(no),t=cr.transition,n=Ee;try{if(cr.transition=null,Ee=16>e?16:e,pi===null)var r=!1;else{if(e=pi,pi=null,no=0,wt&6)throw Error(a(331));var s=wt;for(wt|=4,Ae=e.current;Ae!==null;){var o=Ae,g=o.child;if(Ae.flags&16){var j=o.deletions;if(j!==null){for(var D=0;D<j.length;D++){var ie=j[D];for(Ae=ie;Ae!==null;){var ve=Ae;switch(ve.tag){case 0:case 11:case 15:qs(8,ve,o)}var _e=ve.child;if(_e!==null)_e.return=ve,Ae=_e;else for(;Ae!==null;){ve=Ae;var ge=ve.sibling,je=ve.return;if(gd(ve),ve===ie){Ae=null;break}if(ge!==null){ge.return=je,Ae=ge;break}Ae=je}}}var Me=o.alternate;if(Me!==null){var He=Me.child;if(He!==null){Me.child=null;do{var Bt=He.sibling;He.sibling=null,He=Bt}while(He!==null)}}Ae=o}}if(o.subtreeFlags&2064&&g!==null)g.return=o,Ae=g;else e:for(;Ae!==null;){if(o=Ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:qs(9,o,o.return)}var J=o.sibling;if(J!==null){J.return=o.return,Ae=J;break e}Ae=o.return}}var V=e.current;for(Ae=V;Ae!==null;){g=Ae;var ee=g.child;if(g.subtreeFlags&2064&&ee!==null)ee.return=g,Ae=ee;else e:for(g=V;Ae!==null;){if(j=Ae,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Ga(9,j)}}catch(We){Vt(j,j.return,We)}if(j===g){Ae=null;break e}var be=j.sibling;if(be!==null){be.return=j.return,Ae=be;break e}Ae=j.return}}if(wt=s,ui(),y&&typeof y.onPostCommitFiberRoot=="function")try{y.onPostCommitFiberRoot(k,e)}catch{}r=!0}return r}finally{Ee=n,cr.transition=t}}return!1}function Rd(e,t,n){t=is(n,t),t=Kc(e,t,1),e=ci(e,t,1),t=En(),e!==null&&(Ze(e,1,t),Mn(e,t))}function Vt(e,t,n){if(e.tag===3)Rd(e,e,n);else for(;t!==null;){if(t.tag===3){Rd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){e=is(n,e),e=Jc(t,e,1),t=ci(t,e,1),e=En(),t!==null&&(Ze(t,1,e),Mn(t,e));break}}t=t.return}}function fh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=En(),e.pingedLanes|=e.suspendedLanes&n,an===e&&(dn&n)===n&&(en===4||en===3&&(dn&130023424)===dn&&500>mt()-Gu?Ai(e,0):Ju|=n),Mn(e,t)}function Ud(e,t){t===0&&(e.mode&1?(t=B,B<<=1,!(B&130023424)&&(B=4194304)):t=1);var n=En();e=Zr(e,t),e!==null&&(Ze(e,t,n),Mn(e,n))}function ph(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ud(e,n)}function hh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}r!==null&&r.delete(t),Ud(e,n)}var jd;jd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jn.current)An=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return An=!1,th(e,t,n);An=!!(e.flags&131072)}else An=!1,jt&&t.flags&1048576&&fc(t,Na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var s=Ji(t,gn.current);ns(t,n),s=Cu(null,t,r,e,s,n);var o=Pu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nn(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ku(t),s.updater=Za,t.stateNode=s,s._reactInternals=t,Au(t,r,e,n),t=zu(null,t,r,!0,o,n)):(t.tag=0,jt&&o&&du(t),Tn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=mh(r),e=kr(r,e),s){case 0:t=Du(null,t,r,e,n);break e;case 1:t=sd(null,t,r,e,n);break e;case 11:t=ed(null,t,r,e,n);break e;case 14:t=td(null,t,r,kr(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),Du(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),sd(e,t,r,s,n);case 3:e:{if(ad(t),e===null)throw Error(a(387));r=t.pendingProps,o=t.memoizedState,s=o.element,kc(e,t),Fa(t,r,null,n);var g=t.memoizedState;if(r=g.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=is(Error(a(423)),t),t=od(e,t,r,n,s);break e}else if(r!==s){s=is(Error(a(424)),t),t=od(e,t,r,n,s);break e}else for(Kn=si(t.stateNode.containerInfo.firstChild),Qn=t,jt=!0,wr=null,n=_c(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xi(),r===s){t=Kr(e,t,n);break e}Tn(e,t,r,n)}t=t.child}return t;case 5:return bc(t),e===null&&hu(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,g=s.children,su(r,s)?g=null:o!==null&&su(r,o)&&(t.flags|=32),id(e,t),Tn(e,t,g,n),t.child;case 6:return e===null&&hu(t),null;case 13:return ud(e,t,n);case 4:return xu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=es(t,null,r,n):Tn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),ed(e,t,r,s,n);case 7:return Tn(e,t,t.pendingProps,n),t.child;case 8:return Tn(e,t,t.pendingProps.children,n),t.child;case 12:return Tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,g=s.value,Et(Ma,r._currentValue),r._currentValue=g,o!==null)if(_r(o.value,g)){if(o.children===s.children&&!jn.current){t=Kr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var j=o.dependencies;if(j!==null){g=o.child;for(var D=j.firstContext;D!==null;){if(D.context===r){if(o.tag===1){D=Qr(-1,n&-n),D.tag=2;var ie=o.updateQueue;if(ie!==null){ie=ie.shared;var ve=ie.pending;ve===null?D.next=D:(D.next=ve.next,ve.next=D),ie.pending=D}}o.lanes|=n,D=o.alternate,D!==null&&(D.lanes|=n),_u(o.return,n,t),j.lanes|=n;break}D=D.next}}else if(o.tag===10)g=o.type===t.type?null:o.child;else if(o.tag===18){if(g=o.return,g===null)throw Error(a(341));g.lanes|=n,j=g.alternate,j!==null&&(j.lanes|=n),_u(g,n,t),g=o.sibling}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===t){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}Tn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ns(t,n),s=ur(s),r=r(s),t.flags|=1,Tn(e,t,r,n),t.child;case 14:return r=t.type,s=kr(r,t.pendingProps),s=kr(r.type,s),td(e,t,r,s,n);case 15:return nd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),Ka(e,t),t.tag=1,Nn(r)?(e=!0,Ra(t)):e=!1,ns(t,n),Zc(t,r,s),Au(t,r,s,n),zu(null,t,r,!0,e,n);case 19:return cd(e,t,n);case 22:return rd(e,t,n)}throw Error(a(156,t.tag))};function Nd(e,t){return Bn(e,t)}function gh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,n,r){return new gh(e,t,n,r)}function sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mh(e){if(typeof e=="function")return sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rt)return 11;if(e===xe)return 14}return 2}function mi(e,t){var n=e.alternate;return n===null?(n=dr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ao(e,t,n,r,s,o){var g=2;if(r=e,typeof e=="function")sl(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Y:return Mi(n.children,s,o,t);case me:g=8,s|=8;break;case Fe:return e=dr(12,n,t,s|2),e.elementType=Fe,e.lanes=o,e;case at:return e=dr(13,n,t,s),e.elementType=at,e.lanes=o,e;case pt:return e=dr(19,n,t,s),e.elementType=pt,e.lanes=o,e;case ye:return oo(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break e;case qe:g=9;break e;case rt:g=11;break e;case xe:g=14;break e;case Ue:g=16,r=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=dr(g,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Mi(e,t,n,r){return e=dr(7,e,r,t),e.lanes=n,e}function oo(e,t,n,r){return e=dr(22,e,r,t),e.elementType=ye,e.lanes=n,e.stateNode={isHidden:!1},e}function al(e,t,n){return e=dr(6,e,null,t),e.lanes=n,e}function ol(e,t,n){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ke(0),this.expirationTimes=ke(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ul(e,t,n,r,s,o,g,j,D){return e=new vh(e,t,n,j,D),t===1?(t=1,o===!0&&(t|=8)):t=0,o=dr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(o),e}function yh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ad(e){if(!e)return oi;e=e._reactInternals;e:{if(gt(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(Nn(n))return lc(e,n,t)}return t}function Ld(e,t,n,r,s,o,g,j,D){return e=ul(n,r,!0,e,s,o,g,j,D),e.context=Ad(null),n=e.current,r=En(),s=hi(n),o=Qr(r,s),o.callback=t??null,ci(n,o,s),e.current.lanes=s,Ze(e,s,r),Mn(e,r),e}function uo(e,t,n,r){var s=t.current,o=En(),g=hi(s);return n=Ad(n),t.context===null?t.context=n:t.pendingContext=n,t=Qr(o,g),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ci(s,t,g),e!==null&&(br(e,s,g,o),za(e,s,g)),g}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ll(e,t){Md(e,t),(e=e.alternate)&&Md(e,t)}var Dd=typeof reportError=="function"?reportError:function(e){console.error(e)};function cl(e){this._internalRoot=e}co.prototype.render=cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));uo(e,t,null,null)},co.prototype.unmount=cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){uo(null,e,null,null)}),t[Wr]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<q.length&&t!==0&&t<q[n].priority;n++);q.splice(n,0,e),n===0&&ze(e)}};function dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zd(){}function _h(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var ie=lo(g);o.call(ie)}}var g=Ld(t,r,e,0,null,!1,!1,"",zd);return e._reactRootContainer=g,e[Wr]=g.current,Ps(e.nodeType===8?e.parentNode:e),Ni(),g}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var j=r;r=function(){var ie=lo(D);j.call(ie)}}var D=ul(e,0,!1,null,null,!1,!1,"",zd);return e._reactRootContainer=D,e[Wr]=D.current,Ps(e.nodeType===8?e.parentNode:e),Ni(function(){uo(t,D,n,r)}),D}function po(e,t,n,r,s){var o=n._reactRootContainer;if(o){var g=o;if(typeof s=="function"){var j=s;s=function(){var D=lo(g);j.call(D)}}uo(t,g,e,s)}else g=_h(n,t,e,s,r);return lo(g)}Qe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ae(t.pendingLanes);n!==0&&(dt(t,n|1),Mn(t,mt()),!(wt&6)&&(os=mt()+500,ui()))}break;case 13:Ni(function(){var r=Zr(e,1);if(r!==null){var s=En();br(r,e,1,s)}}),ll(e,1)}},Ie=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var n=En();br(t,e,134217728,n)}ll(e,134217728)}},St=function(e){if(e.tag===13){var t=hi(e),n=Zr(e,t);if(n!==null){var r=En();br(n,e,t,r)}ll(e,t)}},Pt=function(){return Ee},At=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}},$n=function(e,t,n){switch(t){case"input":if(qt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Pa(r);if(!s)throw Error(a(90));Gt(r),qt(r,s)}}}break;case"textarea":qn(e,n);break;case"select":t=n.value,t!=null&&Ye(e,!!n.multiple,t,!1)}},Pr=nl,qr=Ni;var wh={usingClientEntryPoint:!1,Events:[Us,Qi,Pa,gr,xn,nl]},Bs={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kh={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kt(e),e===null?null:e.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{k=ho.inject(kh),y=ho}catch{}}return Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wh,Dn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dl(t))throw Error(a(200));return yh(e,t,null,n)},Dn.createRoot=function(e,t){if(!dl(e))throw Error(a(299));var n=!1,r="",s=Dd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ul(e,1,!1,null,null,n,!1,r,s),e[Wr]=t.current,Ps(e.nodeType===8?e.parentNode:e),new cl(t)},Dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Kt(t),e=e===null?null:e.stateNode,e},Dn.flushSync=function(e){return Ni(e)},Dn.hydrate=function(e,t,n){if(!fo(t))throw Error(a(200));return po(null,e,t,!0,n)},Dn.hydrateRoot=function(e,t,n){if(!dl(e))throw Error(a(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",g=Dd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),t=Ld(t,null,e,1,n??null,s,!1,o,g),e[Wr]=t.current,Ps(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new co(t)},Dn.render=function(e,t,n){if(!fo(t))throw Error(a(200));return po(null,e,t,!1,n)},Dn.unmountComponentAtNode=function(e){if(!fo(e))throw Error(a(40));return e._reactRootContainer?(Ni(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[Wr]=null})}),!0):!1},Dn.unstable_batchedUpdates=nl,Dn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fo(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return po(e,t,n,!1,r)},Dn.version="18.3.1-next-f1338f8080-20240426",Dn}var Zd;function Ih(){if(Zd)return hl.exports;Zd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),hl.exports=Ph(),hl.exports}var Qd;function Rh(){if(Qd)return go;Qd=1;var u=Ih();return go.createRoot=u.createRoot,go.hydrateRoot=u.hydrateRoot,go}var Uh=Rh();const jh=Rf(Uh);var vl={},Gr={},yl={},fr={},mo={exports:{}};/*! For license information please see index.js.LICENSE.txt */var Kd;function jf(){return Kd||(Kd=1,function(u,i){(()=>{var a={480:function(d,m,v){var T=this&&this.__createBinding||(Object.create?function(P,U,O,R){R===void 0&&(R=O);var H=Object.getOwnPropertyDescriptor(U,O);H&&!("get"in H?!U.__esModule:H.writable||H.configurable)||(H={enumerable:!0,get:function(){return U[O]}}),Object.defineProperty(P,R,H)}:function(P,U,O,R){R===void 0&&(R=O),P[R]=U[O]}),C=this&&this.__setModuleDefault||(Object.create?function(P,U){Object.defineProperty(P,"default",{enumerable:!0,value:U})}:function(P,U){P.default=U}),N=this&&this.__exportStar||function(P,U){for(var O in P)O==="default"||Object.prototype.hasOwnProperty.call(U,O)||T(U,P,O)},Z=this&&this.__importStar||function(P){if(P&&P.__esModule)return P;var U={};if(P!=null)for(var O in P)O!=="default"&&Object.prototype.hasOwnProperty.call(P,O)&&T(U,P,O);return C(U,P),U};Object.defineProperty(m,"__esModule",{value:!0}),m.jwt_decode_ns=void 0,N(v(517),m);var Q=Z(v(196));m.jwt_decode_ns=Q},517:(d,m,v)=>{var T=["timeoutInSeconds"],C=["grant_type","redirect_uri","client_id","client_secret","extraHeaders"],N=["grant_type","client_id","client_secret","scope"],Z=["grant_type","client_id","client_secret","timeoutInSeconds","extraHeaders"],Q=["configHash","url","authority","client_id","redirect_uri","response_type","scope","state_data","response_mode","request_type","client_secret","nonce","url_state","resource","skipUserInfo","extraQueryParams","extraTokenParams","disablePKCE","dpopJkt","omitScopeWhenRequesting"],P=["redirectMethod"],U=["popupWindowFeatures","popupWindowTarget","popupSignal"],O=["silentRequestTimeoutInSeconds"],R=["silentRequestTimeoutInSeconds"],H=["redirectMethod"],z=["popupWindowFeatures","popupWindowTarget","popupSignal"],te=["silentRequestTimeoutInSeconds"];function X(_,f){var h=Object.keys(_);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(_);f&&(p=p.filter(function(k){return Object.getOwnPropertyDescriptor(_,k).enumerable})),h.push.apply(h,p)}return h}function oe(_){for(var f=1;f<arguments.length;f++){var h=arguments[f]!=null?arguments[f]:{};f%2?X(Object(h),!0).forEach(function(p){se(_,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(h)):X(Object(h)).forEach(function(p){Object.defineProperty(_,p,Object.getOwnPropertyDescriptor(h,p))})}return _}function se(_,f,h){return(f=Be(f))in _?Object.defineProperty(_,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):_[f]=h,_}function Y(_,f){if(_==null)return{};var h,p,k=function(w,S){if(w==null)return{};var E={};for(var I in w)if({}.hasOwnProperty.call(w,I)){if(S.includes(I))continue;E[I]=w[I]}return E}(_,f);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(_);for(p=0;p<y.length;p++)h=y[p],f.includes(h)||{}.propertyIsEnumerable.call(_,h)&&(k[h]=_[h])}return k}function me(_){var f=typeof Map=="function"?new Map:void 0;return me=function(h){if(h===null||!function(k){try{return Function.toString.call(k).indexOf("[native code]")!==-1}catch{return typeof k=="function"}}(h))return h;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(f!==void 0){if(f.has(h))return f.get(h);f.set(h,p)}function p(){return function(k,y,w){if(ft())return Reflect.construct.apply(null,arguments);var S=[null];S.push.apply(S,y);var E=new(k.bind.apply(k,S));return w&&rt(E,w.prototype),E}(h,arguments,xe(this).constructor)}return p.prototype=Object.create(h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),rt(p,h)},me(_)}function Fe(_,f,h){return f=xe(f),function(p,k){if(k&&(nt(k)=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p)}(_,ft()?Reflect.construct(f,h||[],xe(_).constructor):f.apply(_,h))}function ft(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ft=function(){return!!_})()}function qe(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(f&&f.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),f&&rt(_,f)}function rt(_,f){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,p){return h.__proto__=p,h},rt(_,f)}function at(_,f,h,p){var k=pt(xe(1&p?_.prototype:_),f,h);return 2&p?function(y){return k.apply(h,y)}:k}function pt(){return pt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(_,f,h){var p=function(y,w){for(;!{}.hasOwnProperty.call(y,w)&&(y=xe(y))!==null;);return y}(_,f);if(p){var k=Object.getOwnPropertyDescriptor(p,f);return k.get?k.get.call(arguments.length<3?_:h):k.value}},pt.apply(null,arguments)}function xe(_){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},xe(_)}function Ue(_,f){return function(h){if(Array.isArray(h))return h}(_)||function(h,p){var k=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(k!=null){var y,w,S,E,I=[],A=!0,M=!1;try{if(S=(k=k.call(h)).next,p!==0)for(;!(A=(y=S.call(k)).done)&&(I.push(y.value),I.length!==p);A=!0);}catch(B){M=!0,w=B}finally{try{if(!A&&k.return!=null&&(E=k.return(),Object(E)!==E))return}finally{if(M)throw w}}return I}}(_,f)||ot(_,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ye(){return ye=Object.assign?Object.assign.bind():function(_){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var p in h)({}).hasOwnProperty.call(h,p)&&(_[p]=h[p])}return _},ye.apply(null,arguments)}function K(_){return function(f){if(Array.isArray(f))return it(f)}(_)||function(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}(_)||ot(_)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(){b=function(){return f};var _,f={},h=Object.prototype,p=h.hasOwnProperty,k=Object.defineProperty||function(de,F,L){de[F]=L.value},y=typeof Symbol=="function"?Symbol:{},w=y.iterator||"@@iterator",S=y.asyncIterator||"@@asyncIterator",E=y.toStringTag||"@@toStringTag";function I(de,F,L){return Object.defineProperty(de,F,{value:L,enumerable:!0,configurable:!0,writable:!0}),de[F]}try{I({},"")}catch{I=function(F,L,G){return F[L]=G}}function A(de,F,L,G){var W=F&&F.prototype instanceof Ce?F:Ce,q=Object.create(W.prototype),re=new Wt(G||[]);return k(q,"_invoke",{value:Ie(de,L,re)}),q}function M(de,F,L){try{return{type:"normal",arg:de.call(F,L)}}catch(G){return{type:"throw",arg:G}}}f.wrap=A;var B="suspendedStart",ae="suspendedYield",ce="executing",ne="completed",he={};function Ce(){}function fe(){}function ke(){}var Ze={};I(Ze,w,function(){return this});var vt=Object.getPrototypeOf,dt=vt&&vt(vt(Lt([])));dt&&dt!==h&&p.call(dt,w)&&(Ze=dt);var Ee=ke.prototype=Ce.prototype=Object.create(Ze);function ut(de){["next","throw","return"].forEach(function(F){I(de,F,function(L){return this._invoke(F,L)})})}function Qe(de,F){function L(W,q,re,Te){var Se=M(de[W],de,q);if(Se.type!=="throw"){var Oe=Se.arg,ze=Oe.value;return ze&&nt(ze)=="object"&&p.call(ze,"__await")?F.resolve(ze.__await).then(function(Le){L("next",Le,re,Te)},function(Le){L("throw",Le,re,Te)}):F.resolve(ze).then(function(Le){Oe.value=Le,re(Oe)},function(Le){return L("throw",Le,re,Te)})}Te(Se.arg)}var G;k(this,"_invoke",{value:function(W,q){function re(){return new F(function(Te,Se){L(W,q,Te,Se)})}return G=G?G.then(re,re):re()}})}function Ie(de,F,L){var G=B;return function(W,q){if(G===ce)throw Error("Generator is already running");if(G===ne){if(W==="throw")throw q;return{value:_,done:!0}}for(L.method=W,L.arg=q;;){var re=L.delegate;if(re){var Te=St(re,L);if(Te){if(Te===he)continue;return Te}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(G===B)throw G=ne,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);G=ce;var Se=M(de,F,L);if(Se.type==="normal"){if(G=L.done?ne:ae,Se.arg===he)continue;return{value:Se.arg,done:L.done}}Se.type==="throw"&&(G=ne,L.method="throw",L.arg=Se.arg)}}}function St(de,F){var L=F.method,G=de.iterator[L];if(G===_)return F.delegate=null,L==="throw"&&de.iterator.return&&(F.method="return",F.arg=_,St(de,F),F.method==="throw")||L!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+L+"' method")),he;var W=M(G,de.iterator,F.arg);if(W.type==="throw")return F.method="throw",F.arg=W.arg,F.delegate=null,he;var q=W.arg;return q?q.done?(F[de.resultName]=q.value,F.next=de.nextLoc,F.method!=="return"&&(F.method="next",F.arg=_),F.delegate=null,he):q:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,he)}function Pt(de){var F={tryLoc:de[0]};1 in de&&(F.catchLoc=de[1]),2 in de&&(F.finallyLoc=de[2],F.afterLoc=de[3]),this.tryEntries.push(F)}function At(de){var F=de.completion||{};F.type="normal",delete F.arg,de.completion=F}function Wt(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(Pt,this),this.reset(!0)}function Lt(de){if(de||de===""){var F=de[w];if(F)return F.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var L=-1,G=function W(){for(;++L<de.length;)if(p.call(de,L))return W.value=de[L],W.done=!1,W;return W.value=_,W.done=!0,W};return G.next=G}}throw new TypeError(nt(de)+" is not iterable")}return fe.prototype=ke,k(Ee,"constructor",{value:ke,configurable:!0}),k(ke,"constructor",{value:fe,configurable:!0}),fe.displayName=I(ke,E,"GeneratorFunction"),f.isGeneratorFunction=function(de){var F=typeof de=="function"&&de.constructor;return!!F&&(F===fe||(F.displayName||F.name)==="GeneratorFunction")},f.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,ke):(de.__proto__=ke,I(de,E,"GeneratorFunction")),de.prototype=Object.create(Ee),de},f.awrap=function(de){return{__await:de}},ut(Qe.prototype),I(Qe.prototype,S,function(){return this}),f.AsyncIterator=Qe,f.async=function(de,F,L,G,W){W===void 0&&(W=Promise);var q=new Qe(A(de,F,L,G),W);return f.isGeneratorFunction(F)?q:q.next().then(function(re){return re.done?re.value:q.next()})},ut(Ee),I(Ee,E,"Generator"),I(Ee,w,function(){return this}),I(Ee,"toString",function(){return"[object Generator]"}),f.keys=function(de){var F=Object(de),L=[];for(var G in F)L.push(G);return L.reverse(),function W(){for(;L.length;){var q=L.pop();if(q in F)return W.value=q,W.done=!1,W}return W.done=!0,W}},f.values=Lt,Wt.prototype={constructor:Wt,reset:function(de){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(At),!de)for(var F in this)F.charAt(0)==="t"&&p.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=_)},stop:function(){this.done=!0;var de=this.tryEntries[0].completion;if(de.type==="throw")throw de.arg;return this.rval},dispatchException:function(de){if(this.done)throw de;var F=this;function L(Se,Oe){return q.type="throw",q.arg=de,F.next=Se,Oe&&(F.method="next",F.arg=_),!!Oe}for(var G=this.tryEntries.length-1;G>=0;--G){var W=this.tryEntries[G],q=W.completion;if(W.tryLoc==="root")return L("end");if(W.tryLoc<=this.prev){var re=p.call(W,"catchLoc"),Te=p.call(W,"finallyLoc");if(re&&Te){if(this.prev<W.catchLoc)return L(W.catchLoc,!0);if(this.prev<W.finallyLoc)return L(W.finallyLoc)}else if(re){if(this.prev<W.catchLoc)return L(W.catchLoc,!0)}else{if(!Te)throw Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return L(W.finallyLoc)}}}},abrupt:function(de,F){for(var L=this.tryEntries.length-1;L>=0;--L){var G=this.tryEntries[L];if(G.tryLoc<=this.prev&&p.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var W=G;break}}W&&(de==="break"||de==="continue")&&W.tryLoc<=F&&F<=W.finallyLoc&&(W=null);var q=W?W.completion:{};return q.type=de,q.arg=F,W?(this.method="next",this.next=W.finallyLoc,he):this.complete(q)},complete:function(de,F){if(de.type==="throw")throw de.arg;return de.type==="break"||de.type==="continue"?this.next=de.arg:de.type==="return"?(this.rval=this.arg=de.arg,this.method="return",this.next="end"):de.type==="normal"&&F&&(this.next=F),he},finish:function(de){for(var F=this.tryEntries.length-1;F>=0;--F){var L=this.tryEntries[F];if(L.finallyLoc===de)return this.complete(L.completion,L.afterLoc),At(L),he}},catch:function(de){for(var F=this.tryEntries.length-1;F>=0;--F){var L=this.tryEntries[F];if(L.tryLoc===de){var G=L.completion;if(G.type==="throw"){var W=G.arg;At(L)}return W}}throw Error("illegal catch attempt")},delegateYield:function(de,F,L){return this.delegate={iterator:Lt(de),resultName:F,nextLoc:L},this.method==="next"&&(this.arg=_),he}},f}function ue(_,f,h,p,k,y,w){try{var S=_[y](w),E=S.value}catch(I){return void h(I)}S.done?f(E):Promise.resolve(E).then(p,k)}function x(_){return function(){var f=this,h=arguments;return new Promise(function(p,k){var y=_.apply(f,h);function w(E){ue(y,p,k,w,S,"next",E)}function S(E){ue(y,p,k,w,S,"throw",E)}w(void 0)})}}function $(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}function De(_,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(_,Be(p.key),p)}}function le(_,f,h){return f&&De(_.prototype,f),h&&De(_,h),Object.defineProperty(_,"prototype",{writable:!1}),_}function Be(_){var f=function(h){if(nt(h)!="object"||!h)return h;var p=h[Symbol.toPrimitive];if(p!==void 0){var k=p.call(h,"string");if(nt(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(_);return nt(f)=="symbol"?f:f+""}function $e(_,f){var h=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!h){if(Array.isArray(_)||(h=ot(_))||f){h&&(_=h);var p=0,k=function(){};return{s:k,n:function(){return p>=_.length?{done:!0}:{done:!1,value:_[p++]}},e:function(E){throw E},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,w=!0,S=!1;return{s:function(){h=h.call(_)},n:function(){var E=h.next();return w=E.done,E},e:function(E){S=!0,y=E},f:function(){try{w||h.return==null||h.return()}finally{if(S)throw y}}}}function ot(_,f){if(_){if(typeof _=="string")return it(_,f);var h={}.toString.call(_).slice(8,-1);return h==="Object"&&_.constructor&&(h=_.constructor.name),h==="Map"||h==="Set"?Array.from(_):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?it(_,f):void 0}}function it(_,f){(f==null||f>_.length)&&(f=_.length);for(var h=0,p=Array(f);h<f;h++)p[h]=_[h];return p}function nt(_){return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},nt(_)}var Nt,Ot=Object.defineProperty,Gt=Object.getOwnPropertyDescriptor,Fn=Object.getOwnPropertyNames,$t=Object.prototype.hasOwnProperty,pe={};(function(_,f){for(var h in f)Ot(_,h,{get:f[h],enumerable:!0})})(pe,{AccessTokenEvents:function(){return pn},CheckSessionIFrame:function(){return hr},DPoPState:function(){return rr},ErrorResponse:function(){return Qt},ErrorTimeout:function(){return pr},InMemoryWebStorage:function(){return Hr},IndexedDbDPoPStore:function(){return hn},Log:function(){return un},Logger:function(){return Ye},MetadataService:function(){return Vn},OidcClient:function(){return vr},OidcClientSettingsStore:function(){return $n},SessionMonitor:function(){return Rr},SigninResponse:function(){return nr},SigninState:function(){return xn},SignoutResponse:function(){return mr},State:function(){return gr},User:function(){return Rn},UserManager:function(){return mt},UserManagerSettingsStore:function(){return yt},Version:function(){return Ct},WebStorageStateStore:function(){return er}}),d.exports=(Nt=pe,function(_,f,h,p){if(f&&nt(f)==="object"||typeof f=="function"){var k,y=$e(Fn(f));try{var w=function(){var S=k.value;$t.call(_,S)||S===void 0||Ot(_,S,{get:function(){return f[S]},enumerable:!(p=Gt(f,S))||p.enumerable})};for(y.s();!(k=y.n()).done;)w()}catch(S){y.e(S)}finally{y.f()}}return _}(Ot({},"__esModule",{value:!0}),Nt));var Ht,qt,Yt,tn={debug:function(){},info:function(){},warn:function(){},error:function(){}},un=function(_){return _[_.NONE=0]="NONE",_[_.ERROR=1]="ERROR",_[_.WARN=2]="WARN",_[_.INFO=3]="INFO",_[_.DEBUG=4]="DEBUG",_}(un||{});(Yt=un).reset=function(){Ht=3,qt=tn},Yt.setLevel=function(_){if(!(0<=_&&_<=4))throw new Error("Invalid log level");Ht=_},Yt.setLogger=function(_){qt=_};var Ye=function(){function _(f){$(this,_),this._name=f}return le(_,[{key:"debug",value:function(){if(Ht>=4){for(var f,h=arguments.length,p=new Array(h),k=0;k<h;k++)p[k]=arguments[k];(f=qt).debug.apply(f,[_._format(this._name,this._method)].concat(p))}}},{key:"info",value:function(){if(Ht>=3){for(var f,h=arguments.length,p=new Array(h),k=0;k<h;k++)p[k]=arguments[k];(f=qt).info.apply(f,[_._format(this._name,this._method)].concat(p))}}},{key:"warn",value:function(){if(Ht>=2){for(var f,h=arguments.length,p=new Array(h),k=0;k<h;k++)p[k]=arguments[k];(f=qt).warn.apply(f,[_._format(this._name,this._method)].concat(p))}}},{key:"error",value:function(){if(Ht>=1){for(var f,h=arguments.length,p=new Array(h),k=0;k<h;k++)p[k]=arguments[k];(f=qt).error.apply(f,[_._format(this._name,this._method)].concat(p))}}},{key:"throw",value:function(f){throw this.error(f),f}},{key:"create",value:function(f){var h=Object.create(this);return h._method=f,h.debug("begin"),h}}],[{key:"createStatic",value:function(f,h){var p=new _("".concat(f,".").concat(h));return p.debug("begin"),p}},{key:"_format",value:function(f,h){var p="[".concat(f,"]");return h?"".concat(p," ").concat(h,":"):p}},{key:"debug",value:function(f){if(Ht>=4){for(var h,p=arguments.length,k=new Array(p>1?p-1:0),y=1;y<p;y++)k[y-1]=arguments[y];(h=qt).debug.apply(h,[_._format(f)].concat(k))}}},{key:"info",value:function(f){if(Ht>=3){for(var h,p=arguments.length,k=new Array(p>1?p-1:0),y=1;y<p;y++)k[y-1]=arguments[y];(h=qt).info.apply(h,[_._format(f)].concat(k))}}},{key:"warn",value:function(f){if(Ht>=2){for(var h,p=arguments.length,k=new Array(p>1?p-1:0),y=1;y<p;y++)k[y-1]=arguments[y];(h=qt).warn.apply(h,[_._format(f)].concat(k))}}},{key:"error",value:function(f){if(Ht>=1){for(var h,p=arguments.length,k=new Array(p>1?p-1:0),y=1;y<p;y++)k[y-1]=arguments[y];(h=qt).error.apply(h,[_._format(f)].concat(k))}}}])}();un.reset();var Cr=v(196),Hn=function(){return le(function f(){$(this,f)},null,[{key:"decode",value:function(f){try{return(0,Cr.jwtDecode)(f)}catch(h){throw Ye.error("JwtUtils.decode",h),h}}},{key:"generateSignedJwt",value:(_=x(b().mark(function f(h,p,k){var y,w,S,E,I;return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return y=Zt.encodeBase64Url(new TextEncoder().encode(JSON.stringify(h))),w=Zt.encodeBase64Url(new TextEncoder().encode(JSON.stringify(p))),S="".concat(y,".").concat(w),A.next=5,window.crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},k,new TextEncoder().encode(S));case 5:return E=A.sent,I=Zt.encodeBase64Url(new Uint8Array(E)),A.abrupt("return","".concat(S,".").concat(I));case 8:case"end":return A.stop()}},f)})),function(f,h,p){return _.apply(this,arguments)})}]);var _}(),qn=function(_){return btoa(K(new Uint8Array(_)).map(function(f){return String.fromCharCode(f)}).join(""))},Fr=function(){function _(){$(this,_)}return le(_,null,[{key:"_randomWord",value:function(){var S=new Uint32Array(1);return crypto.getRandomValues(S),S[0]}},{key:"generateUUIDv4",value:function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(S){return(+S^_._randomWord()&15>>+S/4).toString(16)}).replace(/-/g,"")}},{key:"generateCodeVerifier",value:function(){return _.generateUUIDv4()+_.generateUUIDv4()+_.generateUUIDv4()}},{key:"generateCodeChallenge",value:(w=x(b().mark(function S(E){var I,A,M;return b().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(crypto.subtle){B.next=2;break}throw new Error("Crypto.subtle is available only in secure contexts (HTTPS).");case 2:return B.prev=2,I=new TextEncoder,A=I.encode(E),B.next=7,crypto.subtle.digest("SHA-256",A);case 7:return M=B.sent,B.abrupt("return",qn(M).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""));case 11:throw B.prev=11,B.t0=B.catch(2),Ye.error("CryptoUtils.generateCodeChallenge",B.t0),B.t0;case 15:case"end":return B.stop()}},S,null,[[2,11]])})),function(S){return w.apply(this,arguments)})},{key:"generateBasicAuth",value:function(S,E){var I=new TextEncoder().encode([S,E].join(":"));return qn(I)}},{key:"hash",value:(y=x(b().mark(function S(E,I){var A,M;return b().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return A=new TextEncoder().encode(I),B.next=3,crypto.subtle.digest(E,A);case 3:return M=B.sent,B.abrupt("return",new Uint8Array(M));case 5:case"end":return B.stop()}},S)})),function(S,E){return y.apply(this,arguments)})},{key:"customCalculateJwkThumbprint",value:(k=x(b().mark(function S(E){var I,A;return b().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:M.t0=E.kty,M.next=M.t0==="RSA"?3:M.t0==="EC"?5:M.t0==="OKP"?7:M.t0==="oct"?9:11;break;case 3:return I={e:E.e,kty:E.kty,n:E.n},M.abrupt("break",12);case 5:return I={crv:E.crv,kty:E.kty,x:E.x,y:E.y},M.abrupt("break",12);case 7:return I={crv:E.crv,kty:E.kty,x:E.x},M.abrupt("break",12);case 9:return I={crv:E.k,kty:E.kty},M.abrupt("break",12);case 11:throw new Error("Unknown jwk type");case 12:return M.next=14,_.hash("SHA-256",JSON.stringify(I));case 14:return A=M.sent,M.abrupt("return",_.encodeBase64Url(A));case 16:case"end":return M.stop()}},S)})),function(S){return k.apply(this,arguments)})},{key:"generateDPoPProof",value:(p=x(b().mark(function S(E){var I,A,M,B,ae,ce,ne,he,Ce,fe;return b().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(I=E.url,A=E.accessToken,M=E.httpMethod,B=E.keyPair,ae=E.nonce,he={jti:window.crypto.randomUUID(),htm:M??"GET",htu:I,iat:Math.floor(Date.now()/1e3)},!A){ke.next=8;break}return ke.next=5,_.hash("SHA-256",A);case 5:ce=ke.sent,ne=_.encodeBase64Url(ce),he.ath=ne;case 8:return ae&&(he.nonce=ae),ke.prev=9,ke.next=12,crypto.subtle.exportKey("jwk",B.publicKey);case 12:return Ce=ke.sent,fe={alg:"ES256",typ:"dpop+jwt",jwk:{crv:Ce.crv,kty:Ce.kty,x:Ce.x,y:Ce.y}},ke.next=16,Hn.generateSignedJwt(fe,he,B.privateKey);case 16:return ke.abrupt("return",ke.sent);case 19:if(ke.prev=19,ke.t0=ke.catch(9),!(ke.t0 instanceof TypeError)){ke.next=25;break}throw new Error("Error exporting dpop public key: ".concat(ke.t0.message));case 25:throw ke.t0;case 26:case"end":return ke.stop()}},S,null,[[9,19]])})),function(S){return p.apply(this,arguments)})},{key:"generateDPoPJkt",value:(h=x(b().mark(function S(E){var I;return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,crypto.subtle.exportKey("jwk",E.publicKey);case 3:return I=A.sent,A.next=6,_.customCalculateJwkThumbprint(I);case 6:return A.abrupt("return",A.sent);case 9:if(A.prev=9,A.t0=A.catch(0),!(A.t0 instanceof TypeError)){A.next=15;break}throw new Error("Could not retrieve dpop keys from storage: ".concat(A.t0.message));case 15:throw A.t0;case 16:case"end":return A.stop()}},S,null,[[0,9]])})),function(S){return h.apply(this,arguments)})},{key:"generateDPoPKeys",value:(f=x(b().mark(function S(){return b().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"]);case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},S)})),function(){return f.apply(this,arguments)})}]);var f,h,p,k,y,w}();Fr.encodeBase64Url=function(_){return qn(_).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};var Zt=Fr,nn=function(){return le(function f(h){$(this,f),this._name=h,this._callbacks=[],this._logger=new Ye("Event('".concat(this._name,"')"))},[{key:"addHandler",value:function(f){var h=this;return this._callbacks.push(f),function(){return h.removeHandler(f)}}},{key:"removeHandler",value:function(f){var h=this._callbacks.lastIndexOf(f);h>=0&&this._callbacks.splice(h,1)}},{key:"raise",value:(_=x(b().mark(function f(){var h,p,k,y,w,S,E,I=arguments;return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:for(p=I.length,k=new Array(p),y=0;y<p;y++)k[y]=I[y];(h=this._logger).debug.apply(h,["raise:"].concat(k)),w=$e(this._callbacks),A.prev=3,w.s();case 5:if((S=w.n()).done){A.next=11;break}return E=S.value,A.next=9,E.apply(void 0,k);case 9:A.next=5;break;case 11:A.next=16;break;case 13:A.prev=13,A.t0=A.catch(3),w.e(A.t0);case 16:return A.prev=16,w.f(),A.finish(16);case 19:case"end":return A.stop()}},f,this,[[3,13,16,19]])})),function(){return _.apply(this,arguments)})}]);var _}(),Cn=function(){return le(function _(){$(this,_)},null,[{key:"center",value:function(_){var f,h=ye({},(function(p){if(p==null)throw new TypeError("Cannot destructure "+p)}(_),_));return h.width==null&&(h.width=(f=[800,720,600,480].find(function(p){return p<=window.outerWidth/1.618}))!=null?f:360),h.left!=null||(h.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-h.width)/2))),h.height!=null&&(h.top!=null||(h.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-h.height)/2)))),h}},{key:"serialize",value:function(_){return Object.entries(_).filter(function(f){return Ue(f,2)[1]!=null}).map(function(f){var h=Ue(f,2),p=h[0],k=h[1];return"".concat(p,"=").concat(typeof k!="boolean"?k:k?"yes":"no")}).join(",")}}])}(),fn=function(_){function f(){var h;return $(this,f),(h=Fe(this,f,arguments))._logger=new Ye("Timer('".concat(h._name,"')")),h._timerHandle=null,h._expiration=0,h._callback=function(){var p=h._expiration-f.getEpochTime();h._logger.debug("timer completes in",p),h._expiration<=f.getEpochTime()&&(h.cancel(),at(f,"raise",h,3)([]))},h}return qe(f,_),le(f,[{key:"init",value:function(h){var p=this._logger.create("init");h=Math.max(Math.floor(h),1);var k=f.getEpochTime()+h;if(this.expiration===k&&this._timerHandle)p.debug("skipping since already initialized for expiration at",this.expiration);else{this.cancel(),p.debug("using duration",h),this._expiration=k;var y=Math.min(h,5);this._timerHandle=setInterval(this._callback,1e3*y)}}},{key:"expiration",get:function(){return this._expiration}},{key:"cancel",value:function(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}}],[{key:"getEpochTime",value:function(){return Math.floor(Date.now()/1e3)}}])}(nn),kn=function(){return le(function _(){$(this,_)},null,[{key:"readParams",value:function(_){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"query";if(!_)throw new TypeError("Invalid URL");var h=new URL(_,"http://127.0.0.1")[f==="fragment"?"hash":"search"];return new URLSearchParams(h.slice(1))}}])}(),Qt=function(_){function f(h,p){var k,y,w,S;if($(this,f),(k=Fe(this,f,[h.error_description||h.error||""])).form=p,k.name="ErrorResponse",!h.error)throw Ye.error("ErrorResponse","No error passed"),new Error("No error passed");return k.error=h.error,k.error_description=(y=h.error_description)!=null?y:null,k.error_uri=(w=h.error_uri)!=null?w:null,k.state=h.userState,k.session_state=(S=h.session_state)!=null?S:null,k.url_state=h.url_state,k}return qe(f,_),le(f)}(me(Error)),pr=function(_){function f(h){var p;return $(this,f),(p=Fe(this,f,[h])).name="ErrorTimeout",p}return qe(f,_),le(f)}(me(Error)),pn=function(){return le(function _(f){$(this,_),this._logger=new Ye("AccessTokenEvents"),this._expiringTimer=new fn("Access token expiring"),this._expiredTimer=new fn("Access token expired"),this._expiringNotificationTimeInSeconds=f.expiringNotificationTimeInSeconds},[{key:"load",value:function(_){var f=this._logger.create("load");if(_.access_token&&_.expires_in!==void 0){var h=_.expires_in;if(f.debug("access token present, remaining duration:",h),h>0){var p=h-this._expiringNotificationTimeInSeconds;p<=0&&(p=1),f.debug("registering expiring timer, raising in",p,"seconds"),this._expiringTimer.init(p)}else f.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();var k=h+1;f.debug("registering expired timer, raising in",k,"seconds"),this._expiredTimer.init(k)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}},{key:"unload",value:function(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}},{key:"addAccessTokenExpiring",value:function(_){return this._expiringTimer.addHandler(_)}},{key:"removeAccessTokenExpiring",value:function(_){this._expiringTimer.removeHandler(_)}},{key:"addAccessTokenExpired",value:function(_){return this._expiredTimer.addHandler(_)}},{key:"removeAccessTokenExpired",value:function(_){this._expiredTimer.removeHandler(_)}}])}(),hr=function(){return le(function _(f,h,p,k,y){var w=this;$(this,_),this._callback=f,this._client_id=h,this._intervalInSeconds=k,this._stopOnError=y,this._logger=new Ye("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=function(E){E.origin===w._frame_origin&&E.source===w._frame.contentWindow&&(E.data==="error"?(w._logger.error("error message from check session op iframe"),w._stopOnError&&w.stop()):E.data==="changed"?(w._logger.debug("changed message from check session op iframe"),w.stop(),w._callback()):w._logger.debug(E.data+" message from check session op iframe"))};var S=new URL(p);this._frame_origin=S.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=S.href},[{key:"load",value:function(){var _=this;return new Promise(function(f){_._frame.onload=function(){f()},window.document.body.appendChild(_._frame),window.addEventListener("message",_._message,!1)})}},{key:"start",value:function(_){var f=this;if(this._session_state!==_){this._logger.create("start"),this.stop(),this._session_state=_;var h=function(){f._frame.contentWindow&&f._session_state&&f._frame.contentWindow.postMessage(f._client_id+" "+f._session_state,f._frame_origin)};h(),this._timer=setInterval(h,1e3*this._intervalInSeconds)}}},{key:"stop",value:function(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}}])}(),Hr=function(){return le(function _(){$(this,_),this._logger=new Ye("InMemoryWebStorage"),this._data={}},[{key:"clear",value:function(){this._logger.create("clear"),this._data={}}},{key:"getItem",value:function(_){return this._logger.create("getItem('".concat(_,"')")),this._data[_]}},{key:"setItem",value:function(_,f){this._logger.create("setItem('".concat(_,"')")),this._data[_]=f}},{key:"removeItem",value:function(_){this._logger.create("removeItem('".concat(_,"')")),delete this._data[_]}},{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}},{key:"key",value:function(_){return Object.getOwnPropertyNames(this._data)[_]}}])}(),Xn=function(_){function f(h,p){var k;return $(this,f),(k=Fe(this,f,[p])).name="ErrorDPoPNonce",k.nonce=h,k}return qe(f,_),le(f)}(me(Error)),Wn=function(){return le(function p(){var k,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};$(this,p),this._jwtHandler=w,this._extraHeaders=S,this._logger=new Ye("JsonService"),this._contentTypes=[],(k=this._contentTypes).push.apply(k,K(y).concat(["application/json"])),w&&this._contentTypes.push("application/jwt")},[{key:"fetchWithTimeout",value:(h=x(b().mark(function p(k){var y,w,S,E,I,A,M=arguments;return b().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(w=(y=M.length>1&&M[1]!==void 0?M[1]:{}).timeoutInSeconds,S=Y(y,T),w){B.next=6;break}return B.next=5,fetch(k,S);case 5:return B.abrupt("return",B.sent);case 6:return E=new AbortController,I=setTimeout(function(){return E.abort()},1e3*w),B.prev=8,B.next=11,fetch(k,oe(oe({},y),{},{signal:E.signal}));case 11:return A=B.sent,B.abrupt("return",A);case 15:if(B.prev=15,B.t0=B.catch(8),!(B.t0 instanceof DOMException&&B.t0.name==="AbortError")){B.next=19;break}throw new pr("Network timed out");case 19:throw B.t0;case 20:return B.prev=20,clearTimeout(I),B.finish(20);case 23:case"end":return B.stop()}},p,null,[[8,15,20,23]])})),function(p){return h.apply(this,arguments)})},{key:"getJson",value:(f=x(b().mark(function p(k){var y,w,S,E,I,A,M,B,ae,ce=arguments;return b().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return w=(y=ce.length>1&&ce[1]!==void 0?ce[1]:{}).token,S=y.credentials,E=y.timeoutInSeconds,I=this._logger.create("getJson"),A={Accept:this._contentTypes.join(", ")},w&&(I.debug("token passed, setting Authorization header"),A.Authorization="Bearer "+w),this.appendExtraHeaders(A),ne.prev=5,I.debug("url:",k),ne.next=9,this.fetchWithTimeout(k,{method:"GET",headers:A,timeoutInSeconds:E,credentials:S});case 9:M=ne.sent,ne.next=16;break;case 12:throw ne.prev=12,ne.t0=ne.catch(5),I.error("Network Error"),ne.t0;case 16:if(I.debug("HTTP response received, status",M.status),(B=M.headers.get("Content-Type"))&&!this._contentTypes.find(function(he){return B.startsWith(he)})&&I.throw(new Error("Invalid response Content-Type: ".concat(B??"undefined",", from URL: ").concat(k))),!(M.ok&&this._jwtHandler&&(B!=null&&B.startsWith("application/jwt")))){ne.next=27;break}return ne.t1=this,ne.next=23,M.text();case 23:return ne.t2=ne.sent,ne.next=26,ne.t1._jwtHandler.call(ne.t1,ne.t2);case 26:return ne.abrupt("return",ne.sent);case 27:return ne.prev=27,ne.next=30,M.json();case 30:ae=ne.sent,ne.next=39;break;case 33:if(ne.prev=33,ne.t3=ne.catch(27),I.error("Error parsing JSON response",ne.t3),!M.ok){ne.next=38;break}throw ne.t3;case 38:throw new Error("".concat(M.statusText," (").concat(M.status,")"));case 39:if(M.ok){ne.next=44;break}if(I.error("Error from server:",ae),!ae.error){ne.next=43;break}throw new Qt(ae);case 43:throw new Error("".concat(M.statusText," (").concat(M.status,"): ").concat(JSON.stringify(ae)));case 44:return ne.abrupt("return",ae);case 45:case"end":return ne.stop()}},p,this,[[5,12],[27,33]])})),function(p){return f.apply(this,arguments)})},{key:"postForm",value:(_=x(b().mark(function p(k,y){var w,S,E,I,A,M,B,ae,ce,ne,he,Ce;return b().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return w=y.body,S=y.basicAuth,E=y.timeoutInSeconds,I=y.initCredentials,A=y.extraHeaders,M=this._logger.create("postForm"),B=oe({Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"},A),S!==void 0&&(B.Authorization="Basic "+S),this.appendExtraHeaders(B),fe.prev=5,M.debug("url:",k),fe.next=9,this.fetchWithTimeout(k,{method:"POST",headers:B,body:w,timeoutInSeconds:E,credentials:I});case 9:ae=fe.sent,fe.next=16;break;case 12:throw fe.prev=12,fe.t0=fe.catch(5),M.error("Network error"),fe.t0;case 16:if(M.debug("HTTP response received, status",ae.status),!(ce=ae.headers.get("Content-Type"))||this._contentTypes.find(function(ke){return ce.startsWith(ke)})){fe.next=20;break}throw new Error("Invalid response Content-Type: ".concat(ce??"undefined",", from URL: ").concat(k));case 20:return fe.next=22,ae.text();case 22:if(ne=fe.sent,he={},!ne){fe.next=35;break}fe.prev=25,he=JSON.parse(ne),fe.next=35;break;case 29:if(fe.prev=29,fe.t1=fe.catch(25),M.error("Error parsing JSON response",fe.t1),!ae.ok){fe.next=34;break}throw fe.t1;case 34:throw new Error("".concat(ae.statusText," (").concat(ae.status,")"));case 35:if(ae.ok){fe.next=43;break}if(M.error("Error from server:",he),!ae.headers.has("dpop-nonce")){fe.next=40;break}throw Ce=ae.headers.get("dpop-nonce"),new Xn(Ce,"".concat(JSON.stringify(he)));case 40:if(!he.error){fe.next=42;break}throw new Qt(he,w);case 42:throw new Error("".concat(ae.statusText," (").concat(ae.status,"): ").concat(JSON.stringify(he)));case 43:return fe.abrupt("return",he);case 44:case"end":return fe.stop()}},p,this,[[5,12],[25,29]])})),function(p,k){return _.apply(this,arguments)})},{key:"appendExtraHeaders",value:function(p){var k=this,y=this._logger.create("appendExtraHeaders"),w=Object.keys(this._extraHeaders),S=["authorization","accept","content-type"];w.length!==0&&w.forEach(function(E){if(S.includes(E.toLocaleLowerCase()))y.warn("Protected header could not be overridden",E,S);else{var I=typeof k._extraHeaders[E]=="function"?k._extraHeaders[E]():k._extraHeaders[E];I&&I!==""&&(p[E]=I)}})}}]);var _,f,h}(),Vn=function(){return le(function p(k){$(this,p),this._settings=k,this._logger=new Ye("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new Wn(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)},[{key:"resetSigningKeys",value:function(){this._signingKeys=null}},{key:"getMetadata",value:(h=x(b().mark(function p(){var k,y;return b().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(k=this._logger.create("getMetadata"),!this._metadata){w.next=4;break}return k.debug("using cached values"),w.abrupt("return",this._metadata);case 4:if(this._metadataUrl){w.next=7;break}throw k.throw(new Error("No authority or metadataUrl configured on settings")),null;case 7:return k.debug("getting metadata from",this._metadataUrl),w.next=10,this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});case 10:return y=w.sent,k.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,y),w.abrupt("return",this._metadata);case 14:case"end":return w.stop()}},p,this)})),function(){return h.apply(this,arguments)})},{key:"getIssuer",value:function(){return this._getMetadataProperty("issuer")}},{key:"getAuthorizationEndpoint",value:function(){return this._getMetadataProperty("authorization_endpoint")}},{key:"getUserInfoEndpoint",value:function(){return this._getMetadataProperty("userinfo_endpoint")}},{key:"getTokenEndpoint",value:function(){var p=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",p)}},{key:"getCheckSessionIframe",value:function(){return this._getMetadataProperty("check_session_iframe",!0)}},{key:"getEndSessionEndpoint",value:function(){return this._getMetadataProperty("end_session_endpoint",!0)}},{key:"getRevocationEndpoint",value:function(){var p=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("revocation_endpoint",p)}},{key:"getKeysEndpoint",value:function(){var p=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("jwks_uri",p)}},{key:"_getMetadataProperty",value:(f=x(b().mark(function p(k){var y,w,S,E=arguments;return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return y=E.length>1&&E[1]!==void 0&&E[1],w=this._logger.create("_getMetadataProperty('".concat(k,"')")),I.next=4,this.getMetadata();case 4:if(S=I.sent,w.debug("resolved"),S[k]!==void 0){I.next=11;break}if(y!==!0){I.next=10;break}return w.warn("Metadata does not contain optional property"),I.abrupt("return",void 0);case 10:w.throw(new Error("Metadata does not contain property "+k));case 11:return I.abrupt("return",S[k]);case 12:case"end":return I.stop()}},p,this)})),function(p){return f.apply(this,arguments)})},{key:"getSigningKeys",value:(_=x(b().mark(function p(){var k,y,w;return b().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(k=this._logger.create("getSigningKeys"),!this._signingKeys){S.next=4;break}return k.debug("returning signingKeys from cache"),S.abrupt("return",this._signingKeys);case 4:return S.next=6,this.getKeysEndpoint(!1);case 6:return y=S.sent,k.debug("got jwks_uri",y),S.next=10,this._jsonService.getJson(y,{timeoutInSeconds:this._settings.requestTimeoutInSeconds});case 10:if(w=S.sent,k.debug("got key set",w),Array.isArray(w.keys)){S.next=15;break}throw k.throw(new Error("Missing keys on keyset")),null;case 15:return this._signingKeys=w.keys,S.abrupt("return",this._signingKeys);case 17:case"end":return S.stop()}},p,this)})),function(){return _.apply(this,arguments)})}]);var _,f,h}(),er=function(){return le(function k(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=y.prefix,S=w===void 0?"oidc.":w,E=y.store,I=E===void 0?localStorage:E;$(this,k),this._logger=new Ye("WebStorageStateStore"),this._store=I,this._prefix=S},[{key:"set",value:(p=x(b().mark(function k(y,w){return b().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return this._logger.create("set('".concat(y,"')")),y=this._prefix+y,S.next=4,this._store.setItem(y,w);case 4:case"end":return S.stop()}},k,this)})),function(k,y){return p.apply(this,arguments)})},{key:"get",value:(h=x(b().mark(function k(y){var w;return b().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return this._logger.create("get('".concat(y,"')")),y=this._prefix+y,S.next=4,this._store.getItem(y);case 4:return w=S.sent,S.abrupt("return",w);case 6:case"end":return S.stop()}},k,this)})),function(k){return h.apply(this,arguments)})},{key:"remove",value:(f=x(b().mark(function k(y){var w;return b().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return this._logger.create("remove('".concat(y,"')")),y=this._prefix+y,S.next=4,this._store.getItem(y);case 4:return w=S.sent,S.next=7,this._store.removeItem(y);case 7:return S.abrupt("return",w);case 8:case"end":return S.stop()}},k,this)})),function(k){return f.apply(this,arguments)})},{key:"getAllKeys",value:(_=x(b().mark(function k(){var y,w,S,E;return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return this._logger.create("getAllKeys"),I.next=3,this._store.length;case 3:y=I.sent,w=[],S=0;case 6:if(!(S<y)){I.next=14;break}return I.next=9,this._store.key(S);case 9:(E=I.sent)&&E.indexOf(this._prefix)===0&&w.push(E.substr(this._prefix.length));case 11:S++,I.next=6;break;case 14:return I.abrupt("return",w);case 15:case"end":return I.stop()}},k,this)})),function(){return _.apply(this,arguments)})}]);var _,f,h,p}(),$n=le(function _(f){var h,p=f.configHash,k=f.authority,y=f.metadataUrl,w=f.metadata,S=f.signingKeys,E=f.metadataSeed,I=f.client_id,A=f.client_secret,M=f.response_type,B=M===void 0?"code":M,ae=f.scope,ce=ae===void 0?"openid":ae,ne=f.redirect_uri,he=f.post_logout_redirect_uri,Ce=f.client_authentication,fe=Ce===void 0?"client_secret_post":Ce,ke=f.prompt,Ze=f.display,vt=f.max_age,dt=f.ui_locales,Ee=f.acr_values,ut=f.resource,Qe=f.response_mode,Ie=f.filterProtocolClaims,St=Ie===void 0||Ie,Pt=f.loadUserInfo,At=Pt!==void 0&&Pt,Wt=f.requestTimeoutInSeconds,Lt=f.staleStateAgeInSeconds,de=Lt===void 0?900:Lt,F=f.mergeClaimsStrategy,L=F===void 0?{array:"replace"}:F,G=f.disablePKCE,W=G!==void 0&&G,q=f.stateStore,re=f.revokeTokenAdditionalContentTypes,Te=f.fetchRequestCredentials,Se=f.refreshTokenAllowedScope,Oe=f.extraQueryParams,ze=Oe===void 0?{}:Oe,Le=f.extraTokenParams,Mt=Le===void 0?{}:Le,et=f.extraHeaders,bt=et===void 0?{}:et,Tt=f.dpop,Sn=f.omitScopeWhenRequesting,sr=Sn!==void 0&&Sn;if($(this,_),this.configHash=p,this.authority=k,y?this.metadataUrl=y:(this.metadataUrl=k,k&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=w,this.metadataSeed=E,this.signingKeys=S,this.client_id=I,this.client_secret=A,this.response_type=B,this.scope=ce,this.redirect_uri=ne,this.post_logout_redirect_uri=he,this.client_authentication=fe,this.prompt=ke,this.display=Ze,this.max_age=vt,this.ui_locales=dt,this.acr_values=Ee,this.resource=ut,this.response_mode=Qe,this.filterProtocolClaims=St==null||St,this.loadUserInfo=!!At,this.staleStateAgeInSeconds=de,this.mergeClaimsStrategy=L,this.omitScopeWhenRequesting=sr,this.disablePKCE=!!W,this.revokeTokenAdditionalContentTypes=re,this.fetchRequestCredentials=Te||"same-origin",this.requestTimeoutInSeconds=Wt,q)this.stateStore=q;else{var Ti=typeof window<"u"?window.localStorage:new Hr;this.stateStore=new er({store:Ti})}if(this.refreshTokenAllowedScope=Se,this.extraQueryParams=ze,this.extraTokenParams=Mt,this.extraHeaders=bt,this.dpop=Tt,this.dpop&&!((h=this.dpop)!=null&&h.store))throw new Error("A DPoPStore is required when dpop is enabled")}),Pn=function(){return le(function f(h,p){var k=this;$(this,f),this._settings=h,this._metadataService=p,this._logger=new Ye("UserInfoService"),this._getClaimsFromJwt=function(){var y=x(b().mark(function w(S){var E,I;return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return E=k._logger.create("_getClaimsFromJwt"),A.prev=1,I=Hn.decode(S),E.debug("JWT decoding successful"),A.abrupt("return",I);case 7:throw A.prev=7,A.t0=A.catch(1),E.error("Error parsing JWT response"),A.t0;case 11:case"end":return A.stop()}},w,null,[[1,7]])}));return function(w){return y.apply(this,arguments)}}(),this._jsonService=new Wn(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)},[{key:"getClaims",value:(_=x(b().mark(function f(h){var p,k,y;return b().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return p=this._logger.create("getClaims"),h||this._logger.throw(new Error("No token passed")),w.next=4,this._metadataService.getUserInfoEndpoint();case 4:return k=w.sent,p.debug("got userinfo url",k),w.next=8,this._jsonService.getJson(k,{token:h,credentials:this._settings.fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});case 8:return y=w.sent,p.debug("got claims",y),w.abrupt("return",y);case 11:case"end":return w.stop()}},f,this)})),function(f){return _.apply(this,arguments)})}]);var _}(),tr=function(){return le(function k(y,w){$(this,k),this._settings=y,this._metadataService=w,this._logger=new Ye("TokenClient"),this._jsonService=new Wn(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)},[{key:"exchangeCode",value:(p=x(b().mark(function k(y){var w,S,E,I,A,M,B,ae,ce,ne,he,Ce,fe,ke,Ze,vt,dt,Ee,ut,Qe;return b().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:for(w=y.grant_type,S=w===void 0?"authorization_code":w,E=y.redirect_uri,I=E===void 0?this._settings.redirect_uri:E,A=y.client_id,M=A===void 0?this._settings.client_id:A,B=y.client_secret,ae=B===void 0?this._settings.client_secret:B,ce=y.extraHeaders,ne=Y(y,C),he=this._logger.create("exchangeCode"),M||he.throw(new Error("A client_id is required")),I||he.throw(new Error("A redirect_uri is required")),ne.code||he.throw(new Error("A code is required")),Ce=new URLSearchParams({grant_type:S,redirect_uri:I}),fe=0,ke=Object.entries(ne);fe<ke.length;fe++)Ze=Ue(ke[fe],2),vt=Ze[0],(dt=Ze[1])!=null&&Ce.set(vt,dt);Ie.t0=this._settings.client_authentication,Ie.next=Ie.t0==="client_secret_basic"?10:Ie.t0==="client_secret_post"?15:18;break;case 10:if(ae){Ie.next=13;break}throw he.throw(new Error("A client_secret is required")),null;case 13:return Ee=Zt.generateBasicAuth(M,ae),Ie.abrupt("break",18);case 15:return Ce.append("client_id",M),ae&&Ce.append("client_secret",ae),Ie.abrupt("break",18);case 18:return Ie.next=20,this._metadataService.getTokenEndpoint(!1);case 20:return ut=Ie.sent,he.debug("got token endpoint"),Ie.next=24,this._jsonService.postForm(ut,{body:Ce,basicAuth:Ee,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:ce});case 24:return Qe=Ie.sent,he.debug("got response"),Ie.abrupt("return",Qe);case 27:case"end":return Ie.stop()}},k,this)})),function(k){return p.apply(this,arguments)})},{key:"exchangeCredentials",value:(h=x(b().mark(function k(y){var w,S,E,I,A,M,B,ae,ce,ne,he,Ce,fe,ke,Ze,vt,dt,Ee,ut;return b().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:for(w=y.grant_type,S=w===void 0?"password":w,E=y.client_id,I=E===void 0?this._settings.client_id:E,A=y.client_secret,M=A===void 0?this._settings.client_secret:A,B=y.scope,ae=B===void 0?this._settings.scope:B,ce=Y(y,N),ne=this._logger.create("exchangeCredentials"),I||ne.throw(new Error("A client_id is required")),he=new URLSearchParams({grant_type:S}),this._settings.omitScopeWhenRequesting||he.set("scope",ae),Ce=0,fe=Object.entries(ce);Ce<fe.length;Ce++)ke=Ue(fe[Ce],2),Ze=ke[0],(vt=ke[1])!=null&&he.set(Ze,vt);Qe.t0=this._settings.client_authentication,Qe.next=Qe.t0==="client_secret_basic"?9:Qe.t0==="client_secret_post"?14:17;break;case 9:if(M){Qe.next=12;break}throw ne.throw(new Error("A client_secret is required")),null;case 12:return dt=Zt.generateBasicAuth(I,M),Qe.abrupt("break",17);case 14:return he.append("client_id",I),M&&he.append("client_secret",M),Qe.abrupt("break",17);case 17:return Qe.next=19,this._metadataService.getTokenEndpoint(!1);case 19:return Ee=Qe.sent,ne.debug("got token endpoint"),Qe.next=23,this._jsonService.postForm(Ee,{body:he,basicAuth:dt,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials});case 23:return ut=Qe.sent,ne.debug("got response"),Qe.abrupt("return",ut);case 26:case"end":return Qe.stop()}},k,this)})),function(k){return h.apply(this,arguments)})},{key:"exchangeRefreshToken",value:(f=x(b().mark(function k(y){var w,S,E,I,A,M,B,ae,ce,ne,he,Ce,fe,ke,Ze,vt,dt;return b().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:w=y.grant_type,S=w===void 0?"refresh_token":w,E=y.client_id,I=E===void 0?this._settings.client_id:E,A=y.client_secret,M=A===void 0?this._settings.client_secret:A,B=y.timeoutInSeconds,ae=y.extraHeaders,ce=Y(y,Z),ne=this._logger.create("exchangeRefreshToken"),I||ne.throw(new Error("A client_id is required")),ce.refresh_token||ne.throw(new Error("A refresh_token is required")),he=new URLSearchParams({grant_type:S}),Ce=b().mark(function ut(){var Qe,Ie,St;return b().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:Qe=Ue(ke[fe],2),Ie=Qe[0],St=Qe[1],Array.isArray(St)?St.forEach(function(At){return he.append(Ie,At)}):St!=null&&he.set(Ie,St);case 2:case"end":return Pt.stop()}},ut)}),fe=0,ke=Object.entries(ce);case 7:if(!(fe<ke.length)){Ee.next=12;break}return Ee.delegateYield(Ce(),"t0",9);case 9:fe++,Ee.next=7;break;case 12:Ee.t1=this._settings.client_authentication,Ee.next=Ee.t1==="client_secret_basic"?15:Ee.t1==="client_secret_post"?20:23;break;case 15:if(M){Ee.next=18;break}throw ne.throw(new Error("A client_secret is required")),null;case 18:return Ze=Zt.generateBasicAuth(I,M),Ee.abrupt("break",23);case 20:return he.append("client_id",I),M&&he.append("client_secret",M),Ee.abrupt("break",23);case 23:return Ee.next=25,this._metadataService.getTokenEndpoint(!1);case 25:return vt=Ee.sent,ne.debug("got token endpoint"),Ee.next=29,this._jsonService.postForm(vt,{body:he,basicAuth:Ze,timeoutInSeconds:B,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:ae});case 29:return dt=Ee.sent,ne.debug("got response"),Ee.abrupt("return",dt);case 32:case"end":return Ee.stop()}},k,this)})),function(k){return f.apply(this,arguments)})},{key:"revoke",value:(_=x(b().mark(function k(y){var w,S,E,I,A,M,B,ae,ce;return b().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return S=this._logger.create("revoke"),y.token||S.throw(new Error("A token is required")),ne.next=4,this._metadataService.getRevocationEndpoint(!1);case 4:for(E=ne.sent,S.debug("got revocation endpoint, revoking ".concat((w=y.token_type_hint)!=null?w:"default token type")),I=new URLSearchParams,A=0,M=Object.entries(y);A<M.length;A++)B=Ue(M[A],2),ae=B[0],(ce=B[1])!=null&&I.set(ae,ce);return I.set("client_id",this._settings.client_id),this._settings.client_secret&&I.set("client_secret",this._settings.client_secret),ne.next=12,this._jsonService.postForm(E,{body:I,timeoutInSeconds:this._settings.requestTimeoutInSeconds});case 12:S.debug("got response");case 13:case"end":return ne.stop()}},k,this)})),function(k){return _.apply(this,arguments)})}]);var _,f,h,p}(),Si=function(){return le(function y(w,S,E){$(this,y),this._settings=w,this._metadataService=S,this._claimsService=E,this._logger=new Ye("ResponseValidator"),this._userInfoService=new Pn(this._settings,this._metadataService),this._tokenClient=new tr(this._settings,this._metadataService)},[{key:"validateSigninResponse",value:(k=x(b().mark(function y(w,S,E){var I;return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return I=this._logger.create("validateSigninResponse"),this._processSigninState(w,S),I.debug("state processed"),A.next=5,this._processCode(w,S,E);case 5:return I.debug("code processed"),w.isOpenId&&this._validateIdTokenAttributes(w),I.debug("tokens validated"),A.next=10,this._processClaims(w,S==null?void 0:S.skipUserInfo,w.isOpenId);case 10:I.debug("claims processed");case 11:case"end":return A.stop()}},y,this)})),function(y,w,S){return k.apply(this,arguments)})},{key:"validateCredentialsResponse",value:(p=x(b().mark(function y(w,S){var E;return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return E=this._logger.create("validateCredentialsResponse"),w.isOpenId&&w.id_token&&this._validateIdTokenAttributes(w),E.debug("tokens validated"),I.next=5,this._processClaims(w,S,w.isOpenId);case 5:E.debug("claims processed");case 6:case"end":return I.stop()}},y,this)})),function(y,w){return p.apply(this,arguments)})},{key:"validateRefreshResponse",value:(h=x(b().mark(function y(w,S){var E,I;return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return E=this._logger.create("validateRefreshResponse"),w.userState=S.data,w.session_state!=null||(w.session_state=S.session_state),w.scope!=null||(w.scope=S.scope),w.isOpenId&&w.id_token&&(this._validateIdTokenAttributes(w,S.id_token),E.debug("ID Token validated")),w.id_token||(w.id_token=S.id_token,w.profile=S.profile),I=w.isOpenId&&!!w.id_token,A.next=9,this._processClaims(w,!1,I);case 9:E.debug("claims processed");case 10:case"end":return A.stop()}},y,this)})),function(y,w){return h.apply(this,arguments)})},{key:"validateSignoutResponse",value:function(y,w){var S=this._logger.create("validateSignoutResponse");if(w.id!==y.state&&S.throw(new Error("State does not match")),S.debug("state validated"),y.userState=w.data,y.error)throw S.warn("Response was error",y.error),new Qt(y)}},{key:"_processSigninState",value:function(y,w){var S=this._logger.create("_processSigninState");if(w.id!==y.state&&S.throw(new Error("State does not match")),w.client_id||S.throw(new Error("No client_id on state")),w.authority||S.throw(new Error("No authority on state")),this._settings.authority!==w.authority&&S.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==w.client_id&&S.throw(new Error("client_id mismatch on settings vs. signin state")),S.debug("state validated"),y.userState=w.data,y.url_state=w.url_state,y.scope!=null||(y.scope=w.scope),y.error)throw S.warn("Response was error",y.error),new Qt(y);w.code_verifier&&!y.code&&S.throw(new Error("Expected code in response"))}},{key:"_processClaims",value:(f=x(b().mark(function y(w){var S,E,I,A,M=arguments;return b().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(S=M.length>1&&M[1]!==void 0&&M[1],E=!(M.length>2&&M[2]!==void 0)||M[2],I=this._logger.create("_processClaims"),w.profile=this._claimsService.filterProtocolClaims(w.profile),!S&&this._settings.loadUserInfo&&w.access_token){B.next=7;break}return I.debug("not loading user info"),B.abrupt("return");case 7:return I.debug("loading user info"),B.next=10,this._userInfoService.getClaims(w.access_token);case 10:A=B.sent,I.debug("user info claims received from user info endpoint"),E&&A.sub!==w.profile.sub&&I.throw(new Error("subject from UserInfo response does not match subject in ID Token")),w.profile=this._claimsService.mergeClaims(w.profile,this._claimsService.filterProtocolClaims(A)),I.debug("user info claims received, updated profile:",w.profile);case 15:case"end":return B.stop()}},y,this)})),function(y){return f.apply(this,arguments)})},{key:"_processCode",value:(_=x(b().mark(function y(w,S,E){var I,A;return b().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(I=this._logger.create("_processCode"),!w.code){M.next=9;break}return I.debug("Validating code"),M.next=5,this._tokenClient.exchangeCode(oe({client_id:S.client_id,client_secret:S.client_secret,code:w.code,redirect_uri:S.redirect_uri,code_verifier:S.code_verifier,extraHeaders:E},S.extraTokenParams));case 5:A=M.sent,Object.assign(w,A),M.next=10;break;case 9:I.debug("No code to process");case 10:case"end":return M.stop()}},y,this)})),function(y,w,S){return _.apply(this,arguments)})},{key:"_validateIdTokenAttributes",value:function(y,w){var S,E=this._logger.create("_validateIdTokenAttributes");E.debug("decoding ID Token JWT");var I=Hn.decode((S=y.id_token)!=null?S:"");if(I.sub||E.throw(new Error("ID Token is missing a subject claim")),w){var A=Hn.decode(w);I.sub!==A.sub&&E.throw(new Error("sub in id_token does not match current sub")),I.auth_time&&I.auth_time!==A.auth_time&&E.throw(new Error("auth_time in id_token does not match original auth_time")),I.azp&&I.azp!==A.azp&&E.throw(new Error("azp in id_token does not match original azp")),!I.azp&&A.azp&&E.throw(new Error("azp not in id_token, but present in original id_token"))}y.profile=I}}]);var _,f,h,p,k}(),gr=function(){function _(h){var p;$(this,_),this.id=(p=h.id)!=null?p:function(){var k=h.configHash;if(k===void 0)throw console.error("Error in oidc-spa patch for oidc-client-ts: configHash is required"),new Error("Error in oidc-spa patch for oidc-client-ts: configHash is required");return k}(),this.data=h.data,h.created&&h.created>0?this.created=h.created:this.created=fn.getEpochTime(),this.request_type=h.request_type,this.url_state=h.url_state}return le(_,[{key:"toStorageString",value:function(){return new Ye("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}}],[{key:"fromStorageString",value:function(h){return Ye.createStatic("State","fromStorageString"),Promise.resolve(new _(JSON.parse(h)))}},{key:"clearStaleState",value:(f=x(b().mark(function h(p,k){var y,w,S,E,I,A,M,B;return b().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return y=Ye.createStatic("State","clearStaleState"),w=fn.getEpochTime()-k,ae.next=4,p.getAllKeys();case 4:S=ae.sent,y.debug("got keys",S),E=0;case 7:if(!(E<S.length)){ae.next=34;break}return I=S[E],ae.next=11,p.get(I);case 11:if(A=ae.sent,M=!1,!A){ae.next=28;break}return ae.prev=14,ae.next=17,_.fromStorageString(A);case 17:B=ae.sent,y.debug("got item from key:",I,B.created),B.created<=w&&(M=!0),ae.next=26;break;case 22:ae.prev=22,ae.t0=ae.catch(14),y.error("Error parsing state for key:",I,ae.t0),M=!0;case 26:ae.next=30;break;case 28:y.debug("no item in storage for key:",I),M=!0;case 30:M&&(y.debug("removed item for key:",I),p.remove(I));case 31:E++,ae.next=7;break;case 34:case"end":return ae.stop()}},h,null,[[14,22]])})),function(h,p){return f.apply(this,arguments)})}]);var f}(),xn=function(_){function f(p){var k;return $(this,f),(k=Fe(this,f,[p])).code_verifier=p.code_verifier,k.code_challenge=p.code_challenge,k.authority=p.authority,k.client_id=p.client_id,k.redirect_uri=p.redirect_uri,k.scope=p.scope,k.client_secret=p.client_secret,k.extraTokenParams=p.extraTokenParams,k.response_mode=p.response_mode,k.skipUserInfo=p.skipUserInfo,k}return qe(f,_),le(f,[{key:"toStorageString",value:function(){return new Ye("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}}],[{key:"create",value:(h=x(b().mark(function p(k){var y,w;return b().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!(y=k.code_verifier===!0?Zt.generateCodeVerifier():k.code_verifier||void 0)){S.next=7;break}return S.next=4,Zt.generateCodeChallenge(y);case 4:S.t0=S.sent,S.next=8;break;case 7:S.t0=void 0;case 8:return w=S.t0,S.abrupt("return",new f(oe(oe({},k),{},{code_verifier:y,code_challenge:w})));case 10:case"end":return S.stop()}},p)})),function(p){return h.apply(this,arguments)})},{key:"fromStorageString",value:function(p){Ye.createStatic("SigninState","fromStorageString");var k=JSON.parse(p);return f.create(k)}}]);var h}(gr),Pr=function(){function _(h){$(this,_),this.url=h.url,this.state=h.state}return le(_,null,[{key:"create",value:(f=x(b().mark(function h(p){var k,y,w,S,E,I,A,M,B,ae,ce,ne,he,Ce,fe,ke,Ze,vt,dt,Ee,ut,Qe,Ie,St,Pt,At,Wt,Lt,de;return b().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(k=p.configHash,y=p.url,w=p.authority,S=p.client_id,E=p.redirect_uri,I=p.response_type,A=p.scope,M=p.state_data,B=p.response_mode,ae=p.request_type,ce=p.client_secret,ne=p.nonce,he=p.url_state,Ce=p.resource,fe=p.skipUserInfo,ke=p.extraQueryParams,Ze=p.extraTokenParams,vt=p.disablePKCE,dt=p.dpopJkt,Ee=p.omitScopeWhenRequesting,ut=Y(p,Q),y){F.next=4;break}throw this._logger.error("create: No url passed"),new Error("url");case 4:if(S){F.next=7;break}throw this._logger.error("create: No client_id passed"),new Error("client_id");case 7:if(E){F.next=10;break}throw this._logger.error("create: No redirect_uri passed"),new Error("redirect_uri");case 10:if(I){F.next=13;break}throw this._logger.error("create: No response_type passed"),new Error("response_type");case 13:if(A){F.next=16;break}throw this._logger.error("create: No scope passed"),new Error("scope");case 16:if(w){F.next=19;break}throw this._logger.error("create: No authority passed"),new Error("authority");case 19:return F.next=21,xn.create({configHash:k,data:M,request_type:ae,url_state:he,code_verifier:!vt,client_id:S,authority:w,redirect_uri:E,response_mode:B,client_secret:ce,scope:A,extraTokenParams:Ze,skipUserInfo:fe});case 21:for(Qe=F.sent,(Ie=new URL(y)).searchParams.append("client_id",S),Ie.searchParams.append("redirect_uri",E),Ie.searchParams.append("response_type",I),Ee||Ie.searchParams.append("scope",A),ne&&Ie.searchParams.append("nonce",ne),dt&&Ie.searchParams.append("dpop_jkt",dt),St=Qe.id,he&&(St="".concat(St).concat(";").concat(he)),Ie.searchParams.append("state",St),Qe.code_challenge&&(Ie.searchParams.append("code_challenge",Qe.code_challenge),Ie.searchParams.append("code_challenge_method","S256")),Ce&&(Array.isArray(Ce)?Ce:[Ce]).forEach(function(L){return Ie.searchParams.append("resource",L)}),Pt=0,At=Object.entries(oe(oe({response_mode:B},ut),ke));Pt<At.length;Pt++)Wt=Ue(At[Pt],2),Lt=Wt[0],(de=Wt[1])!=null&&Ie.searchParams.append(Lt,de.toString());return F.abrupt("return",new _({url:Ie.href,state:Qe}));case 36:case"end":return F.stop()}},h,this)})),function(h){return f.apply(this,arguments)})}]);var f}();Pr._logger=new Ye("SigninRequest");var qr=Pr,nr=function(){return le(function _(f){if($(this,_),this.access_token="",this.token_type="",this.profile={},this.state=f.get("state"),this.session_state=f.get("session_state"),this.state){var h=decodeURIComponent(this.state).split(";");this.state=h[0],h.length>1&&(this.url_state=h.slice(1).join(";"))}this.error=f.get("error"),this.error_description=f.get("error_description"),this.error_uri=f.get("error_uri"),this.code=f.get("code")},[{key:"expires_in",get:function(){if(this.expires_at!==void 0)return this.expires_at-fn.getEpochTime()},set:function(_){typeof _=="string"&&(_=Number(_)),_!==void 0&&_>=0&&(this.expires_at=Math.floor(_)+fn.getEpochTime())}},{key:"isOpenId",get:function(){var _;return((_=this.scope)==null?void 0:_.split(" ").includes("openid"))||!!this.id_token}}])}(),Ir=le(function _(f){var h=f.url,p=f.configHash,k=f.state_data,y=f.id_token_hint,w=f.post_logout_redirect_uri,S=f.extraQueryParams,E=f.request_type,I=f.client_id;if($(this,_),this._logger=new Ye("SignoutRequest"),!h)throw this._logger.error("ctor: No url passed"),new Error("url");var A=new URL(h);y&&A.searchParams.append("id_token_hint",y),I&&A.searchParams.append("client_id",I),w&&(A.searchParams.append("post_logout_redirect_uri",w),k&&(this.state=new gr({configHash:p,data:k,request_type:E}),A.searchParams.append("state",this.state.id)));for(var M=0,B=Object.entries(oe({},S));M<B.length;M++){var ae=Ue(B[M],2),ce=ae[0],ne=ae[1];ne!=null&&A.searchParams.append(ce,ne.toString())}this.url=A.href}),mr=le(function _(f){$(this,_),this.state=f.get("state"),this.error=f.get("error"),this.error_description=f.get("error_description"),this.error_uri=f.get("error_uri")}),ni=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],In=["sub","iss","aud","exp","iat"],bi=function(){return le(function _(f){$(this,_),this._settings=f,this._logger=new Ye("ClaimsService")},[{key:"filterProtocolClaims",value:function(_){var f=oe({},_);if(this._settings.filterProtocolClaims){var h,p=$e(Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:ni);try{for(p.s();!(h=p.n()).done;){var k=h.value;In.includes(k)||delete f[k]}}catch(y){p.e(y)}finally{p.f()}}return f}},{key:"mergeClaims",value:function(_,f){for(var h=oe({},_),p=0,k=Object.entries(f);p<k.length;p++){var y=Ue(k[p],2),w=y[0],S=y[1];if(h[w]!==S)if(Array.isArray(h[w])||Array.isArray(S))if(this._settings.mergeClaimsStrategy.array=="replace")h[w]=S;else{var E,I=Array.isArray(h[w])?h[w]:[h[w]],A=$e(Array.isArray(S)?S:[S]);try{for(A.s();!(E=A.n()).done;){var M=E.value;I.includes(M)||I.push(M)}}catch(B){A.e(B)}finally{A.f()}h[w]=I}else nt(h[w])==="object"&&nt(S)==="object"?h[w]=this.mergeClaims(h[w],S):h[w]=S}return h}}])}(),rr=le(function _(f,h){$(this,_),this.keys=f,this.nonce=h}),vr=function(){return le(function A(M,B){$(this,A),this._logger=new Ye("OidcClient"),this._configHash=M.configHash,this.settings=M instanceof $n?M:new $n(M),this.metadataService=B??new Vn(this.settings),this._claimsService=new bi(this.settings),this._validator=new Si(this.settings,this.metadataService,this._claimsService),this._tokenClient=new tr(this.settings,this.metadataService)},[{key:"createSigninRequest",value:(I=x(b().mark(function A(M){var B,ae,ce,ne,he,Ce,fe,ke,Ze,vt,dt,Ee,ut,Qe,Ie,St,Pt,At,Wt,Lt,de,F,L,G,W,q,re,Te,Se,Oe,ze,Le,Mt,et,bt,Tt,Sn,sr,Ti,ws;return b().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:if(B=M.state,ae=M.request,ce=M.request_uri,ne=M.request_type,he=M.id_token_hint,Ce=M.login_hint,fe=M.skipUserInfo,ke=M.nonce,Ze=M.url_state,vt=M.response_type,dt=vt===void 0?this.settings.response_type:vt,Ee=M.scope,ut=Ee===void 0?this.settings.scope:Ee,Qe=M.redirect_uri,Ie=Qe===void 0?this.settings.redirect_uri:Qe,St=M.prompt,Pt=St===void 0?this.settings.prompt:St,At=M.display,Wt=At===void 0?this.settings.display:At,Lt=M.max_age,de=Lt===void 0?this.settings.max_age:Lt,F=M.ui_locales,L=F===void 0?this.settings.ui_locales:F,G=M.acr_values,W=G===void 0?this.settings.acr_values:G,q=M.resource,re=q===void 0?this.settings.resource:q,Te=M.response_mode,Se=Te===void 0?this.settings.response_mode:Te,Oe=M.extraQueryParams,ze=Oe===void 0?this.settings.extraQueryParams:Oe,Le=M.extraTokenParams,Mt=Le===void 0?this.settings.extraTokenParams:Le,et=M.dpopJkt,bt=M.omitScopeWhenRequesting,Tt=bt===void 0?this.settings.omitScopeWhenRequesting:bt,Sn=this._logger.create("createSigninRequest"),dt==="code"){bn.next=4;break}throw new Error("Only the Authorization Code flow (with PKCE) is supported");case 4:return bn.next=6,this.metadataService.getAuthorizationEndpoint();case 6:return sr=bn.sent,Sn.debug("Received authorization endpoint",sr),bn.next=10,qr.create({configHash:this._configHash,url:sr,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:Ie,response_type:dt,scope:ut,state_data:B,url_state:Ze,prompt:Pt,display:Wt,max_age:de,ui_locales:L,id_token_hint:he,login_hint:Ce,acr_values:W,dpopJkt:et,resource:re,request:ae,request_uri:ce,extraQueryParams:ze,extraTokenParams:Mt,request_type:ne,response_mode:Se,client_secret:this.settings.client_secret,skipUserInfo:fe,nonce:ke,disablePKCE:this.settings.disablePKCE,omitScopeWhenRequesting:Tt});case 10:return Ti=bn.sent,bn.next=13,this.clearStaleState();case 13:return ws=Ti.state,bn.next=16,this.settings.stateStore.set(ws.id,ws.toStorageString());case 16:return bn.abrupt("return",Ti);case 17:case"end":return bn.stop()}},A,this)})),function(A){return I.apply(this,arguments)})},{key:"readSigninResponseState",value:(E=x(b().mark(function A(M){var B,ae,ce,ne,he,Ce=arguments;return b().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(B=Ce.length>1&&Ce[1]!==void 0&&Ce[1],ae=this._logger.create("readSigninResponseState"),(ce=new nr(kn.readParams(M,this.settings.response_mode))).state){fe.next=6;break}throw ae.throw(new Error("No state in response")),null;case 6:return fe.next=8,this.settings.stateStore[B?"remove":"get"](ce.state);case 8:if(ne=fe.sent){fe.next=12;break}throw ae.throw(new Error("No matching state found in storage")),null;case 12:return fe.next=14,xn.fromStorageString(ne);case 14:return he=fe.sent,fe.abrupt("return",{state:he,response:ce});case 16:case"end":return fe.stop()}},A,this)})),function(A){return E.apply(this,arguments)})},{key:"processSigninResponse",value:(S=x(b().mark(function A(M,B){var ae,ce,ne,he,Ce,fe;return b().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ae=this._logger.create("processSigninResponse"),ke.next=3,this.readSigninResponseState(M,!0);case 3:if(ce=ke.sent,ne=ce.state,he=ce.response,ae.debug("received state from storage; validating response"),!this.settings.dpop||!this.settings.dpop.store){ke.next=12;break}return ke.next=10,this.getDpopProof(this.settings.dpop.store);case 10:Ce=ke.sent,B=oe(oe({},B),{},{DPoP:Ce});case 12:return ke.prev=12,ke.next=15,this._validator.validateSigninResponse(he,ne,B);case 15:ke.next=29;break;case 17:if(ke.prev=17,ke.t0=ke.catch(12),!(ke.t0 instanceof Xn&&this.settings.dpop)){ke.next=28;break}return ke.next=22,this.getDpopProof(this.settings.dpop.store,ke.t0.nonce);case 22:return fe=ke.sent,B.DPoP=fe,ke.next=26,this._validator.validateSigninResponse(he,ne,B);case 26:ke.next=29;break;case 28:throw ke.t0;case 29:return ke.abrupt("return",he);case 30:case"end":return ke.stop()}},A,this,[[12,17]])})),function(A,M){return S.apply(this,arguments)})},{key:"getDpopProof",value:(w=x(b().mark(function A(M,B){var ae,ce;return b().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,M.getAllKeys();case 2:if(ne.sent.includes(this.settings.client_id)){ne.next=11;break}return ne.next=5,Zt.generateDPoPKeys();case 5:return ae=ne.sent,ce=new rr(ae,B),ne.next=9,M.set(this.settings.client_id,ce);case 9:ne.next=18;break;case 11:return ne.next=13,M.get(this.settings.client_id);case 13:if((ce=ne.sent).nonce===B||!B){ne.next=18;break}return ce.nonce=B,ne.next=18,M.set(this.settings.client_id,ce);case 18:return ne.t0=Zt,ne.next=21,this.metadataService.getTokenEndpoint(!1);case 21:return ne.t1=ne.sent,ne.t2=ce.keys,ne.t3=ce.nonce,ne.t4={url:ne.t1,httpMethod:"POST",keyPair:ne.t2,nonce:ne.t3},ne.next=27,ne.t0.generateDPoPProof.call(ne.t0,ne.t4);case 27:return ne.abrupt("return",ne.sent);case 28:case"end":return ne.stop()}},A,this)})),function(A,M){return w.apply(this,arguments)})},{key:"processResourceOwnerPasswordCredentials",value:(y=x(b().mark(function A(M){var B,ae,ce,ne,he,Ce,fe,ke;return b().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return B=M.username,ae=M.password,ce=M.skipUserInfo,ne=ce!==void 0&&ce,he=M.extraTokenParams,Ce=he===void 0?{}:he,Ze.next=3,this._tokenClient.exchangeCredentials(oe({username:B,password:ae},Ce));case 3:return fe=Ze.sent,ke=new nr(new URLSearchParams),Object.assign(ke,fe),Ze.next=8,this._validator.validateCredentialsResponse(ke,ne);case 8:return Ze.abrupt("return",ke);case 9:case"end":return Ze.stop()}},A,this)})),function(A){return y.apply(this,arguments)})},{key:"useRefreshToken",value:(k=x(b().mark(function A(M){var B,ae,ce,ne,he,Ce,fe,ke,Ze,vt,dt,Ee,ut,Qe;return b().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(B=M.state,ae=M.redirect_uri,ce=M.resource,ne=M.timeoutInSeconds,he=M.extraHeaders,Ce=M.extraTokenParams,ke=this._logger.create("useRefreshToken"),this.settings.refreshTokenAllowedScope===void 0?Ze=B.scope:(vt=this.settings.refreshTokenAllowedScope.split(" "),dt=((fe=B.scope)==null?void 0:fe.split(" "))||[],Ze=dt.filter(function(St){return vt.includes(St)}).join(" ")),!this.settings.dpop||!this.settings.dpop.store){Ie.next=8;break}return Ie.next=6,this.getDpopProof(this.settings.dpop.store);case 6:Ee=Ie.sent,he=oe(oe({},he),{},{DPoP:Ee});case 8:return Ie.prev=8,Ie.next=11,this._tokenClient.exchangeRefreshToken(oe({refresh_token:B.refresh_token,scope:Ze,redirect_uri:ae,resource:ce,timeoutInSeconds:ne,extraHeaders:he},Ce));case 11:ut=Ie.sent,Ie.next=26;break;case 14:if(Ie.prev=14,Ie.t0=Ie.catch(8),!(Ie.t0 instanceof Xn&&this.settings.dpop)){Ie.next=25;break}return Ie.next=19,this.getDpopProof(this.settings.dpop.store,Ie.t0.nonce);case 19:return he.DPoP=Ie.sent,Ie.next=22,this._tokenClient.exchangeRefreshToken(oe({refresh_token:B.refresh_token,scope:Ze,redirect_uri:ae,resource:ce,timeoutInSeconds:ne,extraHeaders:he},Ce));case 22:ut=Ie.sent,Ie.next=26;break;case 25:throw Ie.t0;case 26:return Qe=new nr(new URLSearchParams),Object.assign(Qe,ut),ke.debug("validating response",Qe),Ie.next=31,this._validator.validateRefreshResponse(Qe,oe(oe({},B),{},{scope:Ze}));case 31:return Ie.abrupt("return",Qe);case 32:case"end":return Ie.stop()}},A,this,[[8,14]])})),function(A){return k.apply(this,arguments)})},{key:"createSignoutRequest",value:(p=x(b().mark(function A(M){var B,ae,ce,ne,he,Ce,fe,ke,Ze,vt,dt,Ee;return b().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:return B=M.state,ae=M.id_token_hint,ce=M.client_id,ne=M.request_type,he=M.post_logout_redirect_uri,Ce=he===void 0?this.settings.post_logout_redirect_uri:he,fe=M.extraQueryParams,ke=fe===void 0?this.settings.extraQueryParams:fe,Ze=this._logger.create("createSignoutRequest"),ut.next=4,this.metadataService.getEndSessionEndpoint();case 4:if(vt=ut.sent){ut.next=8;break}throw Ze.throw(new Error("No end session endpoint")),null;case 8:return Ze.debug("Received end session endpoint",vt),ce||!Ce||ae||(ce=this.settings.client_id),dt=new Ir({configHash:this._configHash,url:vt,id_token_hint:ae,client_id:ce,post_logout_redirect_uri:Ce,state_data:B,extraQueryParams:ke,request_type:ne}),ut.next=13,this.clearStaleState();case 13:if(!(Ee=dt.state)){ut.next=18;break}return Ze.debug("Signout request has state to persist"),ut.next=18,this.settings.stateStore.set(Ee.id,Ee.toStorageString());case 18:return ut.abrupt("return",dt);case 19:case"end":return ut.stop()}},A,this)})),function(A){return p.apply(this,arguments)})},{key:"readSignoutResponseState",value:(h=x(b().mark(function A(M){var B,ae,ce,ne,he,Ce=arguments;return b().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(B=Ce.length>1&&Ce[1]!==void 0&&Ce[1],ae=this._logger.create("readSignoutResponseState"),(ce=new mr(kn.readParams(M,this.settings.response_mode))).state){fe.next=9;break}if(ae.debug("No state in response"),!ce.error){fe.next=8;break}throw ae.warn("Response was error:",ce.error),new Qt(ce);case 8:return fe.abrupt("return",{state:void 0,response:ce});case 9:return fe.next=11,this.settings.stateStore[B?"remove":"get"](ce.state);case 11:if(ne=fe.sent){fe.next=15;break}throw ae.throw(new Error("No matching state found in storage")),null;case 15:return fe.next=17,gr.fromStorageString(ne);case 17:return he=fe.sent,fe.abrupt("return",{state:he,response:ce});case 19:case"end":return fe.stop()}},A,this)})),function(A){return h.apply(this,arguments)})},{key:"processSignoutResponse",value:(f=x(b().mark(function A(M){var B,ae,ce,ne;return b().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return B=this._logger.create("processSignoutResponse"),he.next=3,this.readSignoutResponseState(M,!0);case 3:return ae=he.sent,ce=ae.state,ne=ae.response,ce?(B.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(ne,ce)):B.debug("No state from storage; skipping response validation"),he.abrupt("return",ne);case 8:case"end":return he.stop()}},A,this)})),function(A){return f.apply(this,arguments)})},{key:"clearStaleState",value:function(){return this._logger.create("clearStaleState"),gr.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}},{key:"revokeToken",value:(_=x(b().mark(function A(M,B){return b().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return this._logger.create("revokeToken"),ae.next=3,this._tokenClient.revoke({token:M,token_type_hint:B});case 3:return ae.abrupt("return",ae.sent);case 4:case"end":return ae.stop()}},A,this)})),function(A,M){return _.apply(this,arguments)})}]);var _,f,h,p,k,y,w,S,E,I}(),Rr=function(){return le(function f(h){var p=this;$(this,f),this._userManager=h,this._logger=new Ye("SessionMonitor"),this._start=function(){var k=x(b().mark(function y(w){var S,E,I,A,M,B,ae;return b().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(S=w.session_state){ce.next=3;break}return ce.abrupt("return");case 3:if(E=p._logger.create("_start"),w.profile?(p._sub=w.profile.sub,E.debug("session_state",S,", sub",p._sub)):(p._sub=void 0,E.debug("session_state",S,", anonymous user")),!p._checkSessionIFrame){ce.next=8;break}return p._checkSessionIFrame.start(S),ce.abrupt("return");case 8:return ce.prev=8,ce.next=11,p._userManager.metadataService.getCheckSessionIframe();case 11:if(!(I=ce.sent)){ce.next=24;break}return E.debug("initializing check session iframe"),A=p._userManager.settings.client_id,M=p._userManager.settings.checkSessionIntervalInSeconds,B=p._userManager.settings.stopCheckSessionOnError,ae=new hr(p._callback,A,I,M,B),ce.next=20,ae.load();case 20:p._checkSessionIFrame=ae,ae.start(S),ce.next=25;break;case 24:E.warn("no check session iframe found in the metadata");case 25:ce.next=30;break;case 27:ce.prev=27,ce.t0=ce.catch(8),E.error("Error from getCheckSessionIframe:",ce.t0 instanceof Error?ce.t0.message:ce.t0);case 30:case"end":return ce.stop()}},y,null,[[8,27]])}));return function(y){return k.apply(this,arguments)}}(),this._stop=function(){var k=p._logger.create("_stop");if(p._sub=void 0,p._checkSessionIFrame&&p._checkSessionIFrame.stop(),p._userManager.settings.monitorAnonymousSession)var y=setInterval(x(b().mark(function w(){var S,E;return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return clearInterval(y),I.prev=1,I.next=4,p._userManager.querySessionStatus();case 4:(S=I.sent)&&(E={session_state:S.session_state,profile:S.sub?{sub:S.sub}:null},p._start(E)),I.next=11;break;case 8:I.prev=8,I.t0=I.catch(1),k.error("error from querySessionStatus",I.t0 instanceof Error?I.t0.message:I.t0);case 11:case"end":return I.stop()}},w,null,[[1,8]])})),1e3)},this._callback=x(b().mark(function k(){var y,w,S;return b().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return y=p._logger.create("_callback"),E.prev=1,E.next=4,p._userManager.querySessionStatus();case 4:if(w=E.sent,S=!0,!w||!p._checkSessionIFrame){E.next=18;break}if(w.sub!==p._sub){E.next=15;break}return S=!1,p._checkSessionIFrame.start(w.session_state),y.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",w.session_state),E.next=13,p._userManager.events._raiseUserSessionChanged();case 13:E.next=16;break;case 15:y.debug("different subject signed into OP",w.sub);case 16:E.next=19;break;case 18:y.debug("subject no longer signed into OP");case 19:if(!S){E.next=29;break}if(!p._sub){E.next=25;break}return E.next=23,p._userManager.events._raiseUserSignedOut();case 23:E.next=27;break;case 25:return E.next=27,p._userManager.events._raiseUserSignedIn();case 27:E.next=30;break;case 29:y.debug("no change in session detected, no event to raise");case 30:E.next=38;break;case 32:if(E.prev=32,E.t0=E.catch(1),!p._sub){E.next=38;break}return y.debug("Error calling queryCurrentSigninSession; raising signed out event",E.t0),E.next=38,p._userManager.events._raiseUserSignedOut();case 38:case"end":return E.stop()}},k,null,[[1,32]])})),h||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(function(k){p._logger.error(k)})},[{key:"_init",value:(_=x(b().mark(function f(){var h,p,k;return b().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return this._logger.create("_init"),y.next=3,this._userManager.getUser();case 3:if(!(h=y.sent)){y.next=8;break}this._start(h),y.next=13;break;case 8:if(!this._userManager.settings.monitorAnonymousSession){y.next=13;break}return y.next=11,this._userManager.querySessionStatus();case 11:(p=y.sent)&&(k={session_state:p.session_state,profile:p.sub?{sub:p.sub}:null},this._start(k));case 13:case"end":return y.stop()}},f,this)})),function(){return _.apply(this,arguments)})}]);var _}(),Rn=function(){function _(f){var h;$(this,_),this.id_token=f.id_token,this.session_state=(h=f.session_state)!=null?h:null,this.access_token=f.access_token,this.refresh_token=f.refresh_token,this.token_type=f.token_type,this.scope=f.scope,this.profile=f.profile,this.expires_at=f.expires_at,this.state=f.userState,this.url_state=f.url_state}return le(_,[{key:"expires_in",get:function(){if(this.expires_at!==void 0)return this.expires_at-fn.getEpochTime()},set:function(f){f!==void 0&&(this.expires_at=Math.floor(f)+fn.getEpochTime())}},{key:"expired",get:function(){var f=this.expires_in;if(f!==void 0)return f<=0}},{key:"scopes",get:function(){var f,h;return(h=(f=this.scope)==null?void 0:f.split(" "))!=null?h:[]}},{key:"toStorageString",value:function(){return new Ye("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}}],[{key:"fromStorageString",value:function(f){return Ye.createStatic("User","fromStorageString"),new _(JSON.parse(f))}}])}(),ln="oidc-client",Pe=function(){return le(function f(){$(this,f),this._abort=new nn("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null},[{key:"navigate",value:(_=x(b().mark(function f(h){var p,k,y,w,S=this;return b().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(p=this._logger.create("navigate"),this._window){E.next=3;break}throw new Error("Attempted to navigate on a disposed window");case 3:return p.debug("setting URL in window"),this._window.location.replace(h.url),E.next=7,new Promise(function(I,A){var M=function(B){var ae,ce=B.data,ne=(ae=h.scriptOrigin)!=null?ae:window.location.origin;if(B.origin===ne&&(ce==null?void 0:ce.source)===ln){try{var he=kn.readParams(ce.url,h.response_mode).get("state");if(he||p.warn("no state found in response url"),B.source!==S._window&&he!==h.state)return}catch{S._dispose(),A(new Error("Invalid response from window"))}I(ce)}};window.addEventListener("message",M,!1),S._disposeHandlers.add(function(){return window.removeEventListener("message",M,!1)}),S._disposeHandlers.add(S._abort.addHandler(function(B){S._dispose(),A(B)}))});case 7:return k=E.sent,y=k.url,w=k.keepOpen,p.debug("got response from window"),this._dispose(),w||this.close(),E.abrupt("return",{url:y});case 14:case"end":return E.stop()}},f,this)})),function(f){return _.apply(this,arguments)})},{key:"_dispose",value:function(){this._logger.create("_dispose");var f,h=$e(this._disposeHandlers);try{for(h.s();!(f=h.n()).done;)(0,f.value)()}catch(p){h.e(p)}finally{h.f()}this._disposeHandlers.clear()}}],[{key:"_notifyParent",value:function(f,h){var p=arguments.length>2&&arguments[2]!==void 0&&arguments[2],k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:window.location.origin;f.postMessage({source:ln,url:h,keepOpen:p},k)}}]);var _}(),st={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},gt="_blank",yt=function(_){function f(h){var p;$(this,f);var k=h.popup_redirect_uri,y=k===void 0?h.redirect_uri:k,w=h.popup_post_logout_redirect_uri,S=w===void 0?h.post_logout_redirect_uri:w,E=h.popupWindowFeatures,I=E===void 0?st:E,A=h.popupWindowTarget,M=A===void 0?gt:A,B=h.redirectMethod,ae=B===void 0?"assign":B,ce=h.redirectTarget,ne=ce===void 0?"self":ce,he=h.iframeNotifyParentOrigin,Ce=he===void 0?h.iframeNotifyParentOrigin:he,fe=h.iframeScriptOrigin,ke=fe===void 0?h.iframeScriptOrigin:fe,Ze=h.requestTimeoutInSeconds,vt=h.silent_redirect_uri,dt=vt===void 0?h.redirect_uri:vt,Ee=h.silentRequestTimeoutInSeconds,ut=h.automaticSilentRenew,Qe=ut===void 0||ut,Ie=h.validateSubOnSilentRenew,St=Ie===void 0||Ie,Pt=h.includeIdTokenInSilentRenew,At=Pt!==void 0&&Pt,Wt=h.monitorSession,Lt=Wt!==void 0&&Wt,de=h.monitorAnonymousSession,F=de!==void 0&&de,L=h.checkSessionIntervalInSeconds,G=L===void 0?2:L,W=h.query_status_response_type,q=W===void 0?"code":W,re=h.stopCheckSessionOnError,Te=re===void 0||re,Se=h.revokeTokenTypes,Oe=Se===void 0?["access_token","refresh_token"]:Se,ze=h.revokeTokensOnSignout,Le=ze!==void 0&&ze,Mt=h.includeIdTokenInSilentSignout,et=Mt!==void 0&&Mt,bt=h.accessTokenExpiringNotificationTimeInSeconds,Tt=bt===void 0?60:bt,Sn=h.userStore;if((p=Fe(this,f,[h])).popup_redirect_uri=y,p.popup_post_logout_redirect_uri=S,p.popupWindowFeatures=I,p.popupWindowTarget=M,p.redirectMethod=ae,p.redirectTarget=ne,p.iframeNotifyParentOrigin=Ce,p.iframeScriptOrigin=ke,p.silent_redirect_uri=dt,p.silentRequestTimeoutInSeconds=Ee||Ze||10,p.automaticSilentRenew=Qe,p.validateSubOnSilentRenew=St,p.includeIdTokenInSilentRenew=At,p.monitorSession=Lt,p.monitorAnonymousSession=F,p.checkSessionIntervalInSeconds=G,p.stopCheckSessionOnError=Te,p.query_status_response_type=q,p.revokeTokenTypes=Oe,p.revokeTokensOnSignout=Le,p.includeIdTokenInSilentSignout=et,p.accessTokenExpiringNotificationTimeInSeconds=Tt,Sn)p.userStore=Sn;else{var sr=typeof window<"u"?window.sessionStorage:new Hr;p.userStore=new er({store:sr})}return p}return qe(f,_),le(f)}($n),kt=function(_){function f(p){var k,y=p.silentRequestTimeoutInSeconds,w=y===void 0?10:y;return $(this,f),(k=Fe(this,f))._logger=new Ye("IFrameWindow"),k._timeoutInSeconds=w,k._frame=f.createHiddenIframe(),k._window=k._frame.contentWindow,k}return qe(f,_),le(f,[{key:"navigate",value:(h=x(b().mark(function p(k){var y,w=this;return b().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds),y=setTimeout(function(){w._abort.raise(new pr("IFrame timed out without a response"))},1e3*this._timeoutInSeconds),this._disposeHandlers.add(function(){return clearTimeout(y)}),S.next=5,at(f,"navigate",this,3)([k]);case 5:return S.abrupt("return",S.sent);case 6:case"end":return S.stop()}},p,this)})),function(p){return h.apply(this,arguments)})},{key:"close",value:function(){var p,k=this;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",function(y){var w,S=y.target;(w=S.parentNode)==null||w.removeChild(S),k._abort.raise(new Error("IFrame removed from DOM"))},!0),(p=this._frame.contentWindow)==null||p.location.replace("about:blank")),this._frame=null),this._window=null}}],[{key:"createHiddenIframe",value:function(){var p=window.document.createElement("iframe");return p.style.visibility="hidden",p.style.position="fixed",p.style.left="-1000px",p.style.top="0",p.width="0",p.height="0",window.document.body.appendChild(p),p}},{key:"notifyParent",value:function(p,k){return at(f,"_notifyParent",this,2)([window.parent,p,!1,k])}}]);var h}(Pe),rn=function(){return le(function h(p){$(this,h),this._settings=p,this._logger=new Ye("IFrameNavigator")},[{key:"prepare",value:(f=x(b().mark(function h(p){var k,y;return b().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return k=p.silentRequestTimeoutInSeconds,y=k===void 0?this._settings.silentRequestTimeoutInSeconds:k,w.abrupt("return",new kt({silentRequestTimeoutInSeconds:y}));case 2:case"end":return w.stop()}},h,this)})),function(h){return f.apply(this,arguments)})},{key:"callback",value:(_=x(b().mark(function h(p){return b().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:this._logger.create("callback"),kt.notifyParent(p,this._settings.iframeNotifyParentOrigin);case 2:case"end":return k.stop()}},h,this)})),function(h){return _.apply(this,arguments)})}]);var _,f}(),Kt=function(_){function f(p){var k,y=p.popupWindowTarget,w=y===void 0?gt:y,S=p.popupWindowFeatures,E=S===void 0?{}:S,I=p.popupSignal;$(this,f),(k=Fe(this,f))._logger=new Ye("PopupWindow");var A=Cn.center(oe(oe({},st),E));return k._window=window.open(void 0,w,Cn.serialize(A)),I&&I.addEventListener("abort",function(){var M;k._abort.raise(new Error((M=I.reason)!=null?M:"Popup aborted"))}),E.closePopupWindowAfterInSeconds&&E.closePopupWindowAfterInSeconds>0&&setTimeout(function(){k._window&&typeof k._window.closed=="boolean"&&!k._window.closed?k.close():k._abort.raise(new Error("Popup blocked by user"))},1e3*E.closePopupWindowAfterInSeconds),k}return qe(f,_),le(f,[{key:"navigate",value:(h=x(b().mark(function p(k){var y,w,S=this;return b().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return(y=this._window)==null||y.focus(),w=setInterval(function(){S._window&&!S._window.closed||S._abort.raise(new Error("Popup closed by user"))},500),this._disposeHandlers.add(function(){return clearInterval(w)}),E.next=5,at(f,"navigate",this,3)([k]);case 5:return E.abrupt("return",E.sent);case 6:case"end":return E.stop()}},p,this)})),function(p){return h.apply(this,arguments)})},{key:"close",value:function(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}}],[{key:"notifyOpener",value:function(p,k){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return at(f,"_notifyParent",this,2)([window.opener,p,k])}}]);var h}(Pe),ir=function(){return le(function h(p){$(this,h),this._settings=p,this._logger=new Ye("PopupNavigator")},[{key:"prepare",value:(f=x(b().mark(function h(p){var k,y,w,S,E;return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return k=p.popupWindowFeatures,y=k===void 0?this._settings.popupWindowFeatures:k,w=p.popupWindowTarget,S=w===void 0?this._settings.popupWindowTarget:w,E=p.popupSignal,I.abrupt("return",new Kt({popupWindowFeatures:y,popupWindowTarget:S,popupSignal:E}));case 2:case"end":return I.stop()}},h,this)})),function(h){return f.apply(this,arguments)})},{key:"callback",value:(_=x(b().mark(function h(p,k){var y,w;return b().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:y=k.keepOpen,w=y!==void 0&&y,this._logger.create("callback"),Kt.notifyOpener(p,w);case 3:case"end":return S.stop()}},h,this)})),function(h,p){return _.apply(this,arguments)})}]);var _,f}(),Bn=function(){return le(function h(p){$(this,h),this._settings=p,this._logger=new Ye("RedirectNavigator")},[{key:"prepare",value:(f=x(b().mark(function h(p){var k,y,w,S,E,I,A,M,B=this;return b().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return k=p.redirectMethod,y=k===void 0?this._settings.redirectMethod:k,w=p.redirectTarget,S=w===void 0?this._settings.redirectTarget:w,this._logger.create("prepare"),I=window.self,S==="top"&&(I=(E=window.top)!=null?E:window.self),A=I.location[y].bind(I.location),ae.abrupt("return",{navigate:function(){var ce=x(b().mark(function ne(he){var Ce;return b().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return B._logger.create("navigate"),Ce=new Promise(function(ke,Ze){M=Ze}),A(he.url),fe.next=5,Ce;case 5:return fe.abrupt("return",fe.sent);case 6:case"end":return fe.stop()}},ne)}));return function(ne){return ce.apply(this,arguments)}}(),close:function(){B._logger.create("close"),M==null||M(new Error("Redirect aborted")),I.stop()}});case 6:case"end":return ae.stop()}},h,this)})),function(h){return f.apply(this,arguments)})},{key:"callback",value:(_=x(b().mark(function h(){return b().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return");case 1:case"end":return p.stop()}},h)})),function(){return _.apply(this,arguments)})}]);var _,f}(),yr=function(_){function f(E){var I;return $(this,f),(I=Fe(this,f,[{expiringNotificationTimeInSeconds:E.accessTokenExpiringNotificationTimeInSeconds}]))._logger=new Ye("UserManagerEvents"),I._userLoaded=new nn("User loaded"),I._userUnloaded=new nn("User unloaded"),I._silentRenewError=new nn("Silent renew error"),I._userSignedIn=new nn("User signed in"),I._userSignedOut=new nn("User signed out"),I._userSessionChanged=new nn("User session changed"),I}return qe(f,_),le(f,[{key:"load",value:(S=x(b().mark(function E(I){var A,M=arguments;return b().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(A=!(M.length>1&&M[1]!==void 0)||M[1],at(f,"load",this,3)([I]),!A){B.next=5;break}return B.next=5,this._userLoaded.raise(I);case 5:case"end":return B.stop()}},E,this)})),function(E){return S.apply(this,arguments)})},{key:"unload",value:(w=x(b().mark(function E(){return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return at(f,"unload",this,3)([]),I.next=3,this._userUnloaded.raise();case 3:case"end":return I.stop()}},E,this)})),function(){return w.apply(this,arguments)})},{key:"addUserLoaded",value:function(E){return this._userLoaded.addHandler(E)}},{key:"removeUserLoaded",value:function(E){return this._userLoaded.removeHandler(E)}},{key:"addUserUnloaded",value:function(E){return this._userUnloaded.addHandler(E)}},{key:"removeUserUnloaded",value:function(E){return this._userUnloaded.removeHandler(E)}},{key:"addSilentRenewError",value:function(E){return this._silentRenewError.addHandler(E)}},{key:"removeSilentRenewError",value:function(E){return this._silentRenewError.removeHandler(E)}},{key:"_raiseSilentRenewError",value:(y=x(b().mark(function E(I){return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this._silentRenewError.raise(I);case 2:case"end":return A.stop()}},E,this)})),function(E){return y.apply(this,arguments)})},{key:"addUserSignedIn",value:function(E){return this._userSignedIn.addHandler(E)}},{key:"removeUserSignedIn",value:function(E){this._userSignedIn.removeHandler(E)}},{key:"_raiseUserSignedIn",value:(k=x(b().mark(function E(){return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this._userSignedIn.raise();case 2:case"end":return I.stop()}},E,this)})),function(){return k.apply(this,arguments)})},{key:"addUserSignedOut",value:function(E){return this._userSignedOut.addHandler(E)}},{key:"removeUserSignedOut",value:function(E){this._userSignedOut.removeHandler(E)}},{key:"_raiseUserSignedOut",value:(p=x(b().mark(function E(){return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this._userSignedOut.raise();case 2:case"end":return I.stop()}},E,this)})),function(){return p.apply(this,arguments)})},{key:"addUserSessionChanged",value:function(E){return this._userSessionChanged.addHandler(E)}},{key:"removeUserSessionChanged",value:function(E){this._userSessionChanged.removeHandler(E)}},{key:"_raiseUserSessionChanged",value:(h=x(b().mark(function E(){return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this._userSessionChanged.raise();case 2:case"end":return I.stop()}},E,this)})),function(){return h.apply(this,arguments)})}]);var h,p,k,y,w,S}(pn),Un=function(){return le(function f(h){var p=this;$(this,f),this._userManager=h,this._logger=new Ye("SilentRenewService"),this._isStarted=!1,this._retryTimer=new fn("Retry Silent Renew"),this._tokenExpiring=x(b().mark(function k(){var y;return b().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return y=p._logger.create("_tokenExpiring"),w.prev=1,w.next=4,p._userManager.signinSilent();case 4:y.debug("silent token renewal successful"),w.next=16;break;case 7:if(w.prev=7,w.t0=w.catch(1),!(w.t0 instanceof pr)){w.next=13;break}return y.warn("ErrorTimeout from signinSilent:",w.t0,"retry in 5s"),p._retryTimer.init(5),w.abrupt("return");case 13:return y.error("Error from signinSilent:",w.t0),w.next=16,p._userManager.events._raiseSilentRenewError(w.t0);case 16:case"end":return w.stop()}},k,null,[[1,7]])}))},[{key:"start",value:(_=x(b().mark(function f(){var h;return b().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(h=this._logger.create("start"),this._isStarted){p.next=13;break}return this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring),p.prev=5,p.next=8,this._userManager.getUser();case 8:p.next=13;break;case 10:p.prev=10,p.t0=p.catch(5),h.error("getUser error",p.t0);case 13:case"end":return p.stop()}},f,this,[[5,10]])})),function(){return _.apply(this,arguments)})},{key:"stop",value:function(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}}]);var _}(),Ut=le(function _(f){$(this,_),this.refresh_token=f.refresh_token,this.id_token=f.id_token,this.session_state=f.session_state,this.scope=f.scope,this.profile=f.profile,this.data=f.state}),mt=function(){return le(function F(L,G,W,q){$(this,F),this._logger=new Ye("UserManager"),this._configHash=L.configHash,this.settings=new yt(L),this._client=new vr(L),this._redirectNavigator=G??new Bn(this.settings),this._popupNavigator=W??new ir(this.settings),this._iframeNavigator=q??new rn(this.settings),this._events=new yr(this.settings),this._silentRenewService=new Un(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new Rr(this))},[{key:"events",get:function(){return this._events}},{key:"metadataService",get:function(){return this._client.metadataService}},{key:"getUser",value:(de=x(b().mark(function F(){var L,G;return b().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return L=this._logger.create("getUser"),W.next=3,this._loadUser();case 3:if(!(G=W.sent)){W.next=9;break}return L.info("user loaded"),W.next=8,this._events.load(G,!1);case 8:return W.abrupt("return",G);case 9:return L.info("user not found in storage"),W.abrupt("return",null);case 11:case"end":return W.stop()}},F,this)})),function(){return de.apply(this,arguments)})},{key:"removeUser",value:(Lt=x(b().mark(function F(){var L;return b().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return L=this._logger.create("removeUser"),G.next=3,this.storeUser(null);case 3:return L.info("user removed from storage"),G.next=6,this._events.unload();case 6:case"end":return G.stop()}},F,this)})),function(){return Lt.apply(this,arguments)})},{key:"signinRedirect",value:(Wt=x(b().mark(function F(){var L,G,W,q,re,Te,Se=arguments;return b().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(L=Se.length>0&&Se[0]!==void 0?Se[0]:{},this._logger.create("signinRedirect"),W=L.redirectMethod,q=Y(L,P),!((G=this.settings.dpop)!=null&&G.bind_authorization_code)){Oe.next=7;break}return Oe.next=6,this.generateDPoPJkt(this.settings.dpop);case 6:re=Oe.sent;case 7:return Oe.next=9,this._redirectNavigator.prepare({redirectMethod:W});case 9:return Te=Oe.sent,Oe.next=12,this._signinStart(oe({configHash:this._configHash,request_type:"si:r",dpopJkt:re},q),Te);case 12:case"end":return Oe.stop()}},F,this)})),function(){return Wt.apply(this,arguments)})},{key:"signinRedirectCallback",value:(At=x(b().mark(function F(){var L,G,W,q=arguments;return b().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return L=q.length>0&&q[0]!==void 0?q[0]:window.location.href,G=this._logger.create("signinRedirectCallback"),re.next=4,this._signinEnd(L);case 4:return(W=re.sent).profile&&W.profile.sub?G.info("success, signed in subject",W.profile.sub):G.info("no subject"),re.abrupt("return",W);case 7:case"end":return re.stop()}},F,this)})),function(){return At.apply(this,arguments)})},{key:"signinResourceOwnerCredentials",value:(Pt=x(b().mark(function F(L){var G,W,q,re,Te,Se,Oe;return b().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return G=L.username,W=L.password,q=L.skipUserInfo,re=q!==void 0&&q,Te=this._logger.create("signinResourceOwnerCredential"),ze.next=4,this._client.processResourceOwnerPasswordCredentials({username:G,password:W,skipUserInfo:re,extraTokenParams:this.settings.extraTokenParams});case 4:return Se=ze.sent,Te.debug("got signin response"),ze.next=8,this._buildUser(Se);case 8:return(Oe=ze.sent).profile&&Oe.profile.sub?Te.info("success, signed in subject",Oe.profile.sub):Te.info("no subject"),ze.abrupt("return",Oe);case 11:case"end":return ze.stop()}},F,this)})),function(F){return Pt.apply(this,arguments)})},{key:"signinPopup",value:(St=x(b().mark(function F(){var L,G,W,q,re,Te,Se,Oe,ze,Le,Mt,et=arguments;return b().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(L=et.length>0&&et[0]!==void 0?et[0]:{},W=this._logger.create("signinPopup"),!((G=this.settings.dpop)!=null&&G.bind_authorization_code)){bt.next=6;break}return bt.next=5,this.generateDPoPJkt(this.settings.dpop);case 5:q=bt.sent;case 6:return re=L.popupWindowFeatures,Te=L.popupWindowTarget,Se=L.popupSignal,Oe=Y(L,U),(ze=this.settings.popup_redirect_uri)||W.throw(new Error("No popup_redirect_uri configured")),bt.next=11,this._popupNavigator.prepare({popupWindowFeatures:re,popupWindowTarget:Te,popupSignal:Se});case 11:return Le=bt.sent,bt.next=14,this._signin(oe({configHash:this._configHash,request_type:"si:p",redirect_uri:ze,display:"popup",dpopJkt:q},Oe),Le);case 14:return(Mt=bt.sent)&&(Mt.profile&&Mt.profile.sub?W.info("success, signed in subject",Mt.profile.sub):W.info("no subject")),bt.abrupt("return",Mt);case 17:case"end":return bt.stop()}},F,this)})),function(){return St.apply(this,arguments)})},{key:"signinPopupCallback",value:(Ie=x(b().mark(function F(){var L,G,W,q=arguments;return b().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return L=q.length>0&&q[0]!==void 0?q[0]:window.location.href,G=q.length>1&&q[1]!==void 0&&q[1],W=this._logger.create("signinPopupCallback"),re.next=5,this._popupNavigator.callback(L,{keepOpen:G});case 5:W.info("success");case 6:case"end":return re.stop()}},F,this)})),function(){return Ie.apply(this,arguments)})},{key:"signinSilent",value:(Qe=x(b().mark(function F(){var L,G,W,q,re,Te,Se,Oe,ze,Le,Mt,et,bt=arguments;return b().wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:return L=bt.length>0&&bt[0]!==void 0?bt[0]:{},q=this._logger.create("signinSilent"),re=L.silentRequestTimeoutInSeconds,Te=Y(L,O),Tt.next=5,this._loadUser();case 5:if(!((Se=Tt.sent)!=null&&Se.refresh_token)){Tt.next=12;break}return q.debug("using refresh token"),Oe=new Ut(Se),Tt.next=11,this._useRefreshToken({state:Oe,redirect_uri:Te.redirect_uri,resource:Te.resource,extraTokenParams:Te.extraTokenParams,timeoutInSeconds:re});case 11:return Tt.abrupt("return",Tt.sent);case 12:if(!((G=this.settings.dpop)!=null&&G.bind_authorization_code)){Tt.next=16;break}return Tt.next=15,this.generateDPoPJkt(this.settings.dpop);case 15:ze=Tt.sent;case 16:return(Le=this.settings.silent_redirect_uri)||q.throw(new Error("No silent_redirect_uri configured")),Se&&this.settings.validateSubOnSilentRenew&&(q.debug("subject prior to silent renew:",Se.profile.sub),Mt=Se.profile.sub),Tt.next=21,this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:re});case 21:return et=Tt.sent,Tt.next=24,this._signin(oe({configHash:this._configHash,request_type:"si:s",redirect_uri:Le,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?Se==null?void 0:Se.id_token:void 0,dpopJkt:ze},Te),et,Mt);case 24:return(Se=Tt.sent)&&((W=Se.profile)!=null&&W.sub?q.info("success, signed in subject",Se.profile.sub):q.info("no subject")),Tt.abrupt("return",Se);case 27:case"end":return Tt.stop()}},F,this)})),function(){return Qe.apply(this,arguments)})},{key:"_useRefreshToken",value:(ut=x(b().mark(function F(L){var G,W;return b().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,this._client.useRefreshToken(oe({timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds},L));case 2:return G=q.sent,W=new Rn(oe(oe({},L.state),G)),q.next=6,this.storeUser(W);case 6:return q.next=8,this._events.load(W);case 8:return q.abrupt("return",W);case 9:case"end":return q.stop()}},F,this)})),function(F){return ut.apply(this,arguments)})},{key:"signinSilentCallback",value:(Ee=x(b().mark(function F(){var L,G,W=arguments;return b().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return L=W.length>0&&W[0]!==void 0?W[0]:window.location.href,G=this._logger.create("signinSilentCallback"),q.next=4,this._iframeNavigator.callback(L);case 4:G.info("success");case 5:case"end":return q.stop()}},F,this)})),function(){return Ee.apply(this,arguments)})},{key:"signinCallback",value:(dt=x(b().mark(function F(){var L,G,W,q=arguments;return b().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return L=q.length>0&&q[0]!==void 0?q[0]:window.location.href,re.next=3,this._client.readSigninResponseState(L);case 3:G=re.sent,W=G.state,re.t0=W.request_type,re.next=re.t0==="si:r"?8:re.t0==="si:p"?11:re.t0==="si:s"?14:17;break;case 8:return re.next=10,this.signinRedirectCallback(L);case 10:return re.abrupt("return",re.sent);case 11:return re.next=13,this.signinPopupCallback(L);case 13:case 16:return re.abrupt("break",18);case 14:return re.next=16,this.signinSilentCallback(L);case 17:throw new Error("invalid response_type in state");case 18:return re.abrupt("return",void 0);case 19:case"end":return re.stop()}},F,this)})),function(){return dt.apply(this,arguments)})},{key:"signoutCallback",value:(vt=x(b().mark(function F(){var L,G,W,q,re=arguments;return b().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return L=re.length>0&&re[0]!==void 0?re[0]:window.location.href,G=re.length>1&&re[1]!==void 0&&re[1],Te.next=4,this._client.readSignoutResponseState(L);case 4:if(W=Te.sent,q=W.state){Te.next=8;break}return Te.abrupt("return",void 0);case 8:Te.t0=q.request_type,Te.next=Te.t0==="so:r"?11:Te.t0==="so:p"?14:Te.t0==="so:s"?17:20;break;case 11:return Te.next=13,this.signoutRedirectCallback(L);case 13:return Te.abrupt("return",Te.sent);case 14:return Te.next=16,this.signoutPopupCallback(L,G);case 16:case 19:return Te.abrupt("break",21);case 17:return Te.next=19,this.signoutSilentCallback(L);case 20:throw new Error("invalid response_type in state");case 21:return Te.abrupt("return",void 0);case 22:case"end":return Te.stop()}},F,this)})),function(){return vt.apply(this,arguments)})},{key:"querySessionStatus",value:(Ze=x(b().mark(function F(){var L,G,W,q,re,Te,Se,Oe,ze,Le,Mt=arguments;return b().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return L=Mt.length>0&&Mt[0]!==void 0?Mt[0]:{},G=this._logger.create("querySessionStatus"),W=L.silentRequestTimeoutInSeconds,q=Y(L,R),(re=this.settings.silent_redirect_uri)||G.throw(new Error("No silent_redirect_uri configured")),et.next=7,this._loadUser();case 7:return Te=et.sent,et.next=10,this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:W});case 10:return Se=et.sent,et.next=13,this._signinStart(oe({configHash:this._configHash,request_type:"si:s",redirect_uri:re,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?Te==null?void 0:Te.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0},q),Se);case 13:return Oe=et.sent,et.prev=14,ze={},et.next=18,this._client.processSigninResponse(Oe.url,ze);case 18:if(Le=et.sent,G.debug("got signin response"),!Le.session_state||!Le.profile.sub){et.next=23;break}return G.info("success for subject",Le.profile.sub),et.abrupt("return",{session_state:Le.session_state,sub:Le.profile.sub});case 23:return G.info("success, user not authenticated"),et.abrupt("return",null);case 27:if(et.prev=27,et.t0=et.catch(14),!(this.settings.monitorAnonymousSession&&et.t0 instanceof Qt)){et.next=35;break}et.t1=et.t0.error,et.next=et.t1==="login_required"||et.t1==="consent_required"||et.t1==="interaction_required"||et.t1==="account_selection_required"?33:35;break;case 33:return G.info("success for anonymous user"),et.abrupt("return",{session_state:et.t0.session_state});case 35:throw et.t0;case 36:case"end":return et.stop()}},F,this,[[14,27]])})),function(){return Ze.apply(this,arguments)})},{key:"_signin",value:(ke=x(b().mark(function F(L,G,W){var q;return b().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,this._signinStart(L,G);case 2:return q=re.sent,re.next=5,this._signinEnd(q.url,W);case 5:return re.abrupt("return",re.sent);case 6:case"end":return re.stop()}},F,this)})),function(F,L,G){return ke.apply(this,arguments)})},{key:"_signinStart",value:(fe=x(b().mark(function F(L,G){var W,q;return b().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return W=this._logger.create("_signinStart"),re.prev=1,re.next=4,this._client.createSigninRequest(L);case 4:return q=re.sent,W.debug("got signin request"),re.next=8,G.navigate({url:q.url,state:q.state.id,response_mode:q.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin});case 8:return re.abrupt("return",re.sent);case 11:throw re.prev=11,re.t0=re.catch(1),W.debug("error after preparing navigator, closing navigator window"),G.close(),re.t0;case 16:case"end":return re.stop()}},F,this,[[1,11]])})),function(F,L){return fe.apply(this,arguments)})},{key:"_signinEnd",value:(Ce=x(b().mark(function F(L,G){var W,q,re,Te;return b().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return W=this._logger.create("_signinEnd"),q={},Se.next=4,this._client.processSigninResponse(L,q);case 4:return re=Se.sent,W.debug("got signin response"),Se.next=8,this._buildUser(re,G);case 8:return Te=Se.sent,Se.abrupt("return",Te);case 10:case"end":return Se.stop()}},F,this)})),function(F,L){return Ce.apply(this,arguments)})},{key:"_buildUser",value:(he=x(b().mark(function F(L,G){var W,q;return b().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(W=this._logger.create("_buildUser"),q=new Rn(L),!G){re.next=7;break}if(G===q.profile.sub){re.next=6;break}throw W.debug("current user does not match user returned from signin. sub from signin:",q.profile.sub),new Qt(oe(oe({},L),{},{error:"login_required"}));case 6:W.debug("current user matches user returned from signin");case 7:return re.next=9,this.storeUser(q);case 9:return W.debug("user stored"),re.next=12,this._events.load(q);case 12:return re.abrupt("return",q);case 13:case"end":return re.stop()}},F,this)})),function(F,L){return he.apply(this,arguments)})},{key:"signoutRedirect",value:(ne=x(b().mark(function F(){var L,G,W,q,re,Te=arguments;return b().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return L=Te.length>0&&Te[0]!==void 0?Te[0]:{},G=this._logger.create("signoutRedirect"),W=L.redirectMethod,q=Y(L,H),Se.next=5,this._redirectNavigator.prepare({redirectMethod:W});case 5:return re=Se.sent,Se.next=8,this._signoutStart(oe({configHash:this._configHash,request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri},q),re);case 8:G.info("success");case 9:case"end":return Se.stop()}},F,this)})),function(){return ne.apply(this,arguments)})},{key:"signoutRedirectCallback",value:(ce=x(b().mark(function F(){var L,G,W,q=arguments;return b().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return L=q.length>0&&q[0]!==void 0?q[0]:window.location.href,G=this._logger.create("signoutRedirectCallback"),re.next=4,this._signoutEnd(L);case 4:return W=re.sent,G.info("success"),re.abrupt("return",W);case 7:case"end":return re.stop()}},F,this)})),function(){return ce.apply(this,arguments)})},{key:"signoutPopup",value:(ae=x(b().mark(function F(){var L,G,W,q,re,Te,Se,Oe,ze=arguments;return b().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return L=ze.length>0&&ze[0]!==void 0?ze[0]:{},G=this._logger.create("signoutPopup"),W=L.popupWindowFeatures,q=L.popupWindowTarget,re=L.popupSignal,Te=Y(L,z),Se=this.settings.popup_post_logout_redirect_uri,Le.next=6,this._popupNavigator.prepare({popupWindowFeatures:W,popupWindowTarget:q,popupSignal:re});case 6:return Oe=Le.sent,Le.next=9,this._signout(oe({configHash:this._configHash,request_type:"so:p",post_logout_redirect_uri:Se,state:Se==null?void 0:{}},Te),Oe);case 9:G.info("success");case 10:case"end":return Le.stop()}},F,this)})),function(){return ae.apply(this,arguments)})},{key:"signoutPopupCallback",value:(B=x(b().mark(function F(){var L,G,W,q=arguments;return b().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return L=q.length>0&&q[0]!==void 0?q[0]:window.location.href,G=q.length>1&&q[1]!==void 0&&q[1],W=this._logger.create("signoutPopupCallback"),re.next=5,this._popupNavigator.callback(L,{keepOpen:G});case 5:W.info("success");case 6:case"end":return re.stop()}},F,this)})),function(){return B.apply(this,arguments)})},{key:"_signout",value:(M=x(b().mark(function F(L,G){var W;return b().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,this._signoutStart(L,G);case 2:return W=q.sent,q.next=5,this._signoutEnd(W.url);case 5:return q.abrupt("return",q.sent);case 6:case"end":return q.stop()}},F,this)})),function(F,L){return M.apply(this,arguments)})},{key:"_signoutStart",value:(A=x(b().mark(function F(L,G){var W,q,re,Te,Se;return b().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return q=this._logger.create("_signoutStart"),Oe.prev=1,Oe.next=4,this._loadUser();case 4:if(re=Oe.sent,q.debug("loaded current user from storage"),!this.settings.revokeTokensOnSignout){Oe.next=9;break}return Oe.next=9,this._revokeInternal(re);case 9:return(Te=L.id_token_hint||re&&re.id_token)&&(q.debug("setting id_token_hint in signout request"),L.id_token_hint=Te),Oe.next=13,this.removeUser();case 13:return q.debug("user removed, creating signout request"),Oe.next=16,this._client.createSignoutRequest(L);case 16:return Se=Oe.sent,q.debug("got signout request"),Oe.next=20,G.navigate({url:Se.url,state:(W=Se.state)==null?void 0:W.id,scriptOrigin:this.settings.iframeScriptOrigin});case 20:return Oe.abrupt("return",Oe.sent);case 23:throw Oe.prev=23,Oe.t0=Oe.catch(1),q.debug("error after preparing navigator, closing navigator window"),G.close(),Oe.t0;case 28:case"end":return Oe.stop()}},F,this,[[1,23]])})),function(F,L){return A.apply(this,arguments)})},{key:"_signoutEnd",value:(I=x(b().mark(function F(L){var G,W;return b().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return G=this._logger.create("_signoutEnd"),q.next=3,this._client.processSignoutResponse(L);case 3:return W=q.sent,G.debug("got signout response"),q.abrupt("return",W);case 6:case"end":return q.stop()}},F,this)})),function(F){return I.apply(this,arguments)})},{key:"signoutSilent",value:(E=x(b().mark(function F(){var L,G,W,q,re,Te,Se,Oe,ze=arguments;return b().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(L=ze.length>0&&ze[0]!==void 0?ze[0]:{},W=this._logger.create("signoutSilent"),q=L.silentRequestTimeoutInSeconds,re=Y(L,te),!this.settings.includeIdTokenInSilentSignout){Le.next=15;break}return Le.next=6,this._loadUser();case 6:if(Le.t1=G=Le.sent,Le.t1!=null){Le.next=11;break}Le.t2=void 0,Le.next=12;break;case 11:Le.t2=G.id_token;case 12:Le.t0=Le.t2,Le.next=16;break;case 15:Le.t0=void 0;case 16:return Te=Le.t0,Se=this.settings.popup_post_logout_redirect_uri,Le.next=20,this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:q});case 20:return Oe=Le.sent,Le.next=23,this._signout(oe({configHash:this._configHash,request_type:"so:s",post_logout_redirect_uri:Se,id_token_hint:Te},re),Oe);case 23:W.info("success");case 24:case"end":return Le.stop()}},F,this)})),function(){return E.apply(this,arguments)})},{key:"signoutSilentCallback",value:(S=x(b().mark(function F(){var L,G,W=arguments;return b().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return L=W.length>0&&W[0]!==void 0?W[0]:window.location.href,G=this._logger.create("signoutSilentCallback"),q.next=4,this._iframeNavigator.callback(L);case 4:G.info("success");case 5:case"end":return q.stop()}},F,this)})),function(){return S.apply(this,arguments)})},{key:"revokeTokens",value:(w=x(b().mark(function F(L){var G;return b().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this._loadUser();case 2:return G=W.sent,W.next=5,this._revokeInternal(G,L);case 5:case"end":return W.stop()}},F,this)})),function(F){return w.apply(this,arguments)})},{key:"_revokeInternal",value:(y=x(b().mark(function F(L){var G,W,q,re,Te,Se,Oe=arguments;return b().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(G=Oe.length>1&&Oe[1]!==void 0?Oe[1]:this.settings.revokeTokenTypes,W=this._logger.create("_revokeInternal"),L){ze.next=4;break}return ze.abrupt("return");case 4:if(q=G.filter(function(Le){return typeof L[Le]=="string"}),q.length){ze.next=8;break}return W.debug("no need to revoke due to no token(s)"),ze.abrupt("return");case 8:re=$e(q),ze.prev=9,re.s();case 11:if((Te=re.n()).done){ze.next=19;break}return Se=Te.value,ze.next=15,this._client.revokeToken(L[Se],Se);case 15:W.info("".concat(Se," revoked successfully")),Se!=="access_token"&&(L[Se]=null);case 17:ze.next=11;break;case 19:ze.next=24;break;case 21:ze.prev=21,ze.t0=ze.catch(9),re.e(ze.t0);case 24:return ze.prev=24,re.f(),ze.finish(24);case 27:return ze.next=29,this.storeUser(L);case 29:return W.debug("user stored"),ze.next=32,this._events.load(L);case 32:case"end":return ze.stop()}},F,this,[[9,21,24,27]])})),function(F){return y.apply(this,arguments)})},{key:"startSilentRenew",value:function(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}},{key:"stopSilentRenew",value:function(){this._silentRenewService.stop()}},{key:"_userStoreKey",get:function(){return"user:".concat(this.settings.authority,":").concat(this.settings.client_id)}},{key:"_loadUser",value:(k=x(b().mark(function F(){var L,G;return b().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return L=this._logger.create("_loadUser"),W.next=3,this.settings.userStore.get(this._userStoreKey);case 3:if(!(G=W.sent)){W.next=7;break}return L.debug("user storageString loaded"),W.abrupt("return",Rn.fromStorageString(G));case 7:return L.debug("no user storageString"),W.abrupt("return",null);case 9:case"end":return W.stop()}},F,this)})),function(){return k.apply(this,arguments)})},{key:"storeUser",value:(p=x(b().mark(function F(L){var G,W;return b().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(G=this._logger.create("storeUser"),!L){q.next=8;break}return G.debug("storing user"),W=L.toStorageString(),q.next=6,this.settings.userStore.set(this._userStoreKey,W);case 6:q.next=14;break;case 8:return this._logger.debug("removing user"),q.next=11,this.settings.userStore.remove(this._userStoreKey);case 11:if(!this.settings.dpop){q.next=14;break}return q.next=14,this.settings.dpop.store.remove(this.settings.client_id);case 14:case"end":return q.stop()}},F,this)})),function(F){return p.apply(this,arguments)})},{key:"clearStaleState",value:(h=x(b().mark(function F(){return b().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,this._client.clearStaleState();case 2:case"end":return L.stop()}},F,this)})),function(){return h.apply(this,arguments)})},{key:"dpopProof",value:(f=x(b().mark(function F(L,G,W,q){var re,Te,Se;return b().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Oe.next=2,(Te=(re=this.settings.dpop)==null?void 0:re.store)==null?void 0:Te.get(this.settings.client_id);case 2:if(!(Se=Oe.sent)){Oe.next=7;break}return Oe.next=6,Zt.generateDPoPProof({url:L,accessToken:G==null?void 0:G.access_token,httpMethod:W,keyPair:Se.keys,nonce:q});case 6:return Oe.abrupt("return",Oe.sent);case 7:return Oe.abrupt("return",void 0);case 8:case"end":return Oe.stop()}},F,this)})),function(F,L,G,W){return f.apply(this,arguments)})},{key:"generateDPoPJkt",value:(_=x(b().mark(function F(L){var G,W;return b().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,L.store.get(this.settings.client_id);case 2:if(G=q.sent){q.next=10;break}return q.next=6,Zt.generateDPoPKeys();case 6:return W=q.sent,G=new rr(W),q.next=10,L.store.set(this.settings.client_id,G);case 10:return q.next=12,Zt.generateDPoPJkt(G.keys);case 12:return q.abrupt("return",q.sent);case 13:case"end":return q.stop()}},F,this)})),function(F){return _.apply(this,arguments)})}]);var _,f,h,p,k,y,w,S,E,I,A,M,B,ae,ce,ne,he,Ce,fe,ke,Ze,vt,dt,Ee,ut,Qe,Ie,St,Pt,At,Wt,Lt,de}(),Ct="3.1.0",hn=function(){return le(function y(){$(this,y),this._dbName="oidc",this._storeName="dpop"},[{key:"set",value:(k=x(b().mark(function y(w,S){var E,I=this;return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.createStore(this._dbName,this._storeName);case 2:return E=A.sent,A.next=5,E("readwrite",function(M){return M.put(S,w),I.promisifyRequest(M.transaction)});case 5:case"end":return A.stop()}},y,this)})),function(y,w){return k.apply(this,arguments)})},{key:"get",value:(p=x(b().mark(function y(w){var S,E=this;return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this.createStore(this._dbName,this._storeName);case 2:return S=I.sent,I.next=5,S("readonly",function(A){return E.promisifyRequest(A.get(w))});case 5:return I.abrupt("return",I.sent);case 6:case"end":return I.stop()}},y,this)})),function(y){return p.apply(this,arguments)})},{key:"remove",value:(h=x(b().mark(function y(w){var S,E,I=this;return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.get(w);case 2:return S=A.sent,A.next=5,this.createStore(this._dbName,this._storeName);case 5:return E=A.sent,A.next=8,E("readwrite",function(M){return I.promisifyRequest(M.delete(w))});case 8:return A.abrupt("return",S);case 9:case"end":return A.stop()}},y,this)})),function(y){return h.apply(this,arguments)})},{key:"getAllKeys",value:(f=x(b().mark(function y(){var w,S=this;return b().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this.createStore(this._dbName,this._storeName);case 2:return w=E.sent,E.next=5,w("readonly",function(I){return S.promisifyRequest(I.getAllKeys())});case 5:return E.abrupt("return",E.sent);case 6:case"end":return E.stop()}},y,this)})),function(){return f.apply(this,arguments)})},{key:"promisifyRequest",value:function(y){return new Promise(function(w,S){y.oncomplete=y.onsuccess=function(){return w(y.result)},y.onabort=y.onerror=function(){return S(y.error)}})}},{key:"createStore",value:(_=x(b().mark(function y(w,S){var E,I;return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return(E=indexedDB.open(w)).onupgradeneeded=function(){return E.result.createObjectStore(S)},A.next=4,this.promisifyRequest(E);case 4:return I=A.sent,A.abrupt("return",function(){var M=x(b().mark(function B(ae,ce){var ne,he;return b().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return ne=I.transaction(S,ae),he=ne.objectStore(S),Ce.next=4,ce(he);case 4:return Ce.abrupt("return",Ce.sent);case 5:case"end":return Ce.stop()}},B)}));return function(B,ae){return M.apply(this,arguments)}}());case 6:case"end":return A.stop()}},y,this)})),function(y,w){return _.apply(this,arguments)})}]);var _,f,h,p,k}()},196:(d,m)=>{function v(P){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},v(P)}function T(P){var U=typeof Map=="function"?new Map:void 0;return T=function(O){if(O===null||!function(H){try{return Function.toString.call(H).indexOf("[native code]")!==-1}catch{return typeof H=="function"}}(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(U!==void 0){if(U.has(O))return U.get(O);U.set(O,R)}function R(){return function(H,z,te){if(C())return Reflect.construct.apply(null,arguments);var X=[null];X.push.apply(X,z);var oe=new(H.bind.apply(H,X));return te&&N(oe,te.prototype),oe}(O,arguments,Z(this).constructor)}return R.prototype=Object.create(O.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),N(R,O)},T(P)}function C(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!P})()}function N(P,U){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,R){return O.__proto__=R,O},N(P,U)}function Z(P){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},Z(P)}Object.defineProperty(m,"__esModule",{value:!0}),m.jwtDecode=m.InvalidTokenError=void 0;var Q=function(P){function U(){return function(R,H){if(!(R instanceof H))throw new TypeError("Cannot call a class as a function")}(this,U),function(R,H,z){return H=Z(H),function(te,X){if(X&&(v(X)=="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}(te)}(R,C()?Reflect.construct(H,z||[],Z(R).constructor):H.apply(R,z))}(this,U,arguments)}return function(R,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(H&&H.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),H&&N(R,H)}(U,P),O=U,Object.defineProperty(O,"prototype",{writable:!1}),O;var O}(T(Error));m.InvalidTokenError=Q,Q.prototype.name="InvalidTokenError",m.jwtDecode=function(P,U){if(typeof P!="string")throw new Q("Invalid token specified: must be a string");U||(U={});var O,R=U.header===!0?0:1,H=P.split(".")[R];if(typeof H!="string")throw new Q("Invalid token specified: missing part #".concat(R+1));try{O=function(z){var te=z.replace(/-/g,"+").replace(/_/g,"/");switch(te.length%4){case 0:break;case 2:te+="==";break;case 3:te+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(X){return decodeURIComponent(atob(X).replace(/(.)/g,function(oe,se){var Y=se.charCodeAt(0).toString(16).toUpperCase();return Y.length<2&&(Y="0"+Y),"%"+Y}))}(te)}catch{return atob(te)}}(H)}catch(z){throw new Q("Invalid token specified: invalid base64 for part #".concat(R+1," (").concat(z.message,")"))}try{return JSON.parse(O)}catch(z){throw new Q("Invalid token specified: invalid json for part #".concat(R+1," (").concat(z.message,")"))}}}},l={},c=function d(m){var v=l[m];if(v!==void 0)return v.exports;var T=l[m]={exports:{}};return a[m].call(T.exports,T,T.exports,d),T.exports}(480);u.exports=c})(),i.__oidcSpaBundle=!0}(mo,mo.exports)),mo.exports}var vo={exports:{}},Jd;function Yn(){return Jd||(Jd=1,function(u,i){(()=>{var a={720:function(m,v,T){var C,N=this&&this.__extends||(C=function(R,H){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,te){z.__proto__=te}||function(z,te){for(var X in te)Object.prototype.hasOwnProperty.call(te,X)&&(z[X]=te[X])},C(R,H)},function(R,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function z(){this.constructor=R}C(R,H),R.prototype=H===null?Object.create(H):(z.prototype=H.prototype,new z)}),Z=this&&this.__read||function(R,H){var z=typeof Symbol=="function"&&R[Symbol.iterator];if(!z)return R;var te,X,oe=z.call(R),se=[];try{for(;(H===void 0||H-- >0)&&!(te=oe.next()).done;)se.push(te.value)}catch(Y){X={error:Y}}finally{try{te&&!te.done&&(z=oe.return)&&z.call(oe)}finally{if(X)throw X.error}}return se};Object.defineProperty(v,"__esModule",{value:!0}),v.AssertionError=void 0,v.assert=function(R,H){if(arguments.length===0&&(R=!0),U===void 0){if(!R)throw new P(typeof H=="function"?H():H)}else U=void 0},v.is=function(R){var H={};if(U!==void 0)throw U=void 0,new Error(O);return U=H,Promise.resolve().then(function(){if(U===H)throw new Error(O)}),null};var Q=T(522),P=function(R){function H(z){var te=this.constructor,X=R.call(this,"Wrong assertion encountered"+(z?': "'.concat(z,'"'):""))||this;if(X.originalMessage=z,Object.setPrototypeOf(X,te.prototype),!X.stack)return X;try{(0,Q.overwriteReadonlyProp)(X,"stack",X.stack.split(`
`).filter(function(){for(var oe=[],se=0;se<arguments.length;se++)oe[se]=arguments[se];var Y=Z(oe,2)[1];return Y!==1&&Y!==2}).join(`
`))}catch{}return X}return N(H,R),H}(Error);v.AssertionError=P;var U=void 0,O="Wrong usage of the `is` function refer to https://docs.tsafe.dev/is"},135:(m,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.id=void 0,v.id=function(T){return T}},522:function(m,v){var T=this&&this.__assign||function(){return T=Object.assign||function(C){for(var N,Z=1,Q=arguments.length;Z<Q;Z++)for(var P in N=arguments[Z])Object.prototype.hasOwnProperty.call(N,P)&&(C[P]=N[P]);return C},T.apply(this,arguments)};Object.defineProperty(v,"__esModule",{value:!0}),v.overwriteReadonlyProp=void 0,v.overwriteReadonlyProp=function(C,N,Z){try{C[N]=Z}catch{}if(C[N]===Z)return Z;var Q=void 0,P=Object.getOwnPropertyDescriptor(C,N)||{enumerable:!0,configurable:!0};if(P.get)throw new Error("Probably a wrong ides to overwrite ".concat(String(N)," getter"));try{Object.defineProperty(C,N,T(T({},P),{value:Z}))}catch(U){Q=U}if(C[N]!==Z)throw Q||new Error("Can't assign");return Z}}},l={};function c(m){var v=l[m];if(v!==void 0)return v.exports;var T=l[m]={exports:{}};return a[m].call(T.exports,T,T.exports,c),T.exports}var d={};(()=>{var m=d;Object.defineProperty(m,"__esModule",{value:!0}),m.overwriteReadonlyProp=m.is=m.assert=m.id=void 0;var v=c(135);Object.defineProperty(m,"id",{enumerable:!0,get:function(){return v.id}});var T=c(720);Object.defineProperty(m,"assert",{enumerable:!0,get:function(){return T.assert}}),Object.defineProperty(m,"is",{enumerable:!0,get:function(){return T.is}});var C=c(522);Object.defineProperty(m,"overwriteReadonlyProp",{enumerable:!0,get:function(){return C.overwriteReadonlyProp}})})(),u.exports=d})(),i.__oidcSpaBundle=!0}(vo,vo.exports)),vo.exports}var yo={exports:{}},Gd;function Lo(){return Gd||(Gd=1,function(u,i){(()=>{var a={859:function(m,v,T){var C=this&&this.__createBinding||(Object.create?function(Z,Q,P,U){U===void 0&&(U=P);var O=Object.getOwnPropertyDescriptor(Q,P);O&&!("get"in O?!Q.__esModule:O.writable||O.configurable)||(O={enumerable:!0,get:function(){return Q[P]}}),Object.defineProperty(Z,U,O)}:function(Z,Q,P,U){U===void 0&&(U=P),Z[U]=Q[P]}),N=this&&this.__exportStar||function(Z,Q){for(var P in Z)P==="default"||Object.prototype.hasOwnProperty.call(Q,P)||C(Q,Z,P)};Object.defineProperty(v,"__esModule",{value:!0}),N(T(236),v)},455:function(m,v){var T,C,N,Z;function Q(P){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},Q(P)}Z=function(P){var U,O=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,R=1073741824,H=new WeakMap,z=function(X,oe){return function(se){var Y=oe.get(se),me=Y===void 0?se.size:Y<R?Y+1:0;if(!se.has(me))return X(se,me);if(se.size<536870912){for(;se.has(me);)me=Math.floor(Math.random()*R);return X(se,me)}if(se.size>O)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;se.has(me);)me=Math.floor(Math.random()*O);return X(se,me)}}((U=H,function(X,oe){return U.set(X,oe),oe}),H),te=function(X){return function(oe){var se=X(oe);return oe.add(se),se}}(z);P.addUniqueNumber=te,P.generateUniqueNumber=z},Q(v)==="object"?Z(v):(C=[v],(N=typeof(T=Z)=="function"?T.apply(v,C):T)===void 0||(m.exports=N))},236:(m,v,T)=>{T.r(v),T.d(v,{clearInterval:()=>Q,clearTimeout:()=>P,setInterval:()=>U,setTimeout:()=>O});var C,N=T(455),Z=(C=null,function(){if(C!==null)return C;var R=new Blob([`(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error('The given type "'.concat(i,'" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error('The given method "'.concat(s.method,'" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error('The given type "'.concat(d,'" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`],{type:"application/javascript; charset=utf-8"}),H=URL.createObjectURL(R);return C=function(z){var te=new Map([[0,function(){}]]),X=new Map([[0,function(){}]]),oe=new Map,se=new Worker(z);return se.addEventListener("message",function(Y){var me=Y.data;if(function(x){return x.method!==void 0&&x.method==="call"}(me)){var Fe=me.params,ft=Fe.timerId,qe=Fe.timerType;if(qe==="interval"){var rt=te.get(ft);if(typeof rt=="number"){var at=oe.get(rt);if(at===void 0||at.timerId!==ft||at.timerType!==qe)throw new Error("The timer is in an undefined state.")}else{if(rt===void 0)throw new Error("The timer is in an undefined state.");rt()}}else if(qe==="timeout"){var pt=X.get(ft);if(typeof pt=="number"){var xe=oe.get(pt);if(xe===void 0||xe.timerId!==ft||xe.timerType!==qe)throw new Error("The timer is in an undefined state.")}else{if(pt===void 0)throw new Error("The timer is in an undefined state.");pt(),X.delete(ft)}}}else{if(!function(x){return x.error===null&&typeof x.id=="number"}(me)){var Ue=me.error.message;throw new Error(Ue)}var ye=me.id,K=oe.get(ye);if(K===void 0)throw new Error("The timer is in an undefined state.");var b=K.timerId,ue=K.timerType;oe.delete(ye),ue==="interval"?te.delete(b):X.delete(b)}}),{clearInterval:function(Y){var me=(0,N.generateUniqueNumber)(oe);oe.set(me,{timerId:Y,timerType:"interval"}),te.set(Y,me),se.postMessage({id:me,method:"clear",params:{timerId:Y,timerType:"interval"}})},clearTimeout:function(Y){var me=(0,N.generateUniqueNumber)(oe);oe.set(me,{timerId:Y,timerType:"timeout"}),X.set(Y,me),se.postMessage({id:me,method:"clear",params:{timerId:Y,timerType:"timeout"}})},setInterval:function(Y){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Fe=(0,N.generateUniqueNumber)(te);return te.set(Fe,function(){Y(),typeof te.get(Fe)=="function"&&se.postMessage({id:null,method:"set",params:{delay:me,now:performance.now(),timerId:Fe,timerType:"interval"}})}),se.postMessage({id:null,method:"set",params:{delay:me,now:performance.now(),timerId:Fe,timerType:"interval"}}),Fe},setTimeout:function(Y){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Fe=(0,N.generateUniqueNumber)(X);return X.set(Fe,Y),se.postMessage({id:null,method:"set",params:{delay:me,now:performance.now(),timerId:Fe,timerType:"timeout"}}),Fe}}}(H),setTimeout(function(){return URL.revokeObjectURL(H)}),C}),Q=function(R){return Z().clearInterval(R)},P=function(R){return Z().clearTimeout(R)},U=function(){var R;return(R=Z()).setInterval.apply(R,arguments)},O=function(){var R;return(R=Z()).setTimeout.apply(R,arguments)}}},l={};function c(m){var v=l[m];if(v!==void 0)return v.exports;var T=l[m]={exports:{}};return a[m].call(T.exports,T,T.exports,c),T.exports}c.d=(m,v)=>{for(var T in v)c.o(v,T)&&!c.o(m,T)&&Object.defineProperty(m,T,{enumerable:!0,get:v[T]})},c.o=(m,v)=>Object.prototype.hasOwnProperty.call(m,v),c.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var d=c(859);u.exports=d})(),i.__oidcSpaBundle=!0}(yo,yo.exports)),yo.exports}var Yr={},Yd;function bl(){if(Yd)return Yr;Yd=1;var u=Yr.__rest||function(m,v){var T={};for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&v.indexOf(C)<0&&(T[C]=m[C]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,C=Object.getOwnPropertySymbols(m);N<C.length;N++)v.indexOf(C[N])<0&&Object.prototype.propertyIsEnumerable.call(m,C[N])&&(T[C[N]]=m[C[N]]);return T},i=Yr.__read||function(m,v){var T=typeof Symbol=="function"&&m[Symbol.iterator];if(!T)return m;var C=T.call(m),N,Z=[],Q;try{for(;(v===void 0||v-- >0)&&!(N=C.next()).done;)Z.push(N.value)}catch(P){Q={error:P}}finally{try{N&&!N.done&&(T=C.return)&&T.call(C)}finally{if(Q)throw Q.error}}return Z};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.addQueryParamToUrl=a,Yr.retrieveAllQueryParamStartingWithPrefixFromUrl=l,Yr.retrieveAllQueryParamFromUrl=c,Yr.retrieveQueryParamFromUrl=d;function a(m){var v=m.url,T=m.name,C=m.value,N=v,Z=d({url:v,name:T});return Z.wasPresent&&(N=Z.newUrl),N+="".concat(N.includes("?")?"&":N.endsWith("?")?"":"?").concat(T,"=").concat(encodeURIComponent(C)),{newUrl:N}}function l(m){var v=m.url,T=m.prefix,C=m.doLeavePrefixInResults,N=function(){var O=i(v.split("?")),R=O[0],H=O.slice(1);return{baseUrl:R,locationSearch:H.join("?").trim()}}(),Z=N.baseUrl,Q=N.locationSearch,P={},U=function(){var O=Q.split("&").filter(function(R){return R!==""}).map(function(R){return R.split("=")}).filter(function(R){var H=i(R,2),z=H[0],te=H[1];return z.startsWith(T)?(P[C?z:z.substring(T.length)]=decodeURIComponent(te),!1):!0}).map(function(R){return R.join("=")}).join("&");return O=O===""?"":"?".concat(O),{newLocationSearch:O}}().newLocationSearch;return{newUrl:"".concat(Z).concat(U),values:P}}function c(m){return l({url:m.url,prefix:"",doLeavePrefixInResults:!0})}function d(m){var v=m.url,T=m.name,C=l({url:v,prefix:T,doLeavePrefixInResults:!0}),N=C.newUrl,Z=C.values;if(!(T in Z))return{wasPresent:!1};var Q=Z,P=T;Q[P];var U=u(Q,[typeof P=="symbol"?P:P+""]);return Object.entries(U).forEach(function(O){var R=i(O,2),H=R[0],z=R[1];return N=a({name:H,url:N,value:z}).newUrl}),{wasPresent:!0,newUrl:N,value:Z[T]}}return Yr}var yi={},Xd;function ga(){if(Xd)return yi;Xd=1;var u=yi.__extends||function(){var c=function(d,m){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,T){v.__proto__=T}||function(v,T){for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(v[C]=T[C])},c(d,m)};return function(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(d,m);function v(){this.constructor=d}d.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}();Object.defineProperty(yi,"__esModule",{value:!0}),yi.VoidDeferred=yi.Deferred=void 0;var i=Yn(),a=function(){function c(){var d=this;this.isPending=!0;var m,v;this.pr=new Promise(function(T,C){m=function(N){(0,i.overwriteReadonlyProp)(d,"isPending",!1),T(N)},v=function(N){(0,i.overwriteReadonlyProp)(d,"isPending",!1),C(N)}}),this.resolve=m,this.reject=v}return c}();yi.Deferred=a;var l=function(c){u(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d}(a);return yi.VoidDeferred=l,yi}var Qs={},ef;function Mo(){if(ef)return Qs;ef=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.decodeJwt=void 0;var u=jf();return Qs.decodeJwt=u.jwt_decode_ns.jwtDecode,Qs}var _o={},wo={},tf;function Nh(){if(tf)return wo;tf=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.createStatefulObservable=u;function u(i){var a=[],l=function(){var m=void 0;return{get:function(){return m===void 0&&(m=[i()]),m[0]},set:function(v){m=[v],a.forEach(function(T){return T(v)})}}}(),c=l.get,d=l.set;return Object.defineProperty({current:null,subscribe:function(m){return a.push(m),{unsubscribe:function(){return a.splice(a.indexOf(m),1)}}}},"current",{enumerable:!0,get:c,set:d})}return wo}var ls={},ko={},nf;function Ah(){if(nf)return ko;nf=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.getPrUserInteraction=i;var u=ga();function i(){var a=new u.Deferred,l=function(){a.resolve(),c()},c=function(){window.document.removeEventListener("mousemove",l,!1),window.document.removeEventListener("keydown",l,!1)};return window.document.addEventListener("mousemove",l,!1),window.document.addEventListener("keydown",l,!1),{prUserInteraction:a.pr,cancelPrUserInteraction:c}}return ko}var rf;function Lh(){if(rf)return ls;rf=1;var u=ls.__awaiter||function(d,m,v,T){function C(N){return N instanceof v?N:new v(function(Z){Z(N)})}return new(v||(v=Promise))(function(N,Z){function Q(O){try{U(T.next(O))}catch(R){Z(R)}}function P(O){try{U(T.throw(O))}catch(R){Z(R)}}function U(O){O.done?N(O.value):C(O.value).then(Q,P)}U((T=T.apply(d,m||[])).next())})},i=ls.__generator||function(d,m){var v={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},T,C,N,Z;return Z={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(Z[Symbol.iterator]=function(){return this}),Z;function Q(U){return function(O){return P([U,O])}}function P(U){if(T)throw new TypeError("Generator is already executing.");for(;Z&&(Z=0,U[0]&&(v=0)),v;)try{if(T=1,C&&(N=U[0]&2?C.return:U[0]?C.throw||((N=C.return)&&N.call(C),0):C.next)&&!(N=N.call(C,U[1])).done)return N;switch(C=0,N&&(U=[U[0]&2,N.value]),U[0]){case 0:case 1:N=U;break;case 4:return v.label++,{value:U[1],done:!1};case 5:v.label++,C=U[1],U=[0];continue;case 7:U=v.ops.pop(),v.trys.pop();continue;default:if(N=v.trys,!(N=N.length>0&&N[N.length-1])&&(U[0]===6||U[0]===2)){v=0;continue}if(U[0]===3&&(!N||U[1]>N[0]&&U[1]<N[3])){v.label=U[1];break}if(U[0]===6&&v.label<N[1]){v.label=N[1],N=U;break}if(N&&v.label<N[2]){v.label=N[2],v.ops.push(U);break}N[2]&&v.ops.pop(),v.trys.pop();continue}U=m.call(d,v)}catch(O){U=[6,O],C=0}finally{T=N=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}};Object.defineProperty(ls,"__esModule",{value:!0}),ls.subscribeToUserInteraction=c;var a=Ah(),l=Lo();function c(d){var m=d.throttleMs,v=new Set;(function C(){return u(this,void 0,void 0,function(){var N,Z,Q;return i(this,function(P){switch(P.label){case 0:return N=(0,a.getPrUserInteraction)(),Z=N.cancelPrUserInteraction,Q=N.prUserInteraction,v.add(Z),[4,Q];case 1:return P.sent(),d.callback(),[4,new Promise(function(U){var O=(0,l.setTimeout)(U,m);v.add(function(){(0,l.clearTimeout)(O)})})];case 2:return P.sent(),v.clear(),C(),[2]}})})})();var T=function(){Array.from(v).forEach(function(C){return C()})};return{unsubscribeFromUserInteraction:T}}return ls}var sf;function Mh(){if(sf)return _o;sf=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.createIsUserActive=c;var u=Nh(),i=Lh(),a=Yn(),l=Lo();function c(d){var m=d.theUserIsConsideredInactiveAfterMsOfInactivity,v=(0,u.createStatefulObservable)(function(){return!0}),T=function(){var Q=(0,l.setTimeout)(function(){(0,a.assert)(v.current),v.current=!1},m);return function(){(0,l.clearTimeout)(Q)}},C=T(),N=(0,i.subscribeToUserInteraction)({throttleMs:1e3,callback:function(){C(),C=T(),v.current||(v.current=!0)}}).unsubscribeFromUserInteraction,Z=function(){N(),C()};return{$isUserActive:v,disable$isUserActive:Z}}return _o}var cs={},af;function Dh(){if(af)return cs;af=1;var u=cs.__awaiter||function(c,d,m,v){function T(C){return C instanceof m?C:new m(function(N){N(C)})}return new(m||(m=Promise))(function(C,N){function Z(U){try{P(v.next(U))}catch(O){N(O)}}function Q(U){try{P(v.throw(U))}catch(O){N(O)}}function P(U){U.done?C(U.value):T(U.value).then(Z,Q)}P((v=v.apply(c,d||[])).next())})},i=cs.__generator||function(c,d){var m={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},v,T,C,N;return N={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function Z(P){return function(U){return Q([P,U])}}function Q(P){if(v)throw new TypeError("Generator is already executing.");for(;N&&(N=0,P[0]&&(m=0)),m;)try{if(v=1,T&&(C=P[0]&2?T.return:P[0]?T.throw||((C=T.return)&&C.call(T),0):T.next)&&!(C=C.call(T,P[1])).done)return C;switch(T=0,C&&(P=[P[0]&2,C.value]),P[0]){case 0:case 1:C=P;break;case 4:return m.label++,{value:P[1],done:!1};case 5:m.label++,T=P[1],P=[0];continue;case 7:P=m.ops.pop(),m.trys.pop();continue;default:if(C=m.trys,!(C=C.length>0&&C[C.length-1])&&(P[0]===6||P[0]===2)){m=0;continue}if(P[0]===3&&(!C||P[1]>C[0]&&P[1]<C[3])){m.label=P[1];break}if(P[0]===6&&m.label<C[1]){m.label=C[1],C=P;break}if(C&&m.label<C[2]){m.label=C[2],m.ops.push(P);break}C[2]&&m.ops.pop(),m.trys.pop();continue}P=d.call(c,m)}catch(U){P=[6,U],T=0}finally{v=C=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}};Object.defineProperty(cs,"__esModule",{value:!0}),cs.createStartCountdown=l;var a=Lo();function l(c){var d=c.getCountdownEndTime,m=c.tickCallback,v=function(){return d()-Date.now()};function T(){var C=this,N;(function(){return u(C,void 0,void 0,function(){var Q;return i(this,function(P){switch(P.label){case 0:Q=Math.floor(v()/1e3),P.label=1;case 1:return Q>=0?(m({secondsLeft:Q}),[4,new Promise(function(U){N=(0,a.setTimeout)(U,1e3)})]):[3,3];case 2:return P.sent(),Q--,[3,1];case 3:return[2]}})})})();var Z=function(){(0,a.clearTimeout)(N),m({secondsLeft:void 0})};return{stopCountdown:Z}}return{startCountdown:T}}return cs}var xo={},of;function zh(){if(of)return xo;of=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.toHumanReadableDuration=u;function u(i){var a=Math.floor(i/1e3);if(a<60)return"".concat(Math.round(i/1e3)," seconds");if(a<3600){var l=Math.floor(a/60),c=a%60;return"".concat(l," minutes ").concat(c," seconds")}else if(a<86400){var d=Math.floor(a/3600),m=Math.floor(a%3600/60),c=a%60;return"".concat(d," hours ").concat(m," minutes ").concat(c," seconds")}else{var v=Math.floor(a/86400),T=Math.floor(a%86400/3600),m=Math.floor(a%3600/60);return"".concat(v," days ").concat(T," hours ").concat(m," minutes")}}return xo}var So={},uf;function Fh(){if(uf)return So;uf=1,Object.defineProperty(So,"__esModule",{value:!0}),So.createHybridStorage=i;var u=Yn();function i(a){for(var l=a.persistenceKey,c="hybridStorage:".concat(l,":"),d=[],m=0;m<sessionStorage.length;m++){var v=sessionStorage.key(m);if(v!==null&&v.startsWith(c)){var T=sessionStorage.getItem(v);(0,u.assert)(T!==null),d.push({key:v.slice(c.length),value:T,isPersisted:!0})}}var C={get length(){return d.length},clear:function(){for(var N=0;N<C.length;N++){var Z=C.key(N);(0,u.assert)(Z!==null),C.removeItem(Z)}},getItem:function(N){var Z=d.find(function(Q){return Q.key===N});return Z===void 0?null:Z.value},key:function(N){var Z,Q;return(Q=(Z=d[N])===null||Z===void 0?void 0:Z.key)!==null&&Q!==void 0?Q:null},removeItem:function(N){var Z=d.find(function(P){return P.key===N});if(Z!==void 0){Z.isPersisted&&sessionStorage.removeItem("".concat(c).concat(N));var Q=d.indexOf(Z);d.splice(Q,1)}},setItem:function(N,Z){var Q=d.find(function(P){return P.key===N});if(Q!==void 0&&Q.isPersisted){C.setItem_persistInSessionStorage(N,Z);return}if(Q===void 0){d.push({key:N,value:Z,isPersisted:!1});return}Q.value=Z},setItem_persistInSessionStorage:function(N,Z){sessionStorage.setItem("".concat(c).concat(N),Z);var Q=d.find(function(P){return P.key===N});if(Q===void 0){d.push({key:N,value:Z,isPersisted:!0});return}Q.value=Z}};return C}return So}var bo={},lf;function Nf(){if(lf)return bo;lf=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.toFullyQualifiedUrl=u;function u(i){var a=i.urlish,l=i.doAssertNoQueryParams,c;if(a.startsWith("http"))c=a;else{var d=a;d.startsWith("/")||(d="/".concat(d)),c="".concat(window.location.origin).concat(d)}c=c.replace(/\/$/,"");e:{if(!l||new URL(c).searchParams.size===0)break e;throw new Error("The ".concat(a," URL should not have query parameters"))}return c}return bo}var zn={},ds={},cf;function Hh(){if(cf)return ds;cf=1;var u=ds.__awaiter||function(l,c,d,m){function v(T){return T instanceof d?T:new d(function(C){C(T)})}return new(d||(d=Promise))(function(T,C){function N(P){try{Q(m.next(P))}catch(U){C(U)}}function Z(P){try{Q(m.throw(P))}catch(U){C(U)}}function Q(P){P.done?T(P.value):v(P.value).then(N,Z)}Q((m=m.apply(l,c||[])).next())})},i=ds.__generator||function(l,c){var d={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},m,v,T,C;return C={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function N(Q){return function(P){return Z([Q,P])}}function Z(Q){if(m)throw new TypeError("Generator is already executing.");for(;C&&(C=0,Q[0]&&(d=0)),d;)try{if(m=1,v&&(T=Q[0]&2?v.return:Q[0]?v.throw||((T=v.return)&&T.call(v),0):v.next)&&!(T=T.call(v,Q[1])).done)return T;switch(v=0,T&&(Q=[Q[0]&2,T.value]),Q[0]){case 0:case 1:T=Q;break;case 4:return d.label++,{value:Q[1],done:!1};case 5:d.label++,v=Q[1],Q=[0];continue;case 7:Q=d.ops.pop(),d.trys.pop();continue;default:if(T=d.trys,!(T=T.length>0&&T[T.length-1])&&(Q[0]===6||Q[0]===2)){d=0;continue}if(Q[0]===3&&(!T||Q[1]>T[0]&&Q[1]<T[3])){d.label=Q[1];break}if(Q[0]===6&&d.label<T[1]){d.label=T[1],T=Q;break}if(T&&d.label<T[2]){d.label=T[2],d.ops.push(Q);break}T[2]&&d.ops.pop(),d.trys.pop();continue}Q=c.call(l,d)}catch(P){Q=[6,P],v=0}finally{m=T=0}if(Q[0]&5)throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}};Object.defineProperty(ds,"__esModule",{value:!0}),ds.getIsValidRemoteJson=a;function a(l){var c=this;return fetch(l).then(function(d){return u(c,void 0,void 0,function(){return i(this,function(m){switch(m.label){case 0:if(!d.ok)return[2,!1];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,d.json()];case 2:return m.sent(),[3,4];case 3:return m.sent(),[2,!1];case 4:return[2,!0]}})})},function(){return!1})}return ds}var df;function Af(){if(df)return zn;df=1;var u=zn.__extends||function(){var P=function(U,O){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,H){R.__proto__=H}||function(R,H){for(var z in H)Object.prototype.hasOwnProperty.call(H,z)&&(R[z]=H[z])},P(U,O)};return function(U,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");P(U,O);function R(){this.constructor=U}U.prototype=O===null?Object.create(O):(R.prototype=O.prototype,new R)}}(),i=zn.__awaiter||function(P,U,O,R){function H(z){return z instanceof O?z:new O(function(te){te(z)})}return new(O||(O=Promise))(function(z,te){function X(Y){try{se(R.next(Y))}catch(me){te(me)}}function oe(Y){try{se(R.throw(Y))}catch(me){te(me)}}function se(Y){Y.done?z(Y.value):H(Y.value).then(X,oe)}se((R=R.apply(P,U||[])).next())})},a=zn.__generator||function(P,U){var O={label:0,sent:function(){if(z[0]&1)throw z[1];return z[1]},trys:[],ops:[]},R,H,z,te;return te={next:X(0),throw:X(1),return:X(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function X(se){return function(Y){return oe([se,Y])}}function oe(se){if(R)throw new TypeError("Generator is already executing.");for(;te&&(te=0,se[0]&&(O=0)),O;)try{if(R=1,H&&(z=se[0]&2?H.return:se[0]?H.throw||((z=H.return)&&z.call(H),0):H.next)&&!(z=z.call(H,se[1])).done)return z;switch(H=0,z&&(se=[se[0]&2,z.value]),se[0]){case 0:case 1:z=se;break;case 4:return O.label++,{value:se[1],done:!1};case 5:O.label++,H=se[1],se=[0];continue;case 7:se=O.ops.pop(),O.trys.pop();continue;default:if(z=O.trys,!(z=z.length>0&&z[z.length-1])&&(se[0]===6||se[0]===2)){O=0;continue}if(se[0]===3&&(!z||se[1]>z[0]&&se[1]<z[3])){O.label=se[1];break}if(se[0]===6&&O.label<z[1]){O.label=z[1],z=se;break}if(z&&O.label<z[2]){O.label=z[2],O.ops.push(se);break}z[2]&&O.ops.pop(),O.trys.pop();continue}se=U.call(P,O)}catch(Y){se=[6,Y],H=0}finally{R=z=0}if(se[0]&5)throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}},l=zn.__read||function(P,U){var O=typeof Symbol=="function"&&P[Symbol.iterator];if(!O)return P;var R=O.call(P),H,z=[],te;try{for(;(U===void 0||U-- >0)&&!(H=R.next()).done;)z.push(H.value)}catch(X){te={error:X}}finally{try{H&&!H.done&&(O=R.return)&&O.call(R)}finally{if(te)throw te.error}}return z},c=zn.__values||function(P){var U=typeof Symbol=="function"&&Symbol.iterator,O=U&&P[U],R=0;if(O)return O.call(P);if(P&&typeof P.length=="number")return{next:function(){return P&&R>=P.length&&(P=void 0),{value:P&&P[R++],done:!P}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")},d=zn.__spreadArray||function(P,U,O){if(O||arguments.length===2)for(var R=0,H=U.length,z;R<H;R++)(z||!(R in U))&&(z||(z=Array.prototype.slice.call(U,0,R)),z[R]=U[R]);return P.concat(z||Array.prototype.slice.call(U))};Object.defineProperty(zn,"__esModule",{value:!0}),zn.OidcInitializationError=void 0,zn.createWellKnownOidcConfigurationEndpointUnreachableInitializationError=N,zn.createIframeTimeoutInitializationError=Z,zn.createFailedToFetchTokenEndpointInitializationError=Q;var m=Yn(),v=Hh(),T=function(P){u(U,P);function U(O){var R=this.constructor,H=P.call(this,function(){return typeof O.messageOrCause=="string"?O.messageOrCause:"Unknown initialization error: ".concat(O.messageOrCause.message)}(),{cause:typeof O.messageOrCause=="string"?void 0:O.messageOrCause})||this;return H.isAuthServerLikelyDown=O.isAuthServerLikelyDown,Object.setPrototypeOf(H,R.prototype),H}return U}(Error);zn.OidcInitializationError=T;function C(P){var U=new URL(P),O=U.pathname.split("/realms/");if(O.length===2){var R=l(O,2),H=R[0],z=R[1];return{origin:U.origin,realm:z,kcHttpRelativePath:H===""?void 0:H,adminConsoleUrl:"".concat(U.origin).concat(H,"/admin/").concat(z,"/console")}}}function N(P){return i(this,void 0,void 0,function(){var U,O,R,H,z,te,X,te,X;return a(this,function(oe){switch(oe.label){case 0:return U=P.issuerUri,O=C(U),R="/.well-known/openid-configuration",H=["The OIDC server is either down or the issuerUri you provided is incorrect.","You provided the issuerUri: ".concat(U),"Endpoint that couldn't be reached: ".concat(U).concat(R)].join(`
`),O===void 0?[2,new T({messageOrCause:[H,"","If you happen to be using Keycloak, be aware that the issuerUri you provided doesn't match the expected shape.","It should look like: https://<YOUR_KEYCLOAK_DOMAIN><KC_HTTP_RELATIVE_PATH>/realms/<YOUR_REALM>","Unless configured otherwise the KC_HTTP_RELATIVE_PATH is '/' by default on recent version of Keycloak."].join(`
`),isAuthServerLikelyDown:!0})]:(z=function(se){var Y=se.kcHttpRelativePath;return"".concat(O.origin).concat(Y===void 0?"":Y,"/realms/").concat(O.realm)},O.kcHttpRelativePath!==void 0?[3,2]:(te=z({kcHttpRelativePath:"/auth"}),[4,(0,v.getIsValidRemoteJson)("".concat(te).concat(R))]));case 1:return X=oe.sent(),X?[2,new T({messageOrCause:["Your Keycloak server is configured with KC_HTTP_RELATIVE_PATH=/auth","The issuerUri you provided: ".concat(U),"The correct issuerUri is: ".concat(te),"(You are missing the /auth portion)"].join(`
`),isAuthServerLikelyDown:!1})]:[3,4];case 2:return te=z({kcHttpRelativePath:void 0}),[4,(0,v.getIsValidRemoteJson)("".concat(te).concat(R))];case 3:if(X=oe.sent(),X)return[2,new T({messageOrCause:["Your Keycloak server is configured with KC_HTTP_RELATIVE_PATH=/","The issuerUri you provided: ".concat(U),"The correct issuerUri is: ".concat(te),"(You should remove the ".concat(O.kcHttpRelativePath," portion.)")].join(`
`),isAuthServerLikelyDown:!1})];oe.label=4;case 4:return[2,new T({messageOrCause:[H,"","Given the shape of the issuerUri you provided, it seems that you are using Keycloak.","- Make sure the realm '".concat(O.realm,"' exists."),"- Check the KC_HTTP_RELATIVE_PATH that you might have configured your keycloak server with.","  For example if you have KC_HTTP_RELATIVE_PATH=/xxx the issuerUri should be ".concat(z({kcHttpRelativePath:"/xxx"}))].join(`
`),isAuthServerLikelyDown:!0})]}})})}function Z(P){return i(this,void 0,void 0,function(){var U,O,R,H,z,te,X,oe,se,Y,me,Fe,ft,qe,rt,at,pt,xe,Ue=this;return a(this,function(ye){switch(ye.label){case 0:return U=P.hasDedicatedHtmFile,O=P.callbackUrl,R=P.issuerUri,H=P.clientId,U?(z=function(K){return i(Ue,void 0,void 0,function(){var b=this;return a(this,function(ue){return[2,fetch("".concat(O).concat(K==="html"?"l":"")).then(function(x){return i(b,void 0,void 0,function(){var $;return a(this,function(De){switch(De.label){case 0:if(!x.ok)return[2,"not reachable"];De.label=1;case 1:return De.trys.push([1,3,,4]),[4,x.text()];case 2:return $=De.sent(),[3,4];case 3:return De.sent(),[2,"not reachable"];case 4:return $.length>1200||!$.includes("parent.postMessage(authResponse")?[2,"reachable but does no contain the expected content"]:[2,"seems ok"]}})})},function(){return"not reachable"})]})})},[4,z()]):[3,11];case 1:return te=ye.sent(),te==="seems ok"?[3,11]:te==="reachable but does no contain the expected content"?[2,new T({isAuthServerLikelyDown:!1,messageOrCause:["There is an issue with the content of the file oidc-callback.htm.","The url ".concat(O," does respond with a 200 status code but the content is not the expected one."),"You might have created the file in the public directory but it seems that your web server is serving another file instead.","Check the configuration of you web server to see if it's not re-routing the GET request to something else like index.html."].join(`
`)})]:((0,m.assert)(te==="not reachable"),[4,z("html")]);case 2:if(X=ye.sent(),X==="seems ok")return[2,new T({isAuthServerLikelyDown:!1,messageOrCause:["You have created the file oidc-callback.html instead of oidc-callback.htm.","The expected extension is .htm not .html."].join(`
`)})];ye.label=3;case 3:ye.trys.push([3,8,9,10]),oe=c([".htm",".html"].map(function(K){return"silent-sso".concat(K)})),se=oe.next(),ye.label=4;case 4:return se.done?[3,7]:(Y=se.value,me=O.replace("silent-sso.htm",Y),[4,fetch(me).then(function(K){return i(Ue,void 0,void 0,function(){return a(this,function(b){return K.ok?[2,!0]:[2,!1]})})},function(){return!1})]);case 5:return Fe=ye.sent(),Fe?[2,new T({isAuthServerLikelyDown:!1,messageOrCause:["In oidc-spa v6 is no longer using the ".concat(Y," file."),"It is now oidc-callback.htm.","Check the documentation: https://docs.oidc-spa.dev/v/v6"].join(`
`)})]:[3,6];case 6:return se=oe.next(),[3,4];case 7:return[3,10];case 8:return ft=ye.sent(),pt={error:ft},[3,10];case 9:try{se&&!se.done&&(xe=oe.return)&&xe.call(oe)}finally{if(pt)throw pt.error}return[7];case 10:return[2,new T({isAuthServerLikelyDown:!1,messageOrCause:["You seem to have forgotten to create the oidc-callback.htm file in the public directory.","".concat(O," is not reachable."),"Check the documentation: https://docs.oidc-spa.dev/v/v6"].join(`
`)})];case 11:return[4,fetch(O).then(function(K){return K.ok?K.headers.get("Content-Security-Policy"):new Error("".concat(O," responded with a ").concat(K.status," status code."))},function(K){return K})];case 12:return qe=ye.sent(),qe instanceof Error?[2,new T({isAuthServerLikelyDown:!1,messageOrCause:new Error("Unexpected error while trying to diagnose why the silent sign-in process timed out.",{cause:qe})})]:(rt=qe,rt===null?[3,13]:(at=rt.replace(/["']/g,"").replace(/\s+/g," ").toLowerCase().includes("frame-ancestors none"),at?[2,new T({isAuthServerLikelyDown:!1,messageOrCause:[U?"The oidc-callback.htm file,":"The url used as OIDC callback,","is served by your web server with the HTTP header `Content-Security-Policy: frame-ancestors none` in the response.\n",`This header prevents the silent sign-in process from working.
`,"To fix this issue, you should configure your web server not to send this header or to use `frame-ancestors self` instead of `frame-ancestors none`.\n",`If you use Nginx, you can replace:
`,`add_header Content-Security-Policy "frame-ancestors 'none'";
`,`with:
`,`map $uri $add_content_security_policy {
`,`   "~*silent-sso.html$" "frame-ancestors 'self'";
`,`   default "frame-ancestors 'none'";
`,`}
`,`add_header Content-Security-Policy $add_content_security_policy;
`,`
`,"The url in question is: ".concat(O)].join(" ")})]:[3,13]));case 13:return[2,new T({isAuthServerLikelyDown:!1,messageOrCause:d(["The silent sign-in process timed out.",`Given the result of the diagnostic that oidc-spa just performed", 
            "the most likely cause of the issue is that you forgot to add the oidc callback URL to the list of Valid Redirect URIs.
`,"The client id is: ".concat(H,`
`),"The URL that should be added to the list of Valid Redirect URIs is: ".concat(O,`

`)],l(function(){var K=C(R);return K===void 0?["Checkout the documentation of the OIDC server you are using to see how to configure the client properly."]:[`Since it seems that you are using Keycloak, here are the steps to follow:
`,"- Go to the Keycloak admin console. ".concat(K.adminConsoleUrl,`/console
`),`- Log in as an admin user.
`,`- In the left menu, click on "Clients".
`,"- Find '".concat(H,`' in the list of clients and click on it.
`),"- Find 'Valid Redirect URIs' and add '".concat(O,`' to the list.
`),`- Save the changes.

`,"More info: https://docs.oidc-spa.dev/v/v6/resources/usage-with-keycloak"]}()),!1).join(" ")})]}})})}function Q(P){var U=P.issuerUri,O=P.clientId;return new T({isAuthServerLikelyDown:!1,messageOrCause:d([`Failed to fetch the token endpoint.
`,`This is usually due to a CORS issue.
`,"Make sure you have added '".concat(window.location.origin,"' to the list of Web Origins"),"in the '".concat(O,`' client configuration of your OIDC server.
`),`
`],l(function(){var R=C(U);return R===void 0?["Checkout the documentation of the OIDC server you are using to see how to configure the client properly."]:[`Since it seems that you are using Keycloak, here are the steps to follow:
`,"- Go to the Keycloak admin console. ".concat(R.adminConsoleUrl,`
`),`- Log in as an admin user.
`,`- In the left menu, click on "Clients".
`,"- Find '".concat(O,`' in the list of clients and click on it.
`),"- Find 'Web Origins' and add '".concat(window.location.origin,`' to the list.
`),`- Save the changes.

`,"More info: https://docs.oidc-spa.dev/v/v6/resources/usage-with-keycloak"]}()),!1).join(" ")})}return zn}var Ks={},ff;function Lf(){if(ff)return Ks;ff=1;var u=Ks.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,d=c&&l[c],m=0;if(d)return d.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&m>=l.length&&(l=void 0),{value:l&&l[m++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.getStateData=a;function i(l){var c,d;if(typeof l!="object"||l===null||typeof l.configHash!="string")return!1;if(l.isSilentSso===!0)return!0;if(l.isSilentSso===!1){if(typeof l.redirectUrl!="string"||typeof l.extraQueryParams!="object"||l.extraQueryParams===null)return!1;try{for(var m=u(Object.values(l.extraQueryParams)),v=m.next();!v.done;v=m.next()){var T=v.value;if(typeof T!="string")return!1}}catch(C){c={error:C}}finally{try{v&&!v.done&&(d=m.return)&&d.call(m)}finally{if(c)throw c.error}}return!0}return!1}function a(l){var c=l.state,d=localStorage.getItem("oidc.".concat(c));if(d!==null){var m=JSON.parse(d).data;if(i(m))return m}}return Ks}var Js={},pf;function qh(){if(pf)return Js;pf=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.notifyOtherTabOfLogout=c,Js.getPrOtherTabLogout=d;var u=Yn(),i=ga();function a(m){var v=m.configHash;return"oidc-spa:logout-propagation:".concat(v)}var l=function(){var m;return function(){return m===void 0&&(m=Math.random().toString(36).slice(2)),m}}();function c(m){var v=m.configHash,T=m.postLogoutRedirectUrl,C={postLogoutRedirectUrl:T,appInstanceId:l()};new BroadcastChannel(a({configHash:v})).postMessage(C)}function d(m){var v=m.configHash,T=new i.Deferred,C=new BroadcastChannel(a({configHash:v}));C.onmessage=function(Z){var Q=Z.data;if((0,u.assert)((0,u.is)(Q)),C.close(),Q.appInstanceId!==l()){var P=Q.postLogoutRedirectUrl;T.resolve({postLogoutRedirectUrl:P})}};var N=T.pr;return{prOtherTabLogout:N}}return Js}var To={},Eo={},hf;function Wh(){if(hf)return Eo;hf=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.fnv1aHashToHex=u;function u(i){for(var a=2166136261,l=0;l<i.length;l++)a^=i.charCodeAt(l),a+=(a<<1)+(a<<4)+(a<<7)+(a<<8)+(a<<24);return(a>>>0).toString(16)}return Eo}var gf;function Vh(){if(gf)return To;gf=1,Object.defineProperty(To,"__esModule",{value:!0}),To.getConfigHash=i;var u=Wh();function i(a){return(0,u.fnv1aHashToHex)("".concat(a.issuerUri," ").concat(a.clientId))}return To}var fs={},Gs={},mf;function $h(){if(mf)return Gs;mf=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.decodeBase64=u,Gs.encodeBase64=i;function u(a){return new TextDecoder().decode(Uint8Array.from(atob(a),function(l){return l.charCodeAt(0)}))}function i(a){return btoa(new TextEncoder().encode(a).reduce(function(l,c){return l+String.fromCharCode(c)},""))}return Gs}var vf;function Bh(){if(vf)return fs;vf=1;var u=fs.__awaiter||function(Z,Q,P,U){function O(R){return R instanceof P?R:new P(function(H){H(R)})}return new(P||(P=Promise))(function(R,H){function z(oe){try{X(U.next(oe))}catch(se){H(se)}}function te(oe){try{X(U.throw(oe))}catch(se){H(se)}}function X(oe){oe.done?R(oe.value):O(oe.value).then(z,te)}X((U=U.apply(Z,Q||[])).next())})},i=fs.__generator||function(Z,Q){var P={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},U,O,R,H;return H={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function z(X){return function(oe){return te([X,oe])}}function te(X){if(U)throw new TypeError("Generator is already executing.");for(;H&&(H=0,X[0]&&(P=0)),P;)try{if(U=1,O&&(R=X[0]&2?O.return:X[0]?O.throw||((R=O.return)&&R.call(O),0):O.next)&&!(R=R.call(O,X[1])).done)return R;switch(O=0,R&&(X=[X[0]&2,R.value]),X[0]){case 0:case 1:R=X;break;case 4:return P.label++,{value:X[1],done:!1};case 5:P.label++,O=X[1],X=[0];continue;case 7:X=P.ops.pop(),P.trys.pop();continue;default:if(R=P.trys,!(R=R.length>0&&R[R.length-1])&&(X[0]===6||X[0]===2)){P=0;continue}if(X[0]===3&&(!R||X[1]>R[0]&&X[1]<R[3])){P.label=X[1];break}if(X[0]===6&&P.label<R[1]){P.label=R[1],R=X;break}if(R&&P.label<R[2]){P.label=R[2],P.ops.push(X);break}R[2]&&P.ops.pop(),P.trys.pop();continue}X=Q.call(Z,P)}catch(oe){X=[6,oe],O=0}finally{U=R=0}if(X[0]&5)throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}};Object.defineProperty(fs,"__esModule",{value:!0}),fs.maybeImpersonate=N;var a=Yn(),l=bl(),c=Mo(),d=$h(),m=Nf();function v(Z){return Z instanceof Object}function T(Z){return Array.isArray(Z)?Z.every(v):v(Z)}var C="oidc-spa_impersonate";function N(Z){return u(this,void 0,void 0,function(){var Q,P,U,O,R,H,z,te,X,oe,se,Y,me,Fe,ft,qe,rt,at,pt,xe;return i(this,function(Ue){switch(Ue.label){case 0:if(Q=Z.clientId,P=Z.issuerUri,U=Z.decodedIdTokenSchema,O=Z.getDoContinueWithImpersonation,R=Z.store,H=Z.log,z=(0,l.retrieveQueryParamFromUrl)({url:window.location.href,name:C}),!z.wasPresent)return[2];te=void 0;try{te=JSON.parse((0,d.decodeBase64)(z.value))}catch{throw new Error(["An impersonation query param was found in the url but it was not a valid base64 encoded JSON","".concat(C,"=").concat(z.value)].join(`
`))}if(!T(te))throw new Error(["An impersonation query param was found in the url but, once parsed, it was not of the expected shape","","What we got was:",JSON.stringify(te,null,2),"","We expected:","type ImpersonationParams = {","    clientId?: string;","    idToken: string;","    accessToken: string;","    refreshToken: string;","};","","type ParsedQueryParamValue = ImpersonationParams[] | ImpersonationParams;"].join(`
`));for(X=te instanceof Array?te:[te],oe=void 0,se=function(ye){var K=X[ye],b=K.clientId,ue=K.idToken,x;try{x=(0,c.decodeJwt)(ue)}catch{throw new Error("The idToken provided in the impersonation params is not a valid JWT: ".concat(ue))}var $=x.iss;if(typeof $!="string")throw new Error("The idToken provided in the impersonation params does not have a valid issuer (iss claim): ".concat(JSON.stringify(x)));if((0,m.toFullyQualifiedUrl)({urlish:$,doAssertNoQueryParams:!1})!==P)return"continue";var De=function(){if(b!==void 0&&b===Q)return!0;e:{if(b===void 0)break e;return b===Q}var le=!1;e:{var Be=x.azp;if(typeof Be!="string"||(le=!0,Be!==Q))break e;return!0}e:{var $e=x.aud;if(typeof $e!="string"&&!($e instanceof Array&&$e.every(function(it){return typeof it=="string"})))break e;le=!0;var ot=typeof $e=="string"?[$e]:$e;if(!ot.includes(Q))break e;return!0}if(!le)throw new Error(["We had no way to match the impersonation params with an oidc-spa instance.","Either explicitly provide the clientId in the impersonation params or make sure","the idToken has a valid azp or aud claim."].join(" "));return!1}();if(!De)return"continue";if(oe!==void 0)throw new Error(["More than one impersonation params matched the current config","This is not supported.",JSON.stringify({issuerUri:P,clientId:Q})].join(" "));oe=ye},Y=0;Y<X.length;Y++)se(Y);return oe===void 0?[2]:(me=X[oe],X.splice(oe,1),Fe=window.location.href,X.length===0?(ft=(0,l.retrieveQueryParamFromUrl)({url:Fe,name:C}),(0,a.assert)(ft.wasPresent),Fe=ft.newUrl):(qe=(0,l.addQueryParamToUrl)({url:Fe,name:C,value:(0,d.encodeBase64)(JSON.stringify(X))}).newUrl,Fe=qe),window.history.replaceState(null,"",Fe),rt=(0,c.decodeJwt)(me.idToken),at=function(){if(U===void 0)return rt;try{return U.parse(rt)}catch(ye){throw new Error("Decoded id token does not match the expected schema",{cause:ye})}}(),H==null||H("Asking the user for confirmation to continue with the impersonation"),[4,O({decodedIdToken:at,accessToken:me.accessToken})]);case 1:return pt=Ue.sent(),pt?(xe=(0,c.decodeJwt)(me.accessToken),R.setItem_persistInSessionStorage("oidc.user:".concat(P,":").concat(Q),JSON.stringify({id_token:me.idToken,session_state:xe.sid,access_token:me.accessToken,refresh_token:me.refreshToken,token_type:"Bearer",scope:xe.scope,profile:xe,expires_at:xe.exp})),[2]):(H==null||H("Impersonation was canceled by the user"),[2])}})})}return fs}var Oo={},Co={},yf;function Zh(){if(yf)return Co;yf=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.readExpirationTimeInJwt=a;var u=Mo(),i=Yn();function a(l){var c;try{c=(0,u.decodeJwt)(l).exp*1e3,(0,i.assert)(typeof c=="number"&&!isNaN(c))}catch{return}return c}return Co}var _f;function Qh(){if(_f)return Oo;_f=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.oidcClientTsUserToTokens=l;var u=Yn(),i=Zh(),a=Mo();function l(c){var d=c.oidcClientTsUser,m=c.decodedIdTokenSchema,v=c.log,T=d.access_token,C=function(){e:{var O=d.expires_at;if(O===void 0)break e;return O*1e3}e:{var R=(0,i.readExpirationTimeInJwt)(T);if(R===void 0)break e;return R}(0,u.assert)(!1,"Failed to get access token expiration time")}(),N=d.refresh_token;(0,u.assert)(N!==void 0,"No refresh token provided by the oidc server");var Z=function(){e:{var O=(0,i.readExpirationTimeInJwt)(N);if(O===void 0)break e;return O}return v==null||v(["Couldn't read the expiration time of the refresh token from the jwt","It's ok. Some OIDC server like Microsoft Entra ID does not use JWT for the refresh token.","Be aware that it prevent you from implementing the auto logout mechanism: https://docs.oidc-spa.dev/documentation/auto-logout","If you need auto logout you'll have to provide use the __unsafe_ssoSessionIdleSeconds param."].join(`
`)),Number.POSITIVE_INFINITY}(),Q=d.id_token;(0,u.assert)(Q!==void 0,"No id token provided by the oidc server");var P={accessToken:T,accessTokenExpirationTime:C,refreshToken:N,refreshTokenExpirationTime:Z,idToken:Q,decodedIdToken:null},U=void 0;return Object.defineProperty(P,"decodedIdToken",{get:function(){if(U!==void 0&&U.idToken===this.idToken)return U.decodedIdToken;var O=(0,a.decodeJwt)(this.idToken);return m!==void 0&&(O=m.parse(O)),U={idToken:this.idToken,decodedIdToken:O},O},configurable:!0,enumerable:!0}),P}return Oo}var Lr={},Ys={},wf;function Kh(){if(wf)return Ys;wf=1;var u=Ys.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,d=c&&l[c],m=0;if(d)return d.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&m>=l.length&&(l=void 0),{value:l&&l[m++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.getDownlinkAndRtt=a;var i=Yn();function a(){var l,c;if(window.navigator instanceof Object){var d=window.navigator;try{for(var m=u(["connection","mozConnection","webkitConnection"]),v=m.next();!v.done;v=m.next()){var T=v.value;try{var C=d[T],N=C.downlink,Z=C.rtt;return(0,i.assert)(typeof N=="number"),(0,i.assert)(typeof Z=="number"),{downlink:N,rtt:Z}}catch{}}}catch(Q){l={error:Q}}finally{try{v&&!v.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}}}return Ys}var kf;function Jh(){if(kf)return Lr;kf=1;var u=Lr.__assign||function(){return u=Object.assign||function(P){for(var U,O=1,R=arguments.length;O<R;O++){U=arguments[O];for(var H in U)Object.prototype.hasOwnProperty.call(U,H)&&(P[H]=U[H])}return P},u.apply(this,arguments)},i=Lr.__awaiter||function(P,U,O,R){function H(z){return z instanceof O?z:new O(function(te){te(z)})}return new(O||(O=Promise))(function(z,te){function X(Y){try{se(R.next(Y))}catch(me){te(me)}}function oe(Y){try{se(R.throw(Y))}catch(me){te(me)}}function se(Y){Y.done?z(Y.value):H(Y.value).then(X,oe)}se((R=R.apply(P,U||[])).next())})},a=Lr.__generator||function(P,U){var O={label:0,sent:function(){if(z[0]&1)throw z[1];return z[1]},trys:[],ops:[]},R,H,z,te;return te={next:X(0),throw:X(1),return:X(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function X(se){return function(Y){return oe([se,Y])}}function oe(se){if(R)throw new TypeError("Generator is already executing.");for(;te&&(te=0,se[0]&&(O=0)),O;)try{if(R=1,H&&(z=se[0]&2?H.return:se[0]?H.throw||((z=H.return)&&z.call(H),0):H.next)&&!(z=z.call(H,se[1])).done)return z;switch(H=0,z&&(se=[se[0]&2,z.value]),se[0]){case 0:case 1:z=se;break;case 4:return O.label++,{value:se[1],done:!1};case 5:O.label++,H=se[1],se=[0];continue;case 7:se=O.ops.pop(),O.trys.pop();continue;default:if(z=O.trys,!(z=z.length>0&&z[z.length-1])&&(se[0]===6||se[0]===2)){O=0;continue}if(se[0]===3&&(!z||se[1]>z[0]&&se[1]<z[3])){O.label=se[1];break}if(se[0]===6&&O.label<z[1]){O.label=z[1],z=se;break}if(z&&O.label<z[2]){O.label=z[2],O.ops.push(se);break}z[2]&&O.ops.pop(),O.trys.pop();continue}se=U.call(P,O)}catch(Y){se=[6,Y],H=0}finally{R=z=0}if(se[0]&5)throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}},l=Lr.__values||function(P){var U=typeof Symbol=="function"&&Symbol.iterator,O=U&&P[U],R=0;if(O)return O.call(P);if(P&&typeof P.length=="number")return{next:function(){return P&&R>=P.length&&(P=void 0),{value:P&&P[R++],done:!P}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")},c=Lr.__read||function(P,U){var O=typeof Symbol=="function"&&P[Symbol.iterator];if(!O)return P;var R=O.call(P),H,z=[],te;try{for(;(U===void 0||U-- >0)&&!(H=R.next()).done;)z.push(H.value)}catch(X){te={error:X}}finally{try{H&&!H.done&&(O=R.return)&&O.call(R)}finally{if(te)throw te.error}}return z};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.authResponseToUrl=Z,Lr.loginOrLogoutSilent=Q;var d=ga(),m=Yn(),v=Lf(),T=bl(),C=Kh();function N(P){return P instanceof Object&&"state"in P&&typeof P.state=="string"}function Z(P){var U,O,R="https://dummy.com";try{for(var H=l(Object.entries(P)),z=H.next();!z.done;z=H.next()){var te=c(z.value,2),X=te[0],oe=te[1];R=(0,T.addQueryParamToUrl)({url:R,name:X,value:oe}).newUrl}}catch(se){U={error:se}}finally{try{z&&!z.done&&(O=H.return)&&O.call(H)}finally{if(U)throw U.error}}return R}function Q(P){return i(this,void 0,void 0,function(){var U,O,R,H,z,te,X,oe=this;return a(this,function(se){return U=P.oidcClientTsUserManager,O=P.configHash,R=P.action,H=new d.Deferred,z=function(){var Y=(0,C.getDownlinkAndRtt)();if(Y===void 0)return 5e3;var me=Y.downlink,Fe=Y.rtt,ft=Fe*2.5+3e3/(me+1),qe=3e3;return Math.max(qe,ft)}(),te=setTimeout(function(){return i(oe,void 0,void 0,function(){return a(this,function(Y){return H.reject({isSuccess:!1,cause:"timeout"}),[2]})})},z),X=function(Y){if(N(Y.data)){var me=Y.data,Fe=(0,v.getStateData)({state:me.state});Fe!==void 0&&Fe.configHash===O&&(clearTimeout(te),window.removeEventListener("message",X),H.resolve({isSuccess:!0,authResponse:me}))}},window.addEventListener("message",X,!1),function(){var Y,me={state:(0,m.id)({configHash:O,isSilentSso:!0}),silentRequestTimeoutInSeconds:z/1e3};switch(R.type){case"login":return U.signinSilent(u(u({},me),{extraTokenParams:(Y=R.getExtraTokenParams)===null||Y===void 0?void 0:Y.call(R)}));case"logout":return U.signoutSilent(u({},me))}}().catch(function(Y){if(Y.message==="Failed to fetch"){clearTimeout(te),H.resolve({isSuccess:!1,cause:"can't reach well-known oidc endpoint"});return}}),[2,H.pr]})})}return Lr}var xf;function Gh(){if(xf)return fr;xf=1;var u=fr.__assign||function(){return u=Object.assign||function(xe){for(var Ue,ye=1,K=arguments.length;ye<K;ye++){Ue=arguments[ye];for(var b in Ue)Object.prototype.hasOwnProperty.call(Ue,b)&&(xe[b]=Ue[b])}return xe},u.apply(this,arguments)},i=fr.__awaiter||function(xe,Ue,ye,K){function b(ue){return ue instanceof ye?ue:new ye(function(x){x(ue)})}return new(ye||(ye=Promise))(function(ue,x){function $(Be){try{le(K.next(Be))}catch($e){x($e)}}function De(Be){try{le(K.throw(Be))}catch($e){x($e)}}function le(Be){Be.done?ue(Be.value):b(Be.value).then($,De)}le((K=K.apply(xe,Ue||[])).next())})},a=fr.__generator||function(xe,Ue){var ye={label:0,sent:function(){if(ue[0]&1)throw ue[1];return ue[1]},trys:[],ops:[]},K,b,ue,x;return x={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function $(le){return function(Be){return De([le,Be])}}function De(le){if(K)throw new TypeError("Generator is already executing.");for(;x&&(x=0,le[0]&&(ye=0)),ye;)try{if(K=1,b&&(ue=le[0]&2?b.return:le[0]?b.throw||((ue=b.return)&&ue.call(b),0):b.next)&&!(ue=ue.call(b,le[1])).done)return ue;switch(b=0,ue&&(le=[le[0]&2,ue.value]),le[0]){case 0:case 1:ue=le;break;case 4:return ye.label++,{value:le[1],done:!1};case 5:ye.label++,b=le[1],le=[0];continue;case 7:le=ye.ops.pop(),ye.trys.pop();continue;default:if(ue=ye.trys,!(ue=ue.length>0&&ue[ue.length-1])&&(le[0]===6||le[0]===2)){ye=0;continue}if(le[0]===3&&(!ue||le[1]>ue[0]&&le[1]<ue[3])){ye.label=le[1];break}if(le[0]===6&&ye.label<ue[1]){ye.label=ue[1],ue=le;break}if(ue&&ye.label<ue[2]){ye.label=ue[2],ye.ops.push(le);break}ue[2]&&ye.ops.pop(),ye.trys.pop();continue}le=Ue.call(xe,ye)}catch(Be){le=[6,Be],b=0}finally{K=ue=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}},l=fr.__rest||function(xe,Ue){var ye={};for(var K in xe)Object.prototype.hasOwnProperty.call(xe,K)&&Ue.indexOf(K)<0&&(ye[K]=xe[K]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,K=Object.getOwnPropertySymbols(xe);b<K.length;b++)Ue.indexOf(K[b])<0&&Object.prototype.propertyIsEnumerable.call(xe,K[b])&&(ye[K[b]]=xe[K[b]]);return ye},c=fr.__values||function(xe){var Ue=typeof Symbol=="function"&&Symbol.iterator,ye=Ue&&xe[Ue],K=0;if(ye)return ye.call(xe);if(xe&&typeof xe.length=="number")return{next:function(){return xe&&K>=xe.length&&(xe=void 0),{value:xe&&xe[K++],done:!xe}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")},d=fr.__read||function(xe,Ue){var ye=typeof Symbol=="function"&&xe[Symbol.iterator];if(!ye)return xe;var K=ye.call(xe),b,ue=[],x;try{for(;(Ue===void 0||Ue-- >0)&&!(b=K.next()).done;)ue.push(b.value)}catch($){x={error:$}}finally{try{b&&!b.done&&(ye=K.return)&&ye.call(K)}finally{if(x)throw x.error}}return ue},m=fr.__spreadArray||function(xe,Ue,ye){if(ye||arguments.length===2)for(var K=0,b=Ue.length,ue;K<b;K++)(ue||!(K in Ue))&&(ue||(ue=Array.prototype.slice.call(Ue,0,K)),ue[K]=Ue[K]);return xe.concat(ue||Array.prototype.slice.call(Ue))};Object.defineProperty(fr,"__esModule",{value:!0}),fr.createOidc=qe,fr.createOidc_nonMemoized=pt;var v=jf(),T=Yn(),C=Lo(),N=bl(),Z=ga(),Q=Mo(),P=Mh(),U=Dh(),O=zh(),R=Fh(),H=Nf(),z=Af(),te=Lf(),X=qh(),oe=Vh(),se=Bh(),Y=Qh(),me=Jh(),Fe="6.0.0-rc.1",ft=new Map;function qe(xe){return i(this,void 0,void 0,function(){var Ue,ye,K,b,ue,x,$,De,le,Be,$e,ot,it,nt,Nt,Ot,Gt,Fn;return a(this,function($t){switch($t.label){case 0:try{for(Ue=c(["issuerUri","clientId"]),ye=Ue.next();!ye.done;ye=Ue.next())if(K=ye.value,b=xe[K],typeof b!="string")throw new Error('The parameter "'.concat(K,'" is required, you provided: ').concat(b,". (Forgot a .env variable?)"))}catch(pe){Gt={error:pe}}finally{try{ye&&!ye.done&&(Fn=Ue.return)&&Fn.call(Ue)}finally{if(Gt)throw Gt.error}}ue=xe.issuerUri,x=xe.clientId,$=xe.scopes,De=$===void 0?["profile"]:$,le=xe.doEnableDebugLogs,Be=l(xe,["issuerUri","clientId","scopes","doEnableDebugLogs"]),$e=(0,H.toFullyQualifiedUrl)({urlish:ue,doAssertNoQueryParams:!0}),ot=function(){if(le)return(0,T.id)(function(){for(var pe=[],Ht=0;Ht<arguments.length;Ht++)pe[Ht]=arguments[Ht];var qt=d(pe),Yt=qt[0],tn=qt.slice(1),un="oidc-spa";typeof Yt=="string"?console.log.apply(console,m([],d(m(["".concat(un,": ").concat(Yt)],d(tn),!1)),!1)):console.log.apply(console,m([],d(m(["".concat(un,":"),Yt],d(tn),!1)),!1))})}(),it=(0,oe.getConfigHash)({issuerUri:$e,clientId:x});e:{if(nt=ft.get(it),nt===void 0)break e;return ot==null||ot(["createOidc was called again with the same config (".concat(JSON.stringify({issuerUri:$e,clientId:x,scopes:De}),")"),"probably due to a hot module replacement. Returning the previous instance."].join(" ")),[2,nt]}return Nt=new Z.Deferred,ft.set(it,Nt.pr),[4,pt(Be,{issuerUri:$e,clientId:x,scopes:De,configHash:it,log:ot})];case 1:return Ot=$t.sent(),Nt.resolve(Ot),[2,Ot]}})})}var rt=void 0,at=window.URL;function pt(xe,Ue){return i(this,void 0,void 0,function(){var ye,K,b,ue,x,$,De,le,Be,$e,ot,it,nt,Nt,Ot,Gt,Fn,$t,pe,Ht,qt,Yt,tn,un,Ye,Cr,Hn,qn,Fr,kn,Qt,Zt,nn,Cn,fn,kn,Qt,pr,pn,hr,Hr,Xn,Wn,Vn,er,$n,Pn,tr,Si,gr,xn,Pr,qr,nr,Ir,mr,ni,In,bi,rr,vr,Rr,Rn=this;return a(this,function(ln){switch(ln.label){case 0:return ye=xe.transformUrlBeforeRedirect,K=xe.extraQueryParams,b=xe.extraTokenParams,ue=xe.BASE_URL,x=xe.homeUrl,$=xe.decodedIdTokenSchema,De=xe.__unsafe_ssoSessionIdleSeconds,le=xe.autoLogoutParams,Be=le===void 0?{redirectTo:"current page"}:le,$e=xe.isAuthGloballyRequired,ot=$e===void 0?!1:$e,it=xe.postLoginRedirectUrl,nt=xe.getDoContinueWithImpersonation,Nt=xe.__clientSecret_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ot=Ue.issuerUri,Gt=Ue.clientId,Fn=Ue.scopes,$t=Ue.configHash,pe=Ue.log,Ht=d([K,b].map(function(Pe){if(typeof Pe=="function")return Pe;if(Pe!==void 0)return function(){return Pe}}),2),qt=Ht[0],Yt=Ht[1],tn=function(){if(x!==void 0){(0,T.assert)(ue===void 0,"If homeUrl is provided, BASE_URL must be explicitly set to undefined");var Pe=(0,H.toFullyQualifiedUrl)({urlish:x,doAssertNoQueryParams:!0});return{hasDedicatedHtmFile:!1,callbackUrl:Pe,homeUrl:Pe}}else{(0,T.assert)(ue!==void 0,"If homeUrl is not provided, BASE_URL must be provided");var Pe=(0,H.toFullyQualifiedUrl)({urlish:ue,doAssertNoQueryParams:!0});return{hasDedicatedHtmFile:!0,callbackUrl:"".concat(Pe,"/oidc-callback.htm"),homeUrl:Pe}}}(),pe==null||pe("Calling createOidc v".concat(Fe),{issuerUri:Ot,clientId:Gt,scopes:Fn,configHash:$t,urls:tn}),un=function(){var Pe=(0,N.retrieveQueryParamFromUrl)({url:window.location.href,name:"state"});if(Pe.wasPresent)return Pe.value}(),un===void 0?[3,6]:(Ye=(0,te.getStateData)({state:un}),Ye===void 0?[3,6]:Ye.configHash===$t?[3,2]:[4,new Promise(function(){})]);case 1:ln.sent(),ln.label=2;case 2:return tn.hasDedicatedHtmFile?(console.error(["You forgot to create the oidc-callback.htm file or the web server is not serving it correctly","suspending forever"].join(" ")),[4,new Promise(function(){})]):[3,4];case 3:ln.sent(),ln.label=4;case 4:Cr={};try{for(Hn=c(new URL(location.href).searchParams),qn=Hn.next();!qn.done;qn=Hn.next())Fr=d(qn.value,2),kn=Fr[0],Qt=Fr[1],Cr[kn]=Qt}catch(Pe){bi={error:Pe}}finally{try{qn&&!qn.done&&(rr=Hn.return)&&rr.call(Hn)}finally{if(bi)throw bi.error}}if(Ye.isSilentSso)parent.postMessage(Cr,location.origin);else{Zt=new URL(Ye.redirectUrl);try{for(nn=c(Object.entries(Cr)),Cn=nn.next();!Cn.done;Cn=nn.next())fn=d(Cn.value,2),kn=fn[0],Qt=fn[1],Zt.searchParams.set("oidc-spa.".concat(kn),Qt)}catch(Pe){vr={error:Pe}}finally{try{Cn&&!Cn.done&&(Rr=nn.return)&&Rr.call(nn)}finally{if(vr)throw vr.error}}location.replace(Zt.href)}return[4,new Promise(function(){})];case 5:ln.sent(),ln.label=6;case 6:return pr=(0,R.createHybridStorage)({persistenceKey:$t}),nt===void 0?[3,8]:[4,(0,se.maybeImpersonate)({issuerUri:Ot,clientId:Gt,decodedIdTokenSchema:$,getDoContinueWithImpersonation:nt,store:pr,log:pe})];case 7:ln.sent(),ln.label=8;case 8:return pn=new v.UserManager({configHash:$t,authority:Ot,client_id:Gt,redirect_uri:tn.callbackUrl,response_type:"code",scope:Array.from(new Set(m(["openid"],d(Fn),!1))).join(" "),automaticSilentRenew:!1,silent_redirect_uri:tn.callbackUrl,post_logout_redirect_uri:tn.callbackUrl,userStore:new v.WebStorageStateStore({store:pr}),client_secret:Nt}),hr=void 0,Hr=function(){var Pe=history.pushState.bind(history);history.pushState=function(){for(var gt=[],yt=0;yt<arguments.length;yt++)gt[yt]=arguments[yt];return hr=window.location.href,Pe.apply(void 0,m([],d(gt),!1))}},Xn=!1,Wn=function(Pe){return i(Rn,void 0,void 0,function(){var st,gt,yt,kt,rn,Kt,ir,Bn,yr;return a(this,function(Un){switch(Un.label){case 0:if(st=Pe.extraQueryParams,gt=Pe.redirectUrl,yt=Pe.transformUrlBeforeRedirect,kt=l(Pe,["extraQueryParams","redirectUrl","transformUrlBeforeRedirect"]),pe==null||pe("Calling loginOrGoToAuthServer",{params:Pe}),kt.action==="login"){if(Xn)return pe==null||pe("login() has already been called, ignoring the call"),[2,new Promise(function(){})];Xn=!0,rn=function(){document.visibilityState==="visible"&&(document.removeEventListener("visibilitychange",rn),pe==null||pe("We came back from the login pages and the state of the app has been restored"),kt.doesCurrentHrefRequiresAuth?hr!==void 0?(pe==null||pe("Loading last public route: ".concat(hr)),window.location.href=hr):(pe==null||pe("We don't know the last public route, navigating back in history"),window.history.back()):(pe==null||pe("The current page doesn't require auth, we don't need to reload"),Xn=!1))},pe==null||pe("Start listening to visibility change event"),document.addEventListener("visibilitychange",rn)}return Kt=gt===void 0?window.location.href:(0,H.toFullyQualifiedUrl)({urlish:gt,doAssertNoQueryParams:!1}),pe==null||pe("redirectUrl: ".concat(Kt)),ir=function(){for(var Ut=[],mt=0;mt<arguments.length;mt++)Ut[mt]=arguments[mt];var Ct=new(at.bind.apply(at,m([void 0],d(Ut),!1)));return new Proxy(Ct,{get:function(hn,_){if(_==="href"){Object.defineProperty(window,"URL",{value:at});var f=Ct.href;return[[qt==null?void 0:qt(),ye],[st,yt]].forEach(function(h){var p=d(h,2),k=p[0],y=p[1];e:{if(k===void 0)break e;Object.entries(k).forEach(function(w){var S=d(w,2),E=S[0],I=S[1];return f=(0,N.addQueryParamToUrl)({url:f,name:E,value:I}).newUrl})}e:{if(y===void 0)break e;f=y(f)}}),f}return hn[_]}})},Object.defineProperty(window,"URL",{value:ir}),Bn=function(){switch(kt.action){case"login":return kt.doesCurrentHrefRequiresAuth?"replace":"assign";case"go to auth server":return"assign"}}(),pe==null||pe("redirectMethod: ".concat(Bn)),yr=function(){var Ut,mt,Ct=st??{};e:{if(yt===void 0)break e;var hn=void 0;try{hn=yt("https://dummy.com")}catch{break e}var _=(0,N.retrieveAllQueryParamFromUrl)({url:hn}).values;try{for(var f=c(Object.entries(_)),h=f.next();!h.done;h=f.next()){var p=d(h.value,2),k=p[0],y=p[1];Ct[k]=y}}catch(w){Ut={error:w}}finally{try{h&&!h.done&&(mt=f.return)&&mt.call(f)}finally{if(Ut)throw Ut.error}}}return{extraQueryParams:Ct}}().extraQueryParams,[4,pn.signinRedirect({state:(0,T.id)({configHash:$t,isSilentSso:!1,redirectUrl:Kt,extraQueryParams:yr}),redirectMethod:Bn})];case 1:return Un.sent(),[2,new Promise(function(){})]}})})},[4,function(){return i(Rn,void 0,void 0,function(){var Pe,st,gt,yt,kt,Un,rn,Ut,Kt,Ut,ir,Bn,yr,Un,Ut,mt;return a(this,function(Ct){switch(Ct.label){case 0:if(Pe=(0,N.retrieveAllQueryParamStartingWithPrefixFromUrl)({url:window.location.href,prefix:"oidc-spa.",doLeavePrefixInResults:!1}),st=Pe.values,gt=Pe.newUrl,yt=st.state,yt===void 0)return[3,5];if(kt=(0,te.getStateData)({state:yt}),kt===void 0)return[3,5];if((0,T.assert)(!kt.isSilentSso),kt.configHash!==$t)return[3,5];if(window.history.replaceState(null,"",gt),pe==null||pe("Back from the auth server, with the following auth response",st),Un=st.error,Un!==void 0)throw new Error(["The OIDC server responded with an error after the login process","this error is: ".concat(Un)].join(" "));rn=function(){var hn,_,f="https://dummy.com";try{for(var h=c(Object.entries(st)),p=h.next();!p.done;p=h.next()){var k=d(p.value,2),y=k[0],w=k[1];f=(0,N.addQueryParamToUrl)({url:f,name:y,value:w}).newUrl}}catch(S){hn={error:S}}finally{try{p&&!p.done&&(_=h.return)&&_.call(h)}finally{if(hn)throw hn.error}}return{authResponseUrl:f}}().authResponseUrl,Ut=void 0,Ct.label=1;case 1:return Ct.trys.push([1,3,,4]),[4,pn.signinRedirectCallback(rn)];case 2:return Ut=Ct.sent(),[3,4];case 3:if(Kt=Ct.sent(),(0,T.assert)(Kt instanceof Error),Kt.message==="Failed to fetch")throw(0,z.createFailedToFetchTokenEndpointInitializationError)({clientId:Gt,issuerUri:Ot});return[2,void 0];case 4:return[2,{oidcClientTsUser:Ut,backFromAuthServer:{extraQueryParams:kt.extraQueryParams,result:Object.fromEntries(Object.entries(st).filter(function(hn){var _=d(hn,1),f=_[0];return f!=="state"&&f!=="session_state"&&f!=="iss"&&f!=="code"}))}}];case 5:return[4,pn.getUser()];case 6:if(Ut=Ct.sent(),Ut===null)return[3,11];pe==null||pe("Restoring the user auth from the session storage"),Ct.label=7;case 7:return Ct.trys.push([7,9,,10]),[4,pn.signinSilent({extraTokenParams:Yt==null?void 0:Yt()})];case 8:return Ut=Ct.sent(),[3,10];case 9:if(ir=Ct.sent(),(0,T.assert)(ir instanceof Error),pe==null||pe("Session wasn't restorable: ".concat(ir.message)),ir.message==="Failed to fetch")throw(0,z.createWellKnownOidcConfigurationEndpointUnreachableInitializationError)({issuerUri:Ot});return pr.removeItem("oidc.user:".concat(Ot,":").concat(Gt)),[2,void 0];case 10:return(0,T.assert)(Ut!==null),pe==null||pe("Session successfully restored and access token refreshed"),[2,{oidcClientTsUser:Ut,backFromAuthServer:void 0}];case 11:return pe==null||pe("Trying to restore the auth from the httpOnly cookie (silent signin with iframe)"),[4,(0,me.loginOrLogoutSilent)({oidcClientTsUserManager:pn,configHash:$t,action:{type:"login",getExtraTokenParams:Yt}})];case 12:if(Bn=Ct.sent(),!Bn.isSuccess){switch(Bn.cause){case"can't reach well-known oidc endpoint":throw(0,z.createWellKnownOidcConfigurationEndpointUnreachableInitializationError)({issuerUri:Ot});case"timeout":throw(0,z.createIframeTimeoutInitializationError)({hasDedicatedHtmFile:tn.hasDedicatedHtmFile,callbackUrl:tn.callbackUrl,clientId:Gt,issuerUri:Ot})}(0,T.assert)(!1)}if(yr=Bn.authResponse,Un=yr.error,Un!==void 0)return pe==null||pe("The auth server responded with: ".concat(Un)),[3,17];Ut=void 0,Ct.label=13;case 13:return Ct.trys.push([13,15,,16]),[4,pn.signinRedirectCallback((0,me.authResponseToUrl)(yr))];case 14:return Ut=Ct.sent(),[3,16];case 15:throw mt=Ct.sent(),(0,T.assert)(mt instanceof Error),mt.message==="Failed to fetch"?(0,z.createFailedToFetchTokenEndpointInitializationError)({clientId:Gt,issuerUri:Ot}):mt;case 16:return pe==null||pe("Successful silent signed in"),[2,{oidcClientTsUser:Ut,backFromAuthServer:void 0}];case 17:return[2,void 0]}})})}().then(function(Pe){if(Pe!==void 0){var st=Pe.oidcClientTsUser,gt=Pe.backFromAuthServer;e:{if(pe===void 0)break e;var yt=st.id_token;if(yt===void 0)break e;var kt=(0,Q.decodeJwt)(yt);if(pe(["Decoded ID token",$===void 0?"":" before `decodedIdTokenSchema.parse()`\n",JSON.stringify(kt,null,2)].join("")),$===void 0)break e;pe(["Decoded ID token after `decodedIdTokenSchema.parse()`\n",JSON.stringify($.parse(kt),null,2)].join(""))}var rn=(0,Y.oidcClientTsUserToTokens)({oidcClientTsUser:st,decodedIdTokenSchema:$,log:pe});return rn.refreshTokenExpirationTime<rn.accessTokenExpirationTime&&console.warn(["The OIDC refresh token shorter than the one of the access token.","This is very unusual and probably a misconfiguration.","Check your oidc server configuration for ".concat(Gt," ").concat(Ot)].join(" ")),{tokens:rn,backFromAuthServer:gt}}},function(Pe){return(0,T.assert)(Pe instanceof Error),Pe})];case 9:if(Vn=ln.sent(),er={params:{issuerUri:Ot,clientId:Gt}},Vn instanceof Error){if(pe==null||pe("User not logged in and there was an initialization error"),$n=Vn,Pn=$n instanceof z.OidcInitializationError?$n:new z.OidcInitializationError({isAuthServerLikelyDown:!1,messageOrCause:$n}),ot)throw Pn;return console.error(["OIDC initialization error: ","isAuthServerLikelyDown: ".concat(Pn.isAuthServerLikelyDown),"",Pn.message].join(`
`)),Hr(),tr=(0,T.id)(u(u({},er),{isUserLoggedIn:!1,login:function(){return i(Rn,void 0,void 0,function(){return a(this,function(Pe){return alert("Authentication is currently unavailable. Please try again later."),[2,new Promise(function(){})]})})},initializationError:Pn})),[2,tr]}return Vn!==void 0?[3,12]:(pe==null||pe("User not logged in"),ot?(pe==null||pe("Authentication is required everywhere on this app, redirecting to the login page"),[4,Wn({action:"login",doesCurrentHrefRequiresAuth:!0,redirectUrl:it})]):[3,11]);case 10:ln.sent(),ln.label=11;case 11:return Hr(),Si=(0,T.id)(u(u({},er),{isUserLoggedIn:!1,login:function(Pe){return Wn(u({action:"login"},Pe))},initializationError:void 0})),[2,Si];case 12:return pe==null||pe("User is logged in"),gr=(0,X.getPrOtherTabLogout)({configHash:$t}).prOtherTabLogout,gr.then(function(Pe){var st=Pe.postLogoutRedirectUrl;pe==null||pe("Other tab has logged out, redirecting to ".concat(st)),window.location.href=st}),xn=Vn.tokens,Pr=new Set,qr=new Set,nr=!1,Ir=(0,T.id)(u(u({},er),{isUserLoggedIn:!0,getTokens:function(){return xn},logout:function(Pe){return i(Rn,void 0,void 0,function(){var st,gt,yt;return a(this,function(kt){switch(kt.label){case 0:if(nr)return pe==null||pe("logout() has already been called, ignoring the call"),[2,new Promise(function(){})];nr=!0,kt.label=1;case 1:return kt.trys.push([1,4,,5]),[4,(0,me.loginOrLogoutSilent)({configHash:$t,oidcClientTsUserManager:pn,action:{type:"logout"}})];case 2:return st=kt.sent(),(0,T.assert)(st.isSuccess),[4,pn.signoutSilentCallback((0,me.authResponseToUrl)(st.authResponse))];case 3:return kt.sent(),[3,5];case 4:return gt=kt.sent(),pe==null||pe("Error during silent logout: ".concat(String(gt))),[3,5];case 5:return yt=function(){switch(Pe.redirectTo){case"current page":return window.location.href;case"home":return tn.homeUrl;case"specific url":return(0,H.toFullyQualifiedUrl)({urlish:Pe.url,doAssertNoQueryParams:!1})}}(),(0,X.notifyOtherTabOfLogout)({configHash:$t,postLogoutRedirectUrl:yt}),window.location.href=yt,[2,new Promise(function(){})]}})})},renewTokens:function(Pe){return i(Rn,void 0,void 0,function(){var st,gt,yt;return a(this,function(kt){switch(kt.label){case 0:return st=(Pe??{}).extraTokenParams,[4,pn.signinSilent({extraTokenParams:u(u({},Yt==null?void 0:Yt()),st)})];case 1:return gt=kt.sent(),(0,T.assert)(gt!==null),yt=Object.getOwnPropertyDescriptor(xn,"decodedIdToken"),(0,T.assert)(yt!==void 0),xn=(0,Y.oidcClientTsUserToTokens)({oidcClientTsUser:gt,decodedIdTokenSchema:$,log:pe}),Object.defineProperty(xn,"decodedIdToken",yt),Array.from(qr).forEach(function(rn){return rn()}),[2]}})})},subscribeToTokensChange:function(Pe){return qr.add(Pe),{unsubscribe:function(){qr.delete(Pe)}}},subscribeToAutoLogoutCountdown:function(Pe){Pr.add(Pe);var st=function(){Pr.delete(Pe)};return{unsubscribeFromAutoLogoutCountdown:st}},goToAuthServer:function(Pe){return Wn(u({action:"go to auth server"},Pe))},backFromAuthServer:Vn.backFromAuthServer,isNewBrowserSession:function(){var Pe="oidc-spa:browser-session:".concat($t);return sessionStorage.getItem(Pe)===null?(sessionStorage.setItem(Pe,"true"),pe==null||pe("This is a new browser session"),!0):(pe==null||pe("This is not a new browser session"),!1)}()})),mr=function(){var Pe=Math.min(xn.accessTokenExpirationTime,xn.refreshTokenExpirationTime),st=Math.min(Pe-Date.now(),Math.pow(2,31)-1);return st<0?(pe==null||pe("Token has already expired"),0):st},function Pe(){var st=this,gt=mr(),yt=Math.min(25e3,gt*.1);pe==null||pe([(0,O.toHumanReadableDuration)(gt),"before expiration of the access token.","Scheduling renewal ".concat((0,O.toHumanReadableDuration)(yt)," before expiration")].join(" "));var kt=(0,C.setTimeout)(function(){return i(st,void 0,void 0,function(){return a(this,function(Kt){switch(Kt.label){case 0:pe==null||pe("Renewing the access token now as it will expires in ".concat((0,O.toHumanReadableDuration)(yt))),Kt.label=1;case 1:return Kt.trys.push([1,3,,5]),[4,Ir.renewTokens()];case 2:return Kt.sent(),[3,5];case 3:return Kt.sent(),[4,Wn({action:"login",doesCurrentHrefRequiresAuth:!1})];case 4:return Kt.sent(),[3,5];case 5:return[2]}})})},gt-yt),rn=Ir.subscribeToTokensChange(function(){(0,C.clearTimeout)(kt),rn(),Pe()}).unsubscribe}(),ni=(0,U.createStartCountdown)({getCountdownEndTime:function(){var Pe=function(){return De!==void 0?Date.now()+De*1e3:xn.refreshTokenExpirationTime},st=(0,O.toHumanReadableDuration)(Pe()-Date.now());return pe==null||pe(["The user will be automatically logged out after ".concat(st," of inactivity."),De===void 0?void 0:"It was artificially defined by using the __unsafe_ssoSessionIdleSeconds param."].filter(function(gt){return gt!==void 0}).join(`
`)),Pe}(),tickCallback:function(Pe){var st=Pe.secondsLeft;Array.from(Pr).forEach(function(gt){return gt({secondsLeft:st})}),st===0&&Ir.logout(Be)}}).startCountdown,In=void 0,rt===void 0&&(rt=(0,P.createIsUserActive)({theUserIsConsideredInactiveAfterMsOfInactivity:5e3}).$isUserActive),rt.subscribe(function(Pe){Pe?In!==void 0&&(In(),In=void 0):((0,T.assert)(In===void 0),In=ni().stopCountdown)}),[2,Ir]}})})}return fr}var Sf;function Yh(){return Sf||(Sf=1,function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.OidcInitializationError=u.createOidc=void 0;var i=Gh();Object.defineProperty(u,"createOidc",{enumerable:!0,get:function(){return i.createOidc}});var a=Af();Object.defineProperty(u,"OidcInitializationError",{enumerable:!0,get:function(){return a.OidcInitializationError}})}(yl)),yl}var ps={},bf;function Xh(){if(bf)return ps;bf=1;var u=ps.__read||function(c,d){var m=typeof Symbol=="function"&&c[Symbol.iterator];if(!m)return c;var v=m.call(c),T,C=[],N;try{for(;(d===void 0||d-- >0)&&!(T=v.next()).done;)C.push(T.value)}catch(Z){N={error:Z}}finally{try{T&&!T.done&&(m=v.return)&&m.call(v)}finally{if(N)throw N.error}}return C},i=ps.__spreadArray||function(c,d,m){if(m||arguments.length===2)for(var v=0,T=d.length,C;v<T;v++)(C||!(v in d))&&(C||(C=Array.prototype.slice.call(d,0,v)),C[v]=d[v]);return c.concat(C||Array.prototype.slice.call(d))};Object.defineProperty(ps,"__esModule",{value:!0}),ps.useGuaranteedMemo=l;var a=ha();function l(c,d){var m=(0,a.useRef)();return(!m.current||d.length!==m.current.prevDeps.length||m.current.prevDeps.map(function(v,T){return v===d[T]}).indexOf(!1)>=0)&&(m.current={v:c(),prevDeps:i([],u(d),!1)}),m.current.v}return ps}var Tf;function eg(){if(Tf)return Gr;Tf=1;var u=Gr.__assign||function(){return u=Object.assign||function(U){for(var O,R=1,H=arguments.length;R<H;R++){O=arguments[R];for(var z in O)Object.prototype.hasOwnProperty.call(O,z)&&(U[z]=O[z])}return U},u.apply(this,arguments)},i=Gr.__awaiter||function(U,O,R,H){function z(te){return te instanceof R?te:new R(function(X){X(te)})}return new(R||(R=Promise))(function(te,X){function oe(me){try{Y(H.next(me))}catch(Fe){X(Fe)}}function se(me){try{Y(H.throw(me))}catch(Fe){X(Fe)}}function Y(me){me.done?te(me.value):z(me.value).then(oe,se)}Y((H=H.apply(U,O||[])).next())})},a=Gr.__generator||function(U,O){var R={label:0,sent:function(){if(te[0]&1)throw te[1];return te[1]},trys:[],ops:[]},H,z,te,X;return X={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(X[Symbol.iterator]=function(){return this}),X;function oe(Y){return function(me){return se([Y,me])}}function se(Y){if(H)throw new TypeError("Generator is already executing.");for(;X&&(X=0,Y[0]&&(R=0)),R;)try{if(H=1,z&&(te=Y[0]&2?z.return:Y[0]?z.throw||((te=z.return)&&te.call(z),0):z.next)&&!(te=te.call(z,Y[1])).done)return te;switch(z=0,te&&(Y=[Y[0]&2,te.value]),Y[0]){case 0:case 1:te=Y;break;case 4:return R.label++,{value:Y[1],done:!1};case 5:R.label++,z=Y[1],Y=[0];continue;case 7:Y=R.ops.pop(),R.trys.pop();continue;default:if(te=R.trys,!(te=te.length>0&&te[te.length-1])&&(Y[0]===6||Y[0]===2)){R=0;continue}if(Y[0]===3&&(!te||Y[1]>te[0]&&Y[1]<te[3])){R.label=Y[1];break}if(Y[0]===6&&R.label<te[1]){R.label=te[1],te=Y;break}if(te&&R.label<te[2]){R.label=te[2],R.ops.push(Y);break}te[2]&&R.ops.pop(),R.trys.pop();continue}Y=O.call(U,R)}catch(me){Y=[6,me],z=0}finally{H=te=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}},l=Gr.__read||function(U,O){var R=typeof Symbol=="function"&&U[Symbol.iterator];if(!R)return U;var H=R.call(U),z,te=[],X;try{for(;(O===void 0||O-- >0)&&!(z=H.next()).done;)te.push(z.value)}catch(oe){X={error:oe}}finally{try{z&&!z.done&&(R=H.return)&&R.call(H)}finally{if(X)throw X.error}}return te};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.createOidcReactApi_dependencyInjection=Q,Gr.createReactOidc=P;var c=Uf(),d=ha(),m=Yh(),v=Yn(),T=Yn(),C=Xh(),N=ga(),Z=(0,d.createContext)(void 0);function Q(U,O){var R=this,H=new N.Deferred,z=void 0,te=function(){return i(R,void 0,void 0,function(){var Y,me,Fe,ft=this;return a(this,function(qe){switch(qe.label){case 0:return[4,function(){return i(ft,void 0,void 0,function(){var rt,at,pt;return a(this,function(xe){switch(xe.label){case 0:return typeof U!="function"?[3,3]:(rt=U,[4,H.pr]);case 1:return xe.sent(),[4,rt()];case 2:return at=xe.sent(),[2,at];case 3:return pt=U,[2,pt]}})})}()];case 1:Y=qe.sent(),"decodedIdTokenSchema"in Y&&(z=Y.decodedIdTokenSchema),qe.label=2;case 2:return qe.trys.push([2,4,,5]),[4,O(Y)];case 3:return me=qe.sent(),[3,5];case 4:if(Fe=qe.sent(),!(Fe instanceof m.OidcInitializationError))throw Fe;return[2,Fe];case 5:return[2,me]}})})}();function X(Y){var me=Y.fallback,Fe=Y.ErrorFallback,ft=Y.children,qe=l((0,d.useState)(void 0),2),rt=qe[0],at=qe[1];if((0,d.useEffect)(function(){H.resolve(),te.then(at)},[]),rt===void 0)return(0,c.jsx)(c.Fragment,{children:me===void 0?null:me});if(rt instanceof m.OidcInitializationError){var pt=rt;return(0,c.jsx)(c.Fragment,{children:Fe===void 0?(0,c.jsxs)("h1",{style:{color:"red"},children:["An error occurred while initializing the OIDC client:",pt.message]}):(0,c.jsx)(Fe,{initializationError:pt})})}return(0,c.jsx)(Z.Provider,{value:{oidc:rt,decodedIdTokenSchema:z},children:ft})}function oe(Y){var me=(Y??{}).assertUserLoggedIn,Fe=me===void 0?!1:me,ft=function(){var K=(0,d.useContext)(Z);return(0,v.assert)(K!==void 0,"You must use useOidc inside a OidcProvider"),K}(),qe=ft.oidc,rt=ft.decodedIdTokenSchema,at=l((0,d.useReducer)(function(){return[]},[]),2),pt=at[1];if((0,d.useEffect)(function(){if(qe.isUserLoggedIn){var ye=qe.subscribeToTokensChange(pt).unsubscribe;return ye}},[qe]),Fe&&!qe.isUserLoggedIn)throw new Error("The user must be logged in to use this hook (assertUserLoggedIn was set to true)");var xe=function(){var K=qe.isUserLoggedIn?qe.getTokens():void 0,b=(0,C.useGuaranteedMemo)(function(){if(K!==void 0){var ue={accessToken:K.accessToken,accessTokenExpirationTime:K.accessTokenExpirationTime,idToken:K.idToken,refreshToken:K.refreshToken,refreshTokenExpirationTime:K.refreshTokenExpirationTime,decodedIdToken:null},x=void 0;return Object.defineProperty(ue,"decodedIdToken",{get:function(){if(x!==void 0)return x.decodedIdToken;var $=K.decodedIdToken;return z!==void 0&&z!==rt&&($=z.parse($)),x={decodedIdToken:$},$}}),ue}},[K==null?void 0:K.accessToken,K==null?void 0:K.accessTokenExpirationTime,K==null?void 0:K.idToken,K==null?void 0:K.refreshToken,K==null?void 0:K.refreshTokenExpirationTime]);return{oidcTokens:b}}().oidcTokens,Ue={params:qe.params};return qe.isUserLoggedIn?(0,T.id)(((0,v.assert)(xe!==void 0),u(u({},Ue),{isUserLoggedIn:!0,oidcTokens:xe,logout:qe.logout,renewTokens:qe.renewTokens,subscribeToAutoLogoutCountdown:qe.subscribeToAutoLogoutCountdown,goToAuthServer:qe.goToAuthServer,isNewBrowserSession:qe.isNewBrowserSession,backFromAuthServer:qe.backFromAuthServer}))):(0,T.id)(u(u({},Ue),{isUserLoggedIn:!1,login:qe.login,initializationError:qe.initializationError}))}var se=te.then(function(Y){if(Y instanceof m.OidcInitializationError)return new Promise(function(){});var me=Y;return me});return{OidcProvider:X,useOidc:oe,getOidc:function(){return H.resolve(),se}}}function P(U){return Q(U,m.createOidc)}return Gr}var Ef;function tg(){return Ef||(Ef=1,function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.createReactOidc=void 0;var i=eg();Object.defineProperty(u,"createReactOidc",{enumerable:!0,get:function(){return i.createReactOidc}})}(vl)),vl}var ng=tg(),_t;(function(u){u.assertEqual=c=>c;function i(c){}u.assertIs=i;function a(c){throw new Error}u.assertNever=a,u.arrayToEnum=c=>{const d={};for(const m of c)d[m]=m;return d},u.getValidEnumValues=c=>{const d=u.objectKeys(c).filter(v=>typeof c[c[v]]!="number"),m={};for(const v of d)m[v]=c[v];return u.objectValues(m)},u.objectValues=c=>u.objectKeys(c).map(function(d){return c[d]}),u.objectKeys=typeof Object.keys=="function"?c=>Object.keys(c):c=>{const d=[];for(const m in c)Object.prototype.hasOwnProperty.call(c,m)&&d.push(m);return d},u.find=(c,d)=>{for(const m of c)if(d(m))return m},u.isInteger=typeof Number.isInteger=="function"?c=>Number.isInteger(c):c=>typeof c=="number"&&isFinite(c)&&Math.floor(c)===c;function l(c,d=" | "){return c.map(m=>typeof m=="string"?`'${m}'`:m).join(d)}u.joinValues=l,u.jsonStringifyReplacer=(c,d)=>typeof d=="bigint"?d.toString():d})(_t||(_t={}));var wl;(function(u){u.mergeShapes=(i,a)=>({...i,...a})})(wl||(wl={}));const Ne=_t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ei=u=>{switch(typeof u){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return isNaN(u)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(u)?Ne.array:u===null?Ne.null:u.then&&typeof u.then=="function"&&u.catch&&typeof u.catch=="function"?Ne.promise:typeof Map<"u"&&u instanceof Map?Ne.map:typeof Set<"u"&&u instanceof Set?Ne.set:typeof Date<"u"&&u instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},we=_t.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rg=u=>JSON.stringify(u,null,2).replace(/"([^"]+)":/g,"$1:");class Gn extends Error{get errors(){return this.issues}constructor(i){super(),this.issues=[],this.addIssue=l=>{this.issues=[...this.issues,l]},this.addIssues=(l=[])=>{this.issues=[...this.issues,...l]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=i}format(i){const a=i||function(d){return d.message},l={_errors:[]},c=d=>{for(const m of d.issues)if(m.code==="invalid_union")m.unionErrors.map(c);else if(m.code==="invalid_return_type")c(m.returnTypeError);else if(m.code==="invalid_arguments")c(m.argumentsError);else if(m.path.length===0)l._errors.push(a(m));else{let v=l,T=0;for(;T<m.path.length;){const C=m.path[T];T===m.path.length-1?(v[C]=v[C]||{_errors:[]},v[C]._errors.push(a(m))):v[C]=v[C]||{_errors:[]},v=v[C],T++}}};return c(this),l}static assert(i){if(!(i instanceof Gn))throw new Error(`Not a ZodError: ${i}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_t.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(i=a=>a.message){const a={},l=[];for(const c of this.issues)c.path.length>0?(a[c.path[0]]=a[c.path[0]]||[],a[c.path[0]].push(i(c))):l.push(i(c));return{formErrors:l,fieldErrors:a}}get formErrors(){return this.flatten()}}Gn.create=u=>new Gn(u);const vs=(u,i)=>{let a;switch(u.code){case we.invalid_type:u.received===Ne.undefined?a="Required":a=`Expected ${u.expected}, received ${u.received}`;break;case we.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(u.expected,_t.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:a=`Unrecognized key(s) in object: ${_t.joinValues(u.keys,", ")}`;break;case we.invalid_union:a="Invalid input";break;case we.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${_t.joinValues(u.options)}`;break;case we.invalid_enum_value:a=`Invalid enum value. Expected ${_t.joinValues(u.options)}, received '${u.received}'`;break;case we.invalid_arguments:a="Invalid function arguments";break;case we.invalid_return_type:a="Invalid function return type";break;case we.invalid_date:a="Invalid date";break;case we.invalid_string:typeof u.validation=="object"?"includes"in u.validation?(a=`Invalid input: must include "${u.validation.includes}"`,typeof u.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${u.validation.position}`)):"startsWith"in u.validation?a=`Invalid input: must start with "${u.validation.startsWith}"`:"endsWith"in u.validation?a=`Invalid input: must end with "${u.validation.endsWith}"`:_t.assertNever(u.validation):u.validation!=="regex"?a=`Invalid ${u.validation}`:a="Invalid";break;case we.too_small:u.type==="array"?a=`Array must contain ${u.exact?"exactly":u.inclusive?"at least":"more than"} ${u.minimum} element(s)`:u.type==="string"?a=`String must contain ${u.exact?"exactly":u.inclusive?"at least":"over"} ${u.minimum} character(s)`:u.type==="number"?a=`Number must be ${u.exact?"exactly equal to ":u.inclusive?"greater than or equal to ":"greater than "}${u.minimum}`:u.type==="date"?a=`Date must be ${u.exact?"exactly equal to ":u.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(u.minimum))}`:a="Invalid input";break;case we.too_big:u.type==="array"?a=`Array must contain ${u.exact?"exactly":u.inclusive?"at most":"less than"} ${u.maximum} element(s)`:u.type==="string"?a=`String must contain ${u.exact?"exactly":u.inclusive?"at most":"under"} ${u.maximum} character(s)`:u.type==="number"?a=`Number must be ${u.exact?"exactly":u.inclusive?"less than or equal to":"less than"} ${u.maximum}`:u.type==="bigint"?a=`BigInt must be ${u.exact?"exactly":u.inclusive?"less than or equal to":"less than"} ${u.maximum}`:u.type==="date"?a=`Date must be ${u.exact?"exactly":u.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(u.maximum))}`:a="Invalid input";break;case we.custom:a="Invalid input";break;case we.invalid_intersection_types:a="Intersection results could not be merged";break;case we.not_multiple_of:a=`Number must be a multiple of ${u.multipleOf}`;break;case we.not_finite:a="Number must be finite";break;default:a=i.defaultError,_t.assertNever(u)}return{message:a}};let Mf=vs;function ig(u){Mf=u}function Po(){return Mf}const Io=u=>{const{data:i,path:a,errorMaps:l,issueData:c}=u,d=[...a,...c.path||[]],m={...c,path:d};if(c.message!==void 0)return{...c,path:d,message:c.message};let v="";const T=l.filter(C=>!!C).slice().reverse();for(const C of T)v=C(m,{data:i,defaultError:v}).message;return{...c,path:d,message:v}},sg=[];function Re(u,i){const a=Po(),l=Io({issueData:i,data:u.data,path:u.path,errorMaps:[u.common.contextualErrorMap,u.schemaErrorMap,a,a===vs?void 0:vs].filter(c=>!!c)});u.common.issues.push(l)}class wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(i,a){const l=[];for(const c of a){if(c.status==="aborted")return Xe;c.status==="dirty"&&i.dirty(),l.push(c.value)}return{status:i.value,value:l}}static async mergeObjectAsync(i,a){const l=[];for(const c of a){const d=await c.key,m=await c.value;l.push({key:d,value:m})}return wn.mergeObjectSync(i,l)}static mergeObjectSync(i,a){const l={};for(const c of a){const{key:d,value:m}=c;if(d.status==="aborted"||m.status==="aborted")return Xe;d.status==="dirty"&&i.dirty(),m.status==="dirty"&&i.dirty(),d.value!=="__proto__"&&(typeof m.value<"u"||c.alwaysSet)&&(l[d.value]=m.value)}return{status:i.value,value:l}}}const Xe=Object.freeze({status:"aborted"}),gs=u=>({status:"dirty",value:u}),On=u=>({status:"valid",value:u}),kl=u=>u.status==="aborted",xl=u=>u.status==="dirty",zi=u=>u.status==="valid",ta=u=>typeof Promise<"u"&&u instanceof Promise;function Ro(u,i,a,l){if(typeof i=="function"?u!==i||!0:!i.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i.get(u)}function Df(u,i,a,l,c){if(typeof i=="function"?u!==i||!0:!i.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i.set(u,a),a}var Ve;(function(u){u.errToObj=i=>typeof i=="string"?{message:i}:i||{},u.toString=i=>typeof i=="string"?i:i==null?void 0:i.message})(Ve||(Ve={}));var Xs,ea;class Dr{constructor(i,a,l,c){this._cachedPath=[],this.parent=i,this.data=a,this._path=l,this._key=c}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Of=(u,i)=>{if(zi(i))return{success:!0,data:i.value};if(!u.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new Gn(u.common.issues);return this._error=a,this._error}}};function lt(u){if(!u)return{};const{errorMap:i,invalid_type_error:a,required_error:l,description:c}=u;if(i&&(a||l))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return i?{errorMap:i,description:c}:{errorMap:(m,v)=>{var T,C;const{message:N}=u;return m.code==="invalid_enum_value"?{message:N??v.defaultError}:typeof v.data>"u"?{message:(T=N??l)!==null&&T!==void 0?T:v.defaultError}:m.code!=="invalid_type"?{message:v.defaultError}:{message:(C=N??a)!==null&&C!==void 0?C:v.defaultError}},description:c}}class ct{get description(){return this._def.description}_getType(i){return ei(i.data)}_getOrReturnCtx(i,a){return a||{common:i.parent.common,data:i.data,parsedType:ei(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}_processInputParams(i){return{status:new wn,ctx:{common:i.parent.common,data:i.data,parsedType:ei(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}}_parseSync(i){const a=this._parse(i);if(ta(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(i){const a=this._parse(i);return Promise.resolve(a)}parse(i,a){const l=this.safeParse(i,a);if(l.success)return l.data;throw l.error}safeParse(i,a){var l;const c={common:{issues:[],async:(l=a==null?void 0:a.async)!==null&&l!==void 0?l:!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:ei(i)},d=this._parseSync({data:i,path:c.path,parent:c});return Of(c,d)}"~validate"(i){var a,l;const c={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:ei(i)};if(!this["~standard"].async)try{const d=this._parseSync({data:i,path:[],parent:c});return zi(d)?{value:d.value}:{issues:c.common.issues}}catch(d){!((l=(a=d==null?void 0:d.message)===null||a===void 0?void 0:a.toLowerCase())===null||l===void 0)&&l.includes("encountered")&&(this["~standard"].async=!0),c.common={issues:[],async:!0}}return this._parseAsync({data:i,path:[],parent:c}).then(d=>zi(d)?{value:d.value}:{issues:c.common.issues})}async parseAsync(i,a){const l=await this.safeParseAsync(i,a);if(l.success)return l.data;throw l.error}async safeParseAsync(i,a){const l={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:ei(i)},c=this._parse({data:i,path:l.path,parent:l}),d=await(ta(c)?c:Promise.resolve(c));return Of(l,d)}refine(i,a){const l=c=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(c):a;return this._refinement((c,d)=>{const m=i(c),v=()=>d.addIssue({code:we.custom,...l(c)});return typeof Promise<"u"&&m instanceof Promise?m.then(T=>T?!0:(v(),!1)):m?!0:(v(),!1)})}refinement(i,a){return this._refinement((l,c)=>i(l)?!0:(c.addIssue(typeof a=="function"?a(l,c):a),!1))}_refinement(i){return new Or({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:i}})}superRefine(i){return this._refinement(i)}constructor(i){this.spa=this.safeParseAsync,this._def=i,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return Mr.create(this,this._def)}nullable(){return xi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Er.create(this)}promise(){return _s.create(this,this._def)}or(i){return sa.create([this,i],this._def)}and(i){return aa.create(this,i,this._def)}transform(i){return new Or({...lt(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:i}})}default(i){const a=typeof i=="function"?i:()=>i;return new da({...lt(this._def),innerType:this,defaultValue:a,typeName:Ge.ZodDefault})}brand(){return new Tl({typeName:Ge.ZodBranded,type:this,...lt(this._def)})}catch(i){const a=typeof i=="function"?i:()=>i;return new fa({...lt(this._def),innerType:this,catchValue:a,typeName:Ge.ZodCatch})}describe(i){const a=this.constructor;return new a({...this._def,description:i})}pipe(i){return ma.create(this,i)}readonly(){return pa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ag=/^c[^\s-]{8,}$/i,og=/^[0-9a-z]+$/,ug=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lg=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cg=/^[a-z0-9_-]{21}$/i,dg=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fg=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pg=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hg="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _l;const gg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_g=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wg=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kg=new RegExp(`^${zf}$`);function Ff(u){let i="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return u.precision?i=`${i}\\.\\d{${u.precision}}`:u.precision==null&&(i=`${i}(\\.\\d+)?`),i}function xg(u){return new RegExp(`^${Ff(u)}$`)}function Hf(u){let i=`${zf}T${Ff(u)}`;const a=[];return a.push(u.local?"Z?":"Z"),u.offset&&a.push("([+-]\\d{2}:?\\d{2})"),i=`${i}(${a.join("|")})`,new RegExp(`^${i}$`)}function Sg(u,i){return!!((i==="v4"||!i)&&gg.test(u)||(i==="v6"||!i)&&vg.test(u))}function bg(u,i){if(!dg.test(u))return!1;try{const[a]=u.split("."),l=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),c=JSON.parse(atob(l));return!(typeof c!="object"||c===null||!c.typ||!c.alg||i&&c.alg!==i)}catch{return!1}}function Tg(u,i){return!!((i==="v4"||!i)&&mg.test(u)||(i==="v6"||!i)&&yg.test(u))}class Tr extends ct{_parse(i){if(this._def.coerce&&(i.data=String(i.data)),this._getType(i)!==Ne.string){const d=this._getOrReturnCtx(i);return Re(d,{code:we.invalid_type,expected:Ne.string,received:d.parsedType}),Xe}const l=new wn;let c;for(const d of this._def.checks)if(d.kind==="min")i.data.length<d.value&&(c=this._getOrReturnCtx(i,c),Re(c,{code:we.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),l.dirty());else if(d.kind==="max")i.data.length>d.value&&(c=this._getOrReturnCtx(i,c),Re(c,{code:we.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),l.dirty());else if(d.kind==="length"){const m=i.data.length>d.value,v=i.data.length<d.value;(m||v)&&(c=this._getOrReturnCtx(i,c),m?Re(c,{code:we.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):v&&Re(c,{code:we.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),l.dirty())}else if(d.kind==="email")pg.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"email",code:we.invalid_string,message:d.message}),l.dirty());else if(d.kind==="emoji")_l||(_l=new RegExp(hg,"u")),_l.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"emoji",code:we.invalid_string,message:d.message}),l.dirty());else if(d.kind==="uuid")lg.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"uuid",code:we.invalid_string,message:d.message}),l.dirty());else if(d.kind==="nanoid")cg.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"nanoid",code:we.invalid_string,message:d.message}),l.dirty());else if(d.kind==="cuid")ag.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"cuid",code:we.invalid_string,message:d.message}),l.dirty());else if(d.kind==="cuid2")og.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"cuid2",code:we.invalid_string,message:d.message}),l.dirty());else if(d.kind==="ulid")ug.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"ulid",code:we.invalid_string,message:d.message}),l.dirty());else if(d.kind==="url")try{new URL(i.data)}catch{c=this._getOrReturnCtx(i,c),Re(c,{validation:"url",code:we.invalid_string,message:d.message}),l.dirty()}else d.kind==="regex"?(d.regex.lastIndex=0,d.regex.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"regex",code:we.invalid_string,message:d.message}),l.dirty())):d.kind==="trim"?i.data=i.data.trim():d.kind==="includes"?i.data.includes(d.value,d.position)||(c=this._getOrReturnCtx(i,c),Re(c,{code:we.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),l.dirty()):d.kind==="toLowerCase"?i.data=i.data.toLowerCase():d.kind==="toUpperCase"?i.data=i.data.toUpperCase():d.kind==="startsWith"?i.data.startsWith(d.value)||(c=this._getOrReturnCtx(i,c),Re(c,{code:we.invalid_string,validation:{startsWith:d.value},message:d.message}),l.dirty()):d.kind==="endsWith"?i.data.endsWith(d.value)||(c=this._getOrReturnCtx(i,c),Re(c,{code:we.invalid_string,validation:{endsWith:d.value},message:d.message}),l.dirty()):d.kind==="datetime"?Hf(d).test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{code:we.invalid_string,validation:"datetime",message:d.message}),l.dirty()):d.kind==="date"?kg.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{code:we.invalid_string,validation:"date",message:d.message}),l.dirty()):d.kind==="time"?xg(d).test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{code:we.invalid_string,validation:"time",message:d.message}),l.dirty()):d.kind==="duration"?fg.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"duration",code:we.invalid_string,message:d.message}),l.dirty()):d.kind==="ip"?Sg(i.data,d.version)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"ip",code:we.invalid_string,message:d.message}),l.dirty()):d.kind==="jwt"?bg(i.data,d.alg)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"jwt",code:we.invalid_string,message:d.message}),l.dirty()):d.kind==="cidr"?Tg(i.data,d.version)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"cidr",code:we.invalid_string,message:d.message}),l.dirty()):d.kind==="base64"?_g.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"base64",code:we.invalid_string,message:d.message}),l.dirty()):d.kind==="base64url"?wg.test(i.data)||(c=this._getOrReturnCtx(i,c),Re(c,{validation:"base64url",code:we.invalid_string,message:d.message}),l.dirty()):_t.assertNever(d);return{status:l.value,value:i.data}}_regex(i,a,l){return this.refinement(c=>i.test(c),{validation:a,code:we.invalid_string,...Ve.errToObj(l)})}_addCheck(i){return new Tr({...this._def,checks:[...this._def.checks,i]})}email(i){return this._addCheck({kind:"email",...Ve.errToObj(i)})}url(i){return this._addCheck({kind:"url",...Ve.errToObj(i)})}emoji(i){return this._addCheck({kind:"emoji",...Ve.errToObj(i)})}uuid(i){return this._addCheck({kind:"uuid",...Ve.errToObj(i)})}nanoid(i){return this._addCheck({kind:"nanoid",...Ve.errToObj(i)})}cuid(i){return this._addCheck({kind:"cuid",...Ve.errToObj(i)})}cuid2(i){return this._addCheck({kind:"cuid2",...Ve.errToObj(i)})}ulid(i){return this._addCheck({kind:"ulid",...Ve.errToObj(i)})}base64(i){return this._addCheck({kind:"base64",...Ve.errToObj(i)})}base64url(i){return this._addCheck({kind:"base64url",...Ve.errToObj(i)})}jwt(i){return this._addCheck({kind:"jwt",...Ve.errToObj(i)})}ip(i){return this._addCheck({kind:"ip",...Ve.errToObj(i)})}cidr(i){return this._addCheck({kind:"cidr",...Ve.errToObj(i)})}datetime(i){var a,l;return typeof i=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:i}):this._addCheck({kind:"datetime",precision:typeof(i==null?void 0:i.precision)>"u"?null:i==null?void 0:i.precision,offset:(a=i==null?void 0:i.offset)!==null&&a!==void 0?a:!1,local:(l=i==null?void 0:i.local)!==null&&l!==void 0?l:!1,...Ve.errToObj(i==null?void 0:i.message)})}date(i){return this._addCheck({kind:"date",message:i})}time(i){return typeof i=="string"?this._addCheck({kind:"time",precision:null,message:i}):this._addCheck({kind:"time",precision:typeof(i==null?void 0:i.precision)>"u"?null:i==null?void 0:i.precision,...Ve.errToObj(i==null?void 0:i.message)})}duration(i){return this._addCheck({kind:"duration",...Ve.errToObj(i)})}regex(i,a){return this._addCheck({kind:"regex",regex:i,...Ve.errToObj(a)})}includes(i,a){return this._addCheck({kind:"includes",value:i,position:a==null?void 0:a.position,...Ve.errToObj(a==null?void 0:a.message)})}startsWith(i,a){return this._addCheck({kind:"startsWith",value:i,...Ve.errToObj(a)})}endsWith(i,a){return this._addCheck({kind:"endsWith",value:i,...Ve.errToObj(a)})}min(i,a){return this._addCheck({kind:"min",value:i,...Ve.errToObj(a)})}max(i,a){return this._addCheck({kind:"max",value:i,...Ve.errToObj(a)})}length(i,a){return this._addCheck({kind:"length",value:i,...Ve.errToObj(a)})}nonempty(i){return this.min(1,Ve.errToObj(i))}trim(){return new Tr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Tr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Tr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(i=>i.kind==="datetime")}get isDate(){return!!this._def.checks.find(i=>i.kind==="date")}get isTime(){return!!this._def.checks.find(i=>i.kind==="time")}get isDuration(){return!!this._def.checks.find(i=>i.kind==="duration")}get isEmail(){return!!this._def.checks.find(i=>i.kind==="email")}get isURL(){return!!this._def.checks.find(i=>i.kind==="url")}get isEmoji(){return!!this._def.checks.find(i=>i.kind==="emoji")}get isUUID(){return!!this._def.checks.find(i=>i.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(i=>i.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(i=>i.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(i=>i.kind==="cuid2")}get isULID(){return!!this._def.checks.find(i=>i.kind==="ulid")}get isIP(){return!!this._def.checks.find(i=>i.kind==="ip")}get isCIDR(){return!!this._def.checks.find(i=>i.kind==="cidr")}get isBase64(){return!!this._def.checks.find(i=>i.kind==="base64")}get isBase64url(){return!!this._def.checks.find(i=>i.kind==="base64url")}get minLength(){let i=null;for(const a of this._def.checks)a.kind==="min"&&(i===null||a.value>i)&&(i=a.value);return i}get maxLength(){let i=null;for(const a of this._def.checks)a.kind==="max"&&(i===null||a.value<i)&&(i=a.value);return i}}Tr.create=u=>{var i;return new Tr({checks:[],typeName:Ge.ZodString,coerce:(i=u==null?void 0:u.coerce)!==null&&i!==void 0?i:!1,...lt(u)})};function Eg(u,i){const a=(u.toString().split(".")[1]||"").length,l=(i.toString().split(".")[1]||"").length,c=a>l?a:l,d=parseInt(u.toFixed(c).replace(".","")),m=parseInt(i.toFixed(c).replace(".",""));return d%m/Math.pow(10,c)}class _i extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(i){if(this._def.coerce&&(i.data=Number(i.data)),this._getType(i)!==Ne.number){const d=this._getOrReturnCtx(i);return Re(d,{code:we.invalid_type,expected:Ne.number,received:d.parsedType}),Xe}let l;const c=new wn;for(const d of this._def.checks)d.kind==="int"?_t.isInteger(i.data)||(l=this._getOrReturnCtx(i,l),Re(l,{code:we.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):d.kind==="min"?(d.inclusive?i.data<d.value:i.data<=d.value)&&(l=this._getOrReturnCtx(i,l),Re(l,{code:we.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):d.kind==="max"?(d.inclusive?i.data>d.value:i.data>=d.value)&&(l=this._getOrReturnCtx(i,l),Re(l,{code:we.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):d.kind==="multipleOf"?Eg(i.data,d.value)!==0&&(l=this._getOrReturnCtx(i,l),Re(l,{code:we.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):d.kind==="finite"?Number.isFinite(i.data)||(l=this._getOrReturnCtx(i,l),Re(l,{code:we.not_finite,message:d.message}),c.dirty()):_t.assertNever(d);return{status:c.value,value:i.data}}gte(i,a){return this.setLimit("min",i,!0,Ve.toString(a))}gt(i,a){return this.setLimit("min",i,!1,Ve.toString(a))}lte(i,a){return this.setLimit("max",i,!0,Ve.toString(a))}lt(i,a){return this.setLimit("max",i,!1,Ve.toString(a))}setLimit(i,a,l,c){return new _i({...this._def,checks:[...this._def.checks,{kind:i,value:a,inclusive:l,message:Ve.toString(c)}]})}_addCheck(i){return new _i({...this._def,checks:[...this._def.checks,i]})}int(i){return this._addCheck({kind:"int",message:Ve.toString(i)})}positive(i){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(i)})}negative(i){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(i)})}multipleOf(i,a){return this._addCheck({kind:"multipleOf",value:i,message:Ve.toString(a)})}finite(i){return this._addCheck({kind:"finite",message:Ve.toString(i)})}safe(i){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(i)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(i)})}get minValue(){let i=null;for(const a of this._def.checks)a.kind==="min"&&(i===null||a.value>i)&&(i=a.value);return i}get maxValue(){let i=null;for(const a of this._def.checks)a.kind==="max"&&(i===null||a.value<i)&&(i=a.value);return i}get isInt(){return!!this._def.checks.find(i=>i.kind==="int"||i.kind==="multipleOf"&&_t.isInteger(i.value))}get isFinite(){let i=null,a=null;for(const l of this._def.checks){if(l.kind==="finite"||l.kind==="int"||l.kind==="multipleOf")return!0;l.kind==="min"?(a===null||l.value>a)&&(a=l.value):l.kind==="max"&&(i===null||l.value<i)&&(i=l.value)}return Number.isFinite(a)&&Number.isFinite(i)}}_i.create=u=>new _i({checks:[],typeName:Ge.ZodNumber,coerce:(u==null?void 0:u.coerce)||!1,...lt(u)});class wi extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(i){if(this._def.coerce)try{i.data=BigInt(i.data)}catch{return this._getInvalidInput(i)}if(this._getType(i)!==Ne.bigint)return this._getInvalidInput(i);let l;const c=new wn;for(const d of this._def.checks)d.kind==="min"?(d.inclusive?i.data<d.value:i.data<=d.value)&&(l=this._getOrReturnCtx(i,l),Re(l,{code:we.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):d.kind==="max"?(d.inclusive?i.data>d.value:i.data>=d.value)&&(l=this._getOrReturnCtx(i,l),Re(l,{code:we.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):d.kind==="multipleOf"?i.data%d.value!==BigInt(0)&&(l=this._getOrReturnCtx(i,l),Re(l,{code:we.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):_t.assertNever(d);return{status:c.value,value:i.data}}_getInvalidInput(i){const a=this._getOrReturnCtx(i);return Re(a,{code:we.invalid_type,expected:Ne.bigint,received:a.parsedType}),Xe}gte(i,a){return this.setLimit("min",i,!0,Ve.toString(a))}gt(i,a){return this.setLimit("min",i,!1,Ve.toString(a))}lte(i,a){return this.setLimit("max",i,!0,Ve.toString(a))}lt(i,a){return this.setLimit("max",i,!1,Ve.toString(a))}setLimit(i,a,l,c){return new wi({...this._def,checks:[...this._def.checks,{kind:i,value:a,inclusive:l,message:Ve.toString(c)}]})}_addCheck(i){return new wi({...this._def,checks:[...this._def.checks,i]})}positive(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(i)})}negative(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(i)})}multipleOf(i,a){return this._addCheck({kind:"multipleOf",value:i,message:Ve.toString(a)})}get minValue(){let i=null;for(const a of this._def.checks)a.kind==="min"&&(i===null||a.value>i)&&(i=a.value);return i}get maxValue(){let i=null;for(const a of this._def.checks)a.kind==="max"&&(i===null||a.value<i)&&(i=a.value);return i}}wi.create=u=>{var i;return new wi({checks:[],typeName:Ge.ZodBigInt,coerce:(i=u==null?void 0:u.coerce)!==null&&i!==void 0?i:!1,...lt(u)})};class na extends ct{_parse(i){if(this._def.coerce&&(i.data=!!i.data),this._getType(i)!==Ne.boolean){const l=this._getOrReturnCtx(i);return Re(l,{code:we.invalid_type,expected:Ne.boolean,received:l.parsedType}),Xe}return On(i.data)}}na.create=u=>new na({typeName:Ge.ZodBoolean,coerce:(u==null?void 0:u.coerce)||!1,...lt(u)});class Fi extends ct{_parse(i){if(this._def.coerce&&(i.data=new Date(i.data)),this._getType(i)!==Ne.date){const d=this._getOrReturnCtx(i);return Re(d,{code:we.invalid_type,expected:Ne.date,received:d.parsedType}),Xe}if(isNaN(i.data.getTime())){const d=this._getOrReturnCtx(i);return Re(d,{code:we.invalid_date}),Xe}const l=new wn;let c;for(const d of this._def.checks)d.kind==="min"?i.data.getTime()<d.value&&(c=this._getOrReturnCtx(i,c),Re(c,{code:we.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),l.dirty()):d.kind==="max"?i.data.getTime()>d.value&&(c=this._getOrReturnCtx(i,c),Re(c,{code:we.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),l.dirty()):_t.assertNever(d);return{status:l.value,value:new Date(i.data.getTime())}}_addCheck(i){return new Fi({...this._def,checks:[...this._def.checks,i]})}min(i,a){return this._addCheck({kind:"min",value:i.getTime(),message:Ve.toString(a)})}max(i,a){return this._addCheck({kind:"max",value:i.getTime(),message:Ve.toString(a)})}get minDate(){let i=null;for(const a of this._def.checks)a.kind==="min"&&(i===null||a.value>i)&&(i=a.value);return i!=null?new Date(i):null}get maxDate(){let i=null;for(const a of this._def.checks)a.kind==="max"&&(i===null||a.value<i)&&(i=a.value);return i!=null?new Date(i):null}}Fi.create=u=>new Fi({checks:[],coerce:(u==null?void 0:u.coerce)||!1,typeName:Ge.ZodDate,...lt(u)});class Uo extends ct{_parse(i){if(this._getType(i)!==Ne.symbol){const l=this._getOrReturnCtx(i);return Re(l,{code:we.invalid_type,expected:Ne.symbol,received:l.parsedType}),Xe}return On(i.data)}}Uo.create=u=>new Uo({typeName:Ge.ZodSymbol,...lt(u)});class ra extends ct{_parse(i){if(this._getType(i)!==Ne.undefined){const l=this._getOrReturnCtx(i);return Re(l,{code:we.invalid_type,expected:Ne.undefined,received:l.parsedType}),Xe}return On(i.data)}}ra.create=u=>new ra({typeName:Ge.ZodUndefined,...lt(u)});class ia extends ct{_parse(i){if(this._getType(i)!==Ne.null){const l=this._getOrReturnCtx(i);return Re(l,{code:we.invalid_type,expected:Ne.null,received:l.parsedType}),Xe}return On(i.data)}}ia.create=u=>new ia({typeName:Ge.ZodNull,...lt(u)});class ys extends ct{constructor(){super(...arguments),this._any=!0}_parse(i){return On(i.data)}}ys.create=u=>new ys({typeName:Ge.ZodAny,...lt(u)});class Di extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(i){return On(i.data)}}Di.create=u=>new Di({typeName:Ge.ZodUnknown,...lt(u)});class ti extends ct{_parse(i){const a=this._getOrReturnCtx(i);return Re(a,{code:we.invalid_type,expected:Ne.never,received:a.parsedType}),Xe}}ti.create=u=>new ti({typeName:Ge.ZodNever,...lt(u)});class jo extends ct{_parse(i){if(this._getType(i)!==Ne.undefined){const l=this._getOrReturnCtx(i);return Re(l,{code:we.invalid_type,expected:Ne.void,received:l.parsedType}),Xe}return On(i.data)}}jo.create=u=>new jo({typeName:Ge.ZodVoid,...lt(u)});class Er extends ct{_parse(i){const{ctx:a,status:l}=this._processInputParams(i),c=this._def;if(a.parsedType!==Ne.array)return Re(a,{code:we.invalid_type,expected:Ne.array,received:a.parsedType}),Xe;if(c.exactLength!==null){const m=a.data.length>c.exactLength.value,v=a.data.length<c.exactLength.value;(m||v)&&(Re(a,{code:m?we.too_big:we.too_small,minimum:v?c.exactLength.value:void 0,maximum:m?c.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:c.exactLength.message}),l.dirty())}if(c.minLength!==null&&a.data.length<c.minLength.value&&(Re(a,{code:we.too_small,minimum:c.minLength.value,type:"array",inclusive:!0,exact:!1,message:c.minLength.message}),l.dirty()),c.maxLength!==null&&a.data.length>c.maxLength.value&&(Re(a,{code:we.too_big,maximum:c.maxLength.value,type:"array",inclusive:!0,exact:!1,message:c.maxLength.message}),l.dirty()),a.common.async)return Promise.all([...a.data].map((m,v)=>c.type._parseAsync(new Dr(a,m,a.path,v)))).then(m=>wn.mergeArray(l,m));const d=[...a.data].map((m,v)=>c.type._parseSync(new Dr(a,m,a.path,v)));return wn.mergeArray(l,d)}get element(){return this._def.type}min(i,a){return new Er({...this._def,minLength:{value:i,message:Ve.toString(a)}})}max(i,a){return new Er({...this._def,maxLength:{value:i,message:Ve.toString(a)}})}length(i,a){return new Er({...this._def,exactLength:{value:i,message:Ve.toString(a)}})}nonempty(i){return this.min(1,i)}}Er.create=(u,i)=>new Er({type:u,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...lt(i)});function hs(u){if(u instanceof Ft){const i={};for(const a in u.shape){const l=u.shape[a];i[a]=Mr.create(hs(l))}return new Ft({...u._def,shape:()=>i})}else return u instanceof Er?new Er({...u._def,type:hs(u.element)}):u instanceof Mr?Mr.create(hs(u.unwrap())):u instanceof xi?xi.create(hs(u.unwrap())):u instanceof zr?zr.create(u.items.map(i=>hs(i))):u}class Ft extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const i=this._def.shape(),a=_t.objectKeys(i);return this._cached={shape:i,keys:a}}_parse(i){if(this._getType(i)!==Ne.object){const C=this._getOrReturnCtx(i);return Re(C,{code:we.invalid_type,expected:Ne.object,received:C.parsedType}),Xe}const{status:l,ctx:c}=this._processInputParams(i),{shape:d,keys:m}=this._getCached(),v=[];if(!(this._def.catchall instanceof ti&&this._def.unknownKeys==="strip"))for(const C in c.data)m.includes(C)||v.push(C);const T=[];for(const C of m){const N=d[C],Z=c.data[C];T.push({key:{status:"valid",value:C},value:N._parse(new Dr(c,Z,c.path,C)),alwaysSet:C in c.data})}if(this._def.catchall instanceof ti){const C=this._def.unknownKeys;if(C==="passthrough")for(const N of v)T.push({key:{status:"valid",value:N},value:{status:"valid",value:c.data[N]}});else if(C==="strict")v.length>0&&(Re(c,{code:we.unrecognized_keys,keys:v}),l.dirty());else if(C!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const C=this._def.catchall;for(const N of v){const Z=c.data[N];T.push({key:{status:"valid",value:N},value:C._parse(new Dr(c,Z,c.path,N)),alwaysSet:N in c.data})}}return c.common.async?Promise.resolve().then(async()=>{const C=[];for(const N of T){const Z=await N.key,Q=await N.value;C.push({key:Z,value:Q,alwaysSet:N.alwaysSet})}return C}).then(C=>wn.mergeObjectSync(l,C)):wn.mergeObjectSync(l,T)}get shape(){return this._def.shape()}strict(i){return Ve.errToObj,new Ft({...this._def,unknownKeys:"strict",...i!==void 0?{errorMap:(a,l)=>{var c,d,m,v;const T=(m=(d=(c=this._def).errorMap)===null||d===void 0?void 0:d.call(c,a,l).message)!==null&&m!==void 0?m:l.defaultError;return a.code==="unrecognized_keys"?{message:(v=Ve.errToObj(i).message)!==null&&v!==void 0?v:T}:{message:T}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(i){return new Ft({...this._def,shape:()=>({...this._def.shape(),...i})})}merge(i){return new Ft({unknownKeys:i._def.unknownKeys,catchall:i._def.catchall,shape:()=>({...this._def.shape(),...i._def.shape()}),typeName:Ge.ZodObject})}setKey(i,a){return this.augment({[i]:a})}catchall(i){return new Ft({...this._def,catchall:i})}pick(i){const a={};return _t.objectKeys(i).forEach(l=>{i[l]&&this.shape[l]&&(a[l]=this.shape[l])}),new Ft({...this._def,shape:()=>a})}omit(i){const a={};return _t.objectKeys(this.shape).forEach(l=>{i[l]||(a[l]=this.shape[l])}),new Ft({...this._def,shape:()=>a})}deepPartial(){return hs(this)}partial(i){const a={};return _t.objectKeys(this.shape).forEach(l=>{const c=this.shape[l];i&&!i[l]?a[l]=c:a[l]=c.optional()}),new Ft({...this._def,shape:()=>a})}required(i){const a={};return _t.objectKeys(this.shape).forEach(l=>{if(i&&!i[l])a[l]=this.shape[l];else{let d=this.shape[l];for(;d instanceof Mr;)d=d._def.innerType;a[l]=d}}),new Ft({...this._def,shape:()=>a})}keyof(){return qf(_t.objectKeys(this.shape))}}Ft.create=(u,i)=>new Ft({shape:()=>u,unknownKeys:"strip",catchall:ti.create(),typeName:Ge.ZodObject,...lt(i)});Ft.strictCreate=(u,i)=>new Ft({shape:()=>u,unknownKeys:"strict",catchall:ti.create(),typeName:Ge.ZodObject,...lt(i)});Ft.lazycreate=(u,i)=>new Ft({shape:u,unknownKeys:"strip",catchall:ti.create(),typeName:Ge.ZodObject,...lt(i)});class sa extends ct{_parse(i){const{ctx:a}=this._processInputParams(i),l=this._def.options;function c(d){for(const v of d)if(v.result.status==="valid")return v.result;for(const v of d)if(v.result.status==="dirty")return a.common.issues.push(...v.ctx.common.issues),v.result;const m=d.map(v=>new Gn(v.ctx.common.issues));return Re(a,{code:we.invalid_union,unionErrors:m}),Xe}if(a.common.async)return Promise.all(l.map(async d=>{const m={...a,common:{...a.common,issues:[]},parent:null};return{result:await d._parseAsync({data:a.data,path:a.path,parent:m}),ctx:m}})).then(c);{let d;const m=[];for(const T of l){const C={...a,common:{...a.common,issues:[]},parent:null},N=T._parseSync({data:a.data,path:a.path,parent:C});if(N.status==="valid")return N;N.status==="dirty"&&!d&&(d={result:N,ctx:C}),C.common.issues.length&&m.push(C.common.issues)}if(d)return a.common.issues.push(...d.ctx.common.issues),d.result;const v=m.map(T=>new Gn(T));return Re(a,{code:we.invalid_union,unionErrors:v}),Xe}}get options(){return this._def.options}}sa.create=(u,i)=>new sa({options:u,typeName:Ge.ZodUnion,...lt(i)});const Xr=u=>u instanceof ua?Xr(u.schema):u instanceof Or?Xr(u.innerType()):u instanceof la?[u.value]:u instanceof ki?u.options:u instanceof ca?_t.objectValues(u.enum):u instanceof da?Xr(u._def.innerType):u instanceof ra?[void 0]:u instanceof ia?[null]:u instanceof Mr?[void 0,...Xr(u.unwrap())]:u instanceof xi?[null,...Xr(u.unwrap())]:u instanceof Tl||u instanceof pa?Xr(u.unwrap()):u instanceof fa?Xr(u._def.innerType):[];class Do extends ct{_parse(i){const{ctx:a}=this._processInputParams(i);if(a.parsedType!==Ne.object)return Re(a,{code:we.invalid_type,expected:Ne.object,received:a.parsedType}),Xe;const l=this.discriminator,c=a.data[l],d=this.optionsMap.get(c);return d?a.common.async?d._parseAsync({data:a.data,path:a.path,parent:a}):d._parseSync({data:a.data,path:a.path,parent:a}):(Re(a,{code:we.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[l]}),Xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(i,a,l){const c=new Map;for(const d of a){const m=Xr(d.shape[i]);if(!m.length)throw new Error(`A discriminator value for key \`${i}\` could not be extracted from all schema options`);for(const v of m){if(c.has(v))throw new Error(`Discriminator property ${String(i)} has duplicate value ${String(v)}`);c.set(v,d)}}return new Do({typeName:Ge.ZodDiscriminatedUnion,discriminator:i,options:a,optionsMap:c,...lt(l)})}}function Sl(u,i){const a=ei(u),l=ei(i);if(u===i)return{valid:!0,data:u};if(a===Ne.object&&l===Ne.object){const c=_t.objectKeys(i),d=_t.objectKeys(u).filter(v=>c.indexOf(v)!==-1),m={...u,...i};for(const v of d){const T=Sl(u[v],i[v]);if(!T.valid)return{valid:!1};m[v]=T.data}return{valid:!0,data:m}}else if(a===Ne.array&&l===Ne.array){if(u.length!==i.length)return{valid:!1};const c=[];for(let d=0;d<u.length;d++){const m=u[d],v=i[d],T=Sl(m,v);if(!T.valid)return{valid:!1};c.push(T.data)}return{valid:!0,data:c}}else return a===Ne.date&&l===Ne.date&&+u==+i?{valid:!0,data:u}:{valid:!1}}class aa extends ct{_parse(i){const{status:a,ctx:l}=this._processInputParams(i),c=(d,m)=>{if(kl(d)||kl(m))return Xe;const v=Sl(d.value,m.value);return v.valid?((xl(d)||xl(m))&&a.dirty(),{status:a.value,value:v.data}):(Re(l,{code:we.invalid_intersection_types}),Xe)};return l.common.async?Promise.all([this._def.left._parseAsync({data:l.data,path:l.path,parent:l}),this._def.right._parseAsync({data:l.data,path:l.path,parent:l})]).then(([d,m])=>c(d,m)):c(this._def.left._parseSync({data:l.data,path:l.path,parent:l}),this._def.right._parseSync({data:l.data,path:l.path,parent:l}))}}aa.create=(u,i,a)=>new aa({left:u,right:i,typeName:Ge.ZodIntersection,...lt(a)});class zr extends ct{_parse(i){const{status:a,ctx:l}=this._processInputParams(i);if(l.parsedType!==Ne.array)return Re(l,{code:we.invalid_type,expected:Ne.array,received:l.parsedType}),Xe;if(l.data.length<this._def.items.length)return Re(l,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&l.data.length>this._def.items.length&&(Re(l,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const d=[...l.data].map((m,v)=>{const T=this._def.items[v]||this._def.rest;return T?T._parse(new Dr(l,m,l.path,v)):null}).filter(m=>!!m);return l.common.async?Promise.all(d).then(m=>wn.mergeArray(a,m)):wn.mergeArray(a,d)}get items(){return this._def.items}rest(i){return new zr({...this._def,rest:i})}}zr.create=(u,i)=>{if(!Array.isArray(u))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zr({items:u,typeName:Ge.ZodTuple,rest:null,...lt(i)})};class oa extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:a,ctx:l}=this._processInputParams(i);if(l.parsedType!==Ne.object)return Re(l,{code:we.invalid_type,expected:Ne.object,received:l.parsedType}),Xe;const c=[],d=this._def.keyType,m=this._def.valueType;for(const v in l.data)c.push({key:d._parse(new Dr(l,v,l.path,v)),value:m._parse(new Dr(l,l.data[v],l.path,v)),alwaysSet:v in l.data});return l.common.async?wn.mergeObjectAsync(a,c):wn.mergeObjectSync(a,c)}get element(){return this._def.valueType}static create(i,a,l){return a instanceof ct?new oa({keyType:i,valueType:a,typeName:Ge.ZodRecord,...lt(l)}):new oa({keyType:Tr.create(),valueType:i,typeName:Ge.ZodRecord,...lt(a)})}}class No extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:a,ctx:l}=this._processInputParams(i);if(l.parsedType!==Ne.map)return Re(l,{code:we.invalid_type,expected:Ne.map,received:l.parsedType}),Xe;const c=this._def.keyType,d=this._def.valueType,m=[...l.data.entries()].map(([v,T],C)=>({key:c._parse(new Dr(l,v,l.path,[C,"key"])),value:d._parse(new Dr(l,T,l.path,[C,"value"]))}));if(l.common.async){const v=new Map;return Promise.resolve().then(async()=>{for(const T of m){const C=await T.key,N=await T.value;if(C.status==="aborted"||N.status==="aborted")return Xe;(C.status==="dirty"||N.status==="dirty")&&a.dirty(),v.set(C.value,N.value)}return{status:a.value,value:v}})}else{const v=new Map;for(const T of m){const C=T.key,N=T.value;if(C.status==="aborted"||N.status==="aborted")return Xe;(C.status==="dirty"||N.status==="dirty")&&a.dirty(),v.set(C.value,N.value)}return{status:a.value,value:v}}}}No.create=(u,i,a)=>new No({valueType:i,keyType:u,typeName:Ge.ZodMap,...lt(a)});class Hi extends ct{_parse(i){const{status:a,ctx:l}=this._processInputParams(i);if(l.parsedType!==Ne.set)return Re(l,{code:we.invalid_type,expected:Ne.set,received:l.parsedType}),Xe;const c=this._def;c.minSize!==null&&l.data.size<c.minSize.value&&(Re(l,{code:we.too_small,minimum:c.minSize.value,type:"set",inclusive:!0,exact:!1,message:c.minSize.message}),a.dirty()),c.maxSize!==null&&l.data.size>c.maxSize.value&&(Re(l,{code:we.too_big,maximum:c.maxSize.value,type:"set",inclusive:!0,exact:!1,message:c.maxSize.message}),a.dirty());const d=this._def.valueType;function m(T){const C=new Set;for(const N of T){if(N.status==="aborted")return Xe;N.status==="dirty"&&a.dirty(),C.add(N.value)}return{status:a.value,value:C}}const v=[...l.data.values()].map((T,C)=>d._parse(new Dr(l,T,l.path,C)));return l.common.async?Promise.all(v).then(T=>m(T)):m(v)}min(i,a){return new Hi({...this._def,minSize:{value:i,message:Ve.toString(a)}})}max(i,a){return new Hi({...this._def,maxSize:{value:i,message:Ve.toString(a)}})}size(i,a){return this.min(i,a).max(i,a)}nonempty(i){return this.min(1,i)}}Hi.create=(u,i)=>new Hi({valueType:u,minSize:null,maxSize:null,typeName:Ge.ZodSet,...lt(i)});class ms extends ct{constructor(){super(...arguments),this.validate=this.implement}_parse(i){const{ctx:a}=this._processInputParams(i);if(a.parsedType!==Ne.function)return Re(a,{code:we.invalid_type,expected:Ne.function,received:a.parsedType}),Xe;function l(v,T){return Io({data:v,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Po(),vs].filter(C=>!!C),issueData:{code:we.invalid_arguments,argumentsError:T}})}function c(v,T){return Io({data:v,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Po(),vs].filter(C=>!!C),issueData:{code:we.invalid_return_type,returnTypeError:T}})}const d={errorMap:a.common.contextualErrorMap},m=a.data;if(this._def.returns instanceof _s){const v=this;return On(async function(...T){const C=new Gn([]),N=await v._def.args.parseAsync(T,d).catch(P=>{throw C.addIssue(l(T,P)),C}),Z=await Reflect.apply(m,this,N);return await v._def.returns._def.type.parseAsync(Z,d).catch(P=>{throw C.addIssue(c(Z,P)),C})})}else{const v=this;return On(function(...T){const C=v._def.args.safeParse(T,d);if(!C.success)throw new Gn([l(T,C.error)]);const N=Reflect.apply(m,this,C.data),Z=v._def.returns.safeParse(N,d);if(!Z.success)throw new Gn([c(N,Z.error)]);return Z.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...i){return new ms({...this._def,args:zr.create(i).rest(Di.create())})}returns(i){return new ms({...this._def,returns:i})}implement(i){return this.parse(i)}strictImplement(i){return this.parse(i)}static create(i,a,l){return new ms({args:i||zr.create([]).rest(Di.create()),returns:a||Di.create(),typeName:Ge.ZodFunction,...lt(l)})}}class ua extends ct{get schema(){return this._def.getter()}_parse(i){const{ctx:a}=this._processInputParams(i);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}ua.create=(u,i)=>new ua({getter:u,typeName:Ge.ZodLazy,...lt(i)});class la extends ct{_parse(i){if(i.data!==this._def.value){const a=this._getOrReturnCtx(i);return Re(a,{received:a.data,code:we.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:i.data}}get value(){return this._def.value}}la.create=(u,i)=>new la({value:u,typeName:Ge.ZodLiteral,...lt(i)});function qf(u,i){return new ki({values:u,typeName:Ge.ZodEnum,...lt(i)})}class ki extends ct{constructor(){super(...arguments),Xs.set(this,void 0)}_parse(i){if(typeof i.data!="string"){const a=this._getOrReturnCtx(i),l=this._def.values;return Re(a,{expected:_t.joinValues(l),received:a.parsedType,code:we.invalid_type}),Xe}if(Ro(this,Xs)||Df(this,Xs,new Set(this._def.values)),!Ro(this,Xs).has(i.data)){const a=this._getOrReturnCtx(i),l=this._def.values;return Re(a,{received:a.data,code:we.invalid_enum_value,options:l}),Xe}return On(i.data)}get options(){return this._def.values}get enum(){const i={};for(const a of this._def.values)i[a]=a;return i}get Values(){const i={};for(const a of this._def.values)i[a]=a;return i}get Enum(){const i={};for(const a of this._def.values)i[a]=a;return i}extract(i,a=this._def){return ki.create(i,{...this._def,...a})}exclude(i,a=this._def){return ki.create(this.options.filter(l=>!i.includes(l)),{...this._def,...a})}}Xs=new WeakMap;ki.create=qf;class ca extends ct{constructor(){super(...arguments),ea.set(this,void 0)}_parse(i){const a=_t.getValidEnumValues(this._def.values),l=this._getOrReturnCtx(i);if(l.parsedType!==Ne.string&&l.parsedType!==Ne.number){const c=_t.objectValues(a);return Re(l,{expected:_t.joinValues(c),received:l.parsedType,code:we.invalid_type}),Xe}if(Ro(this,ea)||Df(this,ea,new Set(_t.getValidEnumValues(this._def.values))),!Ro(this,ea).has(i.data)){const c=_t.objectValues(a);return Re(l,{received:l.data,code:we.invalid_enum_value,options:c}),Xe}return On(i.data)}get enum(){return this._def.values}}ea=new WeakMap;ca.create=(u,i)=>new ca({values:u,typeName:Ge.ZodNativeEnum,...lt(i)});class _s extends ct{unwrap(){return this._def.type}_parse(i){const{ctx:a}=this._processInputParams(i);if(a.parsedType!==Ne.promise&&a.common.async===!1)return Re(a,{code:we.invalid_type,expected:Ne.promise,received:a.parsedType}),Xe;const l=a.parsedType===Ne.promise?a.data:Promise.resolve(a.data);return On(l.then(c=>this._def.type.parseAsync(c,{path:a.path,errorMap:a.common.contextualErrorMap})))}}_s.create=(u,i)=>new _s({type:u,typeName:Ge.ZodPromise,...lt(i)});class Or extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){const{status:a,ctx:l}=this._processInputParams(i),c=this._def.effect||null,d={addIssue:m=>{Re(l,m),m.fatal?a.abort():a.dirty()},get path(){return l.path}};if(d.addIssue=d.addIssue.bind(d),c.type==="preprocess"){const m=c.transform(l.data,d);if(l.common.async)return Promise.resolve(m).then(async v=>{if(a.value==="aborted")return Xe;const T=await this._def.schema._parseAsync({data:v,path:l.path,parent:l});return T.status==="aborted"?Xe:T.status==="dirty"||a.value==="dirty"?gs(T.value):T});{if(a.value==="aborted")return Xe;const v=this._def.schema._parseSync({data:m,path:l.path,parent:l});return v.status==="aborted"?Xe:v.status==="dirty"||a.value==="dirty"?gs(v.value):v}}if(c.type==="refinement"){const m=v=>{const T=c.refinement(v,d);if(l.common.async)return Promise.resolve(T);if(T instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return v};if(l.common.async===!1){const v=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return v.status==="aborted"?Xe:(v.status==="dirty"&&a.dirty(),m(v.value),{status:a.value,value:v.value})}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(v=>v.status==="aborted"?Xe:(v.status==="dirty"&&a.dirty(),m(v.value).then(()=>({status:a.value,value:v.value}))))}if(c.type==="transform")if(l.common.async===!1){const m=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!zi(m))return m;const v=c.transform(m.value,d);if(v instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:v}}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(m=>zi(m)?Promise.resolve(c.transform(m.value,d)).then(v=>({status:a.value,value:v})):m);_t.assertNever(c)}}Or.create=(u,i,a)=>new Or({schema:u,typeName:Ge.ZodEffects,effect:i,...lt(a)});Or.createWithPreprocess=(u,i,a)=>new Or({schema:i,effect:{type:"preprocess",transform:u},typeName:Ge.ZodEffects,...lt(a)});class Mr extends ct{_parse(i){return this._getType(i)===Ne.undefined?On(void 0):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}Mr.create=(u,i)=>new Mr({innerType:u,typeName:Ge.ZodOptional,...lt(i)});class xi extends ct{_parse(i){return this._getType(i)===Ne.null?On(null):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}xi.create=(u,i)=>new xi({innerType:u,typeName:Ge.ZodNullable,...lt(i)});class da extends ct{_parse(i){const{ctx:a}=this._processInputParams(i);let l=a.data;return a.parsedType===Ne.undefined&&(l=this._def.defaultValue()),this._def.innerType._parse({data:l,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}da.create=(u,i)=>new da({innerType:u,typeName:Ge.ZodDefault,defaultValue:typeof i.default=="function"?i.default:()=>i.default,...lt(i)});class fa extends ct{_parse(i){const{ctx:a}=this._processInputParams(i),l={...a,common:{...a.common,issues:[]}},c=this._def.innerType._parse({data:l.data,path:l.path,parent:{...l}});return ta(c)?c.then(d=>({status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new Gn(l.common.issues)},input:l.data})})):{status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Gn(l.common.issues)},input:l.data})}}removeCatch(){return this._def.innerType}}fa.create=(u,i)=>new fa({innerType:u,typeName:Ge.ZodCatch,catchValue:typeof i.catch=="function"?i.catch:()=>i.catch,...lt(i)});class Ao extends ct{_parse(i){if(this._getType(i)!==Ne.nan){const l=this._getOrReturnCtx(i);return Re(l,{code:we.invalid_type,expected:Ne.nan,received:l.parsedType}),Xe}return{status:"valid",value:i.data}}}Ao.create=u=>new Ao({typeName:Ge.ZodNaN,...lt(u)});const Og=Symbol("zod_brand");class Tl extends ct{_parse(i){const{ctx:a}=this._processInputParams(i),l=a.data;return this._def.type._parse({data:l,path:a.path,parent:a})}unwrap(){return this._def.type}}class ma extends ct{_parse(i){const{status:a,ctx:l}=this._processInputParams(i);if(l.common.async)return(async()=>{const d=await this._def.in._parseAsync({data:l.data,path:l.path,parent:l});return d.status==="aborted"?Xe:d.status==="dirty"?(a.dirty(),gs(d.value)):this._def.out._parseAsync({data:d.value,path:l.path,parent:l})})();{const c=this._def.in._parseSync({data:l.data,path:l.path,parent:l});return c.status==="aborted"?Xe:c.status==="dirty"?(a.dirty(),{status:"dirty",value:c.value}):this._def.out._parseSync({data:c.value,path:l.path,parent:l})}}static create(i,a){return new ma({in:i,out:a,typeName:Ge.ZodPipeline})}}class pa extends ct{_parse(i){const a=this._def.innerType._parse(i),l=c=>(zi(c)&&(c.value=Object.freeze(c.value)),c);return ta(a)?a.then(c=>l(c)):l(a)}unwrap(){return this._def.innerType}}pa.create=(u,i)=>new pa({innerType:u,typeName:Ge.ZodReadonly,...lt(i)});function Wf(u,i={},a){return u?ys.create().superRefine((l,c)=>{var d,m;if(!u(l)){const v=typeof i=="function"?i(l):typeof i=="string"?{message:i}:i,T=(m=(d=v.fatal)!==null&&d!==void 0?d:a)!==null&&m!==void 0?m:!0,C=typeof v=="string"?{message:v}:v;c.addIssue({code:"custom",...C,fatal:T})}}):ys.create()}const Cg={object:Ft.lazycreate};var Ge;(function(u){u.ZodString="ZodString",u.ZodNumber="ZodNumber",u.ZodNaN="ZodNaN",u.ZodBigInt="ZodBigInt",u.ZodBoolean="ZodBoolean",u.ZodDate="ZodDate",u.ZodSymbol="ZodSymbol",u.ZodUndefined="ZodUndefined",u.ZodNull="ZodNull",u.ZodAny="ZodAny",u.ZodUnknown="ZodUnknown",u.ZodNever="ZodNever",u.ZodVoid="ZodVoid",u.ZodArray="ZodArray",u.ZodObject="ZodObject",u.ZodUnion="ZodUnion",u.ZodDiscriminatedUnion="ZodDiscriminatedUnion",u.ZodIntersection="ZodIntersection",u.ZodTuple="ZodTuple",u.ZodRecord="ZodRecord",u.ZodMap="ZodMap",u.ZodSet="ZodSet",u.ZodFunction="ZodFunction",u.ZodLazy="ZodLazy",u.ZodLiteral="ZodLiteral",u.ZodEnum="ZodEnum",u.ZodEffects="ZodEffects",u.ZodNativeEnum="ZodNativeEnum",u.ZodOptional="ZodOptional",u.ZodNullable="ZodNullable",u.ZodDefault="ZodDefault",u.ZodCatch="ZodCatch",u.ZodPromise="ZodPromise",u.ZodBranded="ZodBranded",u.ZodPipeline="ZodPipeline",u.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const Pg=(u,i={message:`Input not instance of ${u.name}`})=>Wf(a=>a instanceof u,i),Vf=Tr.create,$f=_i.create,Ig=Ao.create,Rg=wi.create,Bf=na.create,Ug=Fi.create,jg=Uo.create,Ng=ra.create,Ag=ia.create,Lg=ys.create,Mg=Di.create,Dg=ti.create,zg=jo.create,Fg=Er.create,Hg=Ft.create,qg=Ft.strictCreate,Wg=sa.create,Vg=Do.create,$g=aa.create,Bg=zr.create,Zg=oa.create,Qg=No.create,Kg=Hi.create,Jg=ms.create,Gg=ua.create,Yg=la.create,Xg=ki.create,em=ca.create,tm=_s.create,Cf=Or.create,nm=Mr.create,rm=xi.create,im=Or.createWithPreprocess,sm=ma.create,am=()=>Vf().optional(),om=()=>$f().optional(),um=()=>Bf().optional(),lm={string:u=>Tr.create({...u,coerce:!0}),number:u=>_i.create({...u,coerce:!0}),boolean:u=>na.create({...u,coerce:!0}),bigint:u=>wi.create({...u,coerce:!0}),date:u=>Fi.create({...u,coerce:!0})},cm=Xe;var Pf=Object.freeze({__proto__:null,defaultErrorMap:vs,setErrorMap:ig,getErrorMap:Po,makeIssue:Io,EMPTY_PATH:sg,addIssueToContext:Re,ParseStatus:wn,INVALID:Xe,DIRTY:gs,OK:On,isAborted:kl,isDirty:xl,isValid:zi,isAsync:ta,get util(){return _t},get objectUtil(){return wl},ZodParsedType:Ne,getParsedType:ei,ZodType:ct,datetimeRegex:Hf,ZodString:Tr,ZodNumber:_i,ZodBigInt:wi,ZodBoolean:na,ZodDate:Fi,ZodSymbol:Uo,ZodUndefined:ra,ZodNull:ia,ZodAny:ys,ZodUnknown:Di,ZodNever:ti,ZodVoid:jo,ZodArray:Er,ZodObject:Ft,ZodUnion:sa,ZodDiscriminatedUnion:Do,ZodIntersection:aa,ZodTuple:zr,ZodRecord:oa,ZodMap:No,ZodSet:Hi,ZodFunction:ms,ZodLazy:ua,ZodLiteral:la,ZodEnum:ki,ZodNativeEnum:ca,ZodPromise:_s,ZodEffects:Or,ZodTransformer:Or,ZodOptional:Mr,ZodNullable:xi,ZodDefault:da,ZodCatch:fa,ZodNaN:Ao,BRAND:Og,ZodBranded:Tl,ZodPipeline:ma,ZodReadonly:pa,custom:Wf,Schema:ct,ZodSchema:ct,late:Cg,get ZodFirstPartyTypeKind(){return Ge},coerce:lm,any:Lg,array:Fg,bigint:Rg,boolean:Bf,date:Ug,discriminatedUnion:Vg,effect:Cf,enum:Xg,function:Jg,instanceof:Pg,intersection:$g,lazy:Gg,literal:Yg,map:Qg,nan:Ig,nativeEnum:em,never:Dg,null:Ag,nullable:rm,number:$f,object:Hg,oboolean:um,onumber:om,optional:nm,ostring:am,pipeline:sm,preprocess:im,promise:tm,record:Zg,set:Kg,strictObject:qg,string:Vf,symbol:jg,transformer:Cf,tuple:Bg,undefined:Ng,union:Wg,unknown:Mg,void:zg,NEVER:cm,ZodIssueCode:we,quotelessJson:rg,ZodError:Gn});const dm="",Zf=`https://cloud-iam.oidc-spa.dev${dm}`,Qf="oidc-spa",{OidcProvider:fm,useOidc:pm,getOidc:vm}=ng.createReactOidc({issuerUri:`${Zf}/realms/${Qf}`,clientId:"impersonation-test",decodedIdTokenSchema:Pf.object({preferred_username:Pf.string()}),BASE_URL:"/",isAuthGloballyRequired:!0,doEnableDebugLogs:!0});function hm(u){const{user:i,redirectUrl:a}=u,l=new URL(`${Zf}/admin/${Qf}/console`);return l.searchParams.append("impersonate.user",i),l.searchParams.append("impersonate.redirectUrl",a),l.href}function gm(){return _n.jsx(fm,{children:_n.jsx(mm,{})})}const Kf="alice",Jf="https://example-tanstack-router.oidc-spa.dev",If=hm({user:Kf,redirectUrl:Jf});function mm(){const{logout:u,oidcTokens:i}=pm();return _n.jsxs(_n.Fragment,{children:[_n.jsxs("h1",{children:["Hello ",i.decodedIdToken.preferred_username]}),_n.jsx("br",{}),_n.jsxs("p",{children:[" Click on the following link to impersonate ",_n.jsx("code",{children:Kf})," on ",_n.jsx("code",{children:Jf})]}),_n.jsx("br",{}),_n.jsx("a",{href:If,children:If}),_n.jsx("br",{}),_n.jsx("br",{}),_n.jsx("button",{onClick:()=>u({redirectTo:"home"}),children:"Logout"})]})}jh.createRoot(document.getElementById("root")).render(_n.jsx(Eh.StrictMode,{children:_n.jsx(gm,{})}));
